GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 12:55:50 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  *Created by xinda ke in 7/20/2016
   2  * this code is to extract data from gdx
   3  *updated by xinda ke in 7/24/2016
   4   
   5  *==== SECTION: Data (pre) declaration
   6  sets
   7  * New sets
   8      conj /real,imag/
   9      costcoefset "Placeholder set for quadratic function coefficients (0,1,
      2)" /0*2/
  10      costptset "Placeholder set for pwl function pieces"  /1*40/
  11   
  12  * Timeperiod
  13      t /%timeperiod%/,
****         $338       $508
  14  * Dataset sets
  15      bus, gen, circuit, nongen, solarbus,
  16      interface, interfacemap (interface,bus,bus),
  17      demandbid, demandbidmap,
  18      fuel_t, fuel_s, prime_mover,
  19      bus_t, bus_s,
  20      gen_t, gen_s,
  21      branch_t, branch_s,
  22   
  23      interface_t,
  24      line(bus,bus,circuit),
  25      transformer(bus,bus,circuit),
  26      monitored_lines(bus,bus,circuit)
  27  ;
  28  set demanStep  "demandresponse-steps"  /1 * 5/;
  29  set demanRang  "demandresponse-steps"  /1 * 4/;
  30  alias(bus,i,j);
  31  alias(circuit,c);
  32  alias(gen,gen1);
  33  alias(bus_s,bus_s_0,bus_s_1,bus_s_2);
  34  parameters
  35      version, baseMVA, total_cost,Nb,
  36  * Domain info not stated because of how we iterate through data
  37       businfo(*,*,*),
  38       geninfo(*,*,*),
  39       fuelinfo(*,*),
  40       branchinfo(*,*,*,*,*),
  41       interfaceinfo(*,*,*)
  42  ;
  43  *-- Specially handled data (option specific)
  45  sets
  46    demandbid_t(*) / /
  47    demandbid_s(*) / /
  48    demandbid(*) / /
  49    demandbidmap (*,*) / /
  50  ;
  51   
  52  parameters
  53    demandbidinfo(*,*,*,*) / /
  54  ;
  56  *==== SECTION: Data read-in from input file
**** File: C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
                                                             on_ACOPF\%case%.gdx
**** Msg : No such file or directory
  57  $GDXIN %case%
****              $510
  58  $LOAD version, baseMVA, total_cost
****      $502
  59  $LOAD bus,gen, circuit,bus_s, line,transformer
****      $502
  60  $LOAD bus_t, gen_t, branch_t, branch_s
****      $502
  61  *$LOAD fuel_t, fuel_s, prime_mover
  62  $LOAD businfo, geninfo, branchinfo, fuelinfo
****      $502
  63  $LOAD interface, interfacemap, interfaceinfo
****      $502
  64  *$load bus_s, gen_s,
  65  *susceptance of switched shunt
  67   
  68   
  69  set pq  "real and reactive"  /1 * 2/;
  70  *$call 'GDXXRW input=solarbus.xlsx output=solarbus.gdx set=solarbus rng=Sh
      eet1!A1:CX1 Cdim=1';
  71   
  72   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\solarbus2.gdx
--- LOAD  solarbus = 1:solarbus
  76   
  77  * Option to use elastic demand bidding turned on
  80  *==== SECTION: Validity of options
  81  * linelimits, case insensitive
  82   
  83   
  84   
  85   
  86  * allon, case insensitive
  87  * this will allow u to turn on certain bus or circuit selectively
  90   
  91  *==== SECTION: Data Declaration (extracted/manipulated from datafile)
  92  *-- All OPF models
  93  parameters
  94    type(bus)         "bus type (probably irrelevant, but gives reference bu
      s[es])"
  95    pf(bus)           "bus demand power factor"
  96    Pd(bus)           "bus real power demand"
  97    Pd_respon_p_up(bus)   "the upper cap of real power of demand response"
  98    Pd_respon_p_down(bus)   "the downer cap of real power of demand response
      "
  99    Pd_respon_q_up(bus)   "the upper cap of reactive power of demand respons
      e"
 100    Pd_respon_q_down(bus)   "the downer cap of reactive power of demand resp
      onse"
 101    Pd_respon_location(bus) "the location of demandresponse bus, equals 1 if
       that bus has this solar"
 102    gentype(gen)      "generator if equals 1 or slack bus equals 0"
 103    Pg(gen)           "gen real power output"
 104    PgSch(gen)        "gen scheduled power output"
 105    Pmax(gen)         "gen maximum real power output"
 106    Pmin(gen)         "gen minimum real power output"
 107    Va(bus)           "bus voltage angle"
 108    Vm(bus)           "bus voltage magnitude"
 109    MaxVm(bus)        "maximum bus voltage magnitude"
 110    MinVm(bus)        "minimum bus voltage magnitude"
 111    Gs(bus)           "bus shunt conductance"
 112    solar_r(bus)  "solar real power"
 113    dis_gen_par1(bus)      "distributed generator parameter 1"
 114    dis_gen_par2(bus)      "distributed generator parameter 1"
 115    dis_gen_par3(bus)      "distributed generator parameter 1"
 116    atBus(gen,bus)    "Location of generator"
 117    status(gen)       "generator status"
 118    status2(gen,bus)   "Online generator status marked for all bus"
 119    Vsch(bus)          "generator voltage schedule"
 120    r(i,j,c)          "line resistance"
 121    x(i,j,c)          "line reactance"
 122    B(i,j,c)          "line susceptance"
 123    ratio(i,j,c)      "transformer tap ratio",
 124    angle(i,j,c)      "transformer tap angle",
 125    rateA(i,j,c)      "line power limits (MW)",
 126    currentrate(i,j,c)  "line current limits",
 127    branchstatus(i,j,c) "line status",
 128    interfaceLimit(interface) "Limit on power across each interface"
 129    solarlocation(solarbus,bus)  "the location of solar bus"
 130    contro_solar_location(bus) "the location of controllable solar bus, equa
      ls 1 if that bus has this solar"
 131    csolar_Q_limit_up(bus) "the location of controllable solar bus, equals 1
       if that bus has this solar"
 132    csolar_Q_limit_down(bus) "the location of controllable solar bus, equals
       1 if that bus has this solar"
 133    contro_solar_pout(bus)   "the real power output of curtailable solar bus
      "
 134    Qd(bus)           "bus reactive power demand"
 135    Qg(gen)           "gen reactive power output"
 136    Qmax(gen)         "gen maximum reactive power output"
 137    Qmin(gen)         "gen minimum reactive power output"
 138    Bs(bus)           "bus shunt susceptance"
 139    yb(i,j,conj)      "Bus admittance matrix, Ybus"
 140    g(i,j,c)          "line conductance"
 141    bc(i,j,c)         "line charging susceptance"
 142    Bswitched(bus,bus_s)     "susceptance of switched shunts",
 143    numBswitched(bus,bus_s)  "number of each type of switched shunt elements
       at each bus"
 144  *  switchedShuntB_init(bus,bus_s) "initial value of switched shunt suscept
      ance"
 145    switchedShuntB_init(bus) "initial value of switched shunt susceptance"
 146    numShuntStepsOn_init(bus,bus_s) "initial number of switched shunt steps 
      on"
 147    demLoad(demanStep) "demandresponse load"
 148    demPrice(demanStep) "demandresponse price"
 149    demSlope(demanStep) "slope"
 150    demLocation(bus)      "location of demand response"
 151  ;
 152   
 153   
 154   
 155   
 156  *r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
 157  *x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
 158  *branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','%timep
      eriod%');
 159   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\geni_st.gdx
--- LOAD  status = 1:status
 161  $LOAD status
****             $361
**** LINE    165 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 163   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demand_response.gdx
--- LOAD  Pd_respon_location = 5:Pd_respon_location
--- LOAD  Pd_respon_p_down = 2:Pd_respon_p_down
--- LOAD  Pd_respon_q_down = 4:Pd_respon_q_down
--- LOAD  Pd_respon_p_up = 1:Pd_respon_p_up
--- LOAD  Pd_respon_q_up = 3:Pd_respon_q_up
 165  $LOAD Pd_respon_location, Pd_respon_p_down, Pd_respon_q_down, Pd_respon_p_
****                         $361              $361              $361           
      up, Pd_respon_q_up
       $361            $361
**** LINE    169 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 167   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demandresponseload.gdx
--- LOAD  demLoad = 1:demLoad
 171   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demandresponseprice.gdx
--- LOAD  demPrice = 1:demPrice
 175  demLocation('18')=1;
****                 $353
**** LINE    179 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 176   
 177  display demLoad,demPrice,demLocation;
 178  demLoad(demanStep)=demLoad(demanStep)/baseMVA;
****                                              $141
**** LINE    182 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 179  demSlope(demanStep)$(ord(demanStep) > 1)= (demLoad(demanStep)-demLoad(dema
      nStep-1) )/ (demPrice(demanStep)-demPrice(demanStep-1) )
 180   
 181   
 182   
 183  display demLoad,demPrice,demLocation,demSlope;
 184  dis_gen_par1('13')=0.25;
****                  $353
**** LINE    188 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 185  dis_gen_par1('57')=0.31;
****                  $353
**** LINE    189 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 186  dis_gen_par2('13')=15.6;
****                  $353
**** LINE    190 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 187  dis_gen_par2('57')=29.7;
****                  $353
**** LINE    191 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 188  dis_gen_par3('13')=330;
****                  $353
**** LINE    192 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 189  dis_gen_par3('57')=300;
****                  $353
**** LINE    193 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 190   
 192  Pd_respon_p_down(bus)= Pd_respon_p_down(bus)/baseMVA;
****                     $352                   $352
**** LINE    201 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 193  Pd_respon_q_down(bus)$Pd_respon_q_down(bus)= Pd_respon_q_down(bus)/Pd_resp
****                     $352                  $352                   $352      
      on_p_down(bus)/baseMVA;
                  $352
**** LINE    202 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 194  *Pd_respon_q_down(bus)= Pd_respon_q_down(bus)/baseMVA;
 195  Pd_respon_p_up(bus)= Pd_respon_p_up(bus)/baseMVA;
****                   $352                 $352
**** LINE    204 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 196  *Pd_respon_q_up(bus)=Pd_respon_q_up(bus)/baseMVA;
 197  Pd_respon_q_up(bus)$Pd_respon_q_up(bus)= Pd_respon_q_up(bus)/Pd_respon_p_u
****                   $352                $352                 $352            
      p(bus)/baseMVA;
          $352
**** LINE    206 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 199   
 200   
 201   
**** File: C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
                                                      on_ACOPF\solar_control.gdx
**** Msg : No such file or directory
 203  $GDXIN solar_control.gdx
****                         $510
**** LINE    215 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 204  $LOAD contro_solar_pout, contro_solar_location
****      $502
**** LINE    216 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 206  * to per unit
 207  contro_solar_pout(bus)=contro_solar_pout(bus)/baseMVA;
****                      $352               $141$352
**** LINE    219 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 208   
 210   
 212   
**** File: C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
                                                on_ACOPF\solar_controlQlimit.gdx
**** Msg : No such file or directory
 213  $GDXIN solar_controlQlimit.gdx
****                               $510
**** LINE    233 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 214  $LOAD csolar_Q_limit_up, csolar_Q_limit_down
****      $502
**** LINE    234 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 217  *to per unit
 218  csolar_Q_limit_up(bus) =csolar_Q_limit_up(bus)/baseMVA;
****                      $352                $141$352
**** LINE    238 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 219  csolar_Q_limit_down(bus) =csolar_Q_limit_down(bus)/baseMVA;
****                        $352                  $141$352
**** LINE    239 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 220   
 221  * trying to replace the input file in the gdx above using wisconsin gdx
 222  *solar section
 223  *$call 'GDXXRW input=solar_s.xlsx output=solar_s.gdx par=solar_s rng=Sheet
      1!B1:CX2 Cdim=1';
 224  *$call 'GDXXRW input=solarindex.xlsx output=solarlocation.gdx par=solarloc
      ation rng=Sheet1!B1:CX3 Cdim=2 ';
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\solarlocation.gdx
--- LOAD  solarlocation = 1:solarlocation
 226  $LOAD solarlocation
****                    $362
**** LINE    246 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 228  * Bus type
 229  type(bus) = businfo(bus,'type','given');
****         $352       $141$352   $116    $116
**** LINE    249 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 230  atBus(gen,bus)$geninfo(gen,'atBus',bus) = 1;
****          $352$352     $141$352    $116$352
**** LINE    250 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 231  Pmax(gen) = geninfo(gen,'Pmax','given')/baseMVA;
****         $352           $352   $116
**** LINE    251 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 232  Pmin(gen) = geninfo(gen,'Pmin','given')/baseMVA;
****         $352           $352   $116
**** LINE    252 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 233  Qmax(gen) = geninfo(gen,'Qmax','given')/baseMVA;
****         $352           $352   $116
**** LINE    253 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 234  Qmin(gen) = geninfo(gen,'Qmin','given')/baseMVA;
****         $352           $352   $116
**** LINE    254 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 235   
 236   
 237  *gentype  generator if equals 1 or slack bus equals 0
 238  gentype(gen)=1$(sum(bus$(atBus(gen,bus)), type(bus) eq 2));
****            $352        $352       $352$352        $352
**** LINE    258 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 239  Vsch(bus)$(sum(gen,atBus(gen,bus)) > 0)=sum(gen$(atBus(gen,bus)), geninfo(
****         $352      $352      $352$352           $352       $352$352         
      gen,'Vg','given'))/ sum(gen, atBus(gen,bus));
        $352 $116               $300
**** LINE    259 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 240  * Line resistance (r) and reactance (x)
 241  r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
****    $352,352,352,141,352,352,352  $141,352,300
**** LINE    261 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 242  x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
****    $352,352,352$352,352,352        $352,352,352,300
**** LINE    262 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 243  r(j,i,c)$r(i,j,c) = r(i,j,c);
****    $352,352,352,352,352,352,352,352,352
**** LINE    263 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 244  x(j,i,c)$x(i,j,c) = x(i,j,c);
****    $352,352,352,352,352,352,352,352,352
**** LINE    264 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 245  * line charging conductance
 246  bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
****     $352,352,352$352,352,352        $352,352,352,300
**** LINE    266 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 247  bc(j,i,c)$(bc(i,j,c)) = bc(i,j,c);
****     $352,352,352,352,352,352$352,352,352
**** LINE    267 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 248  * transformer tap ratios and angles
 249  ratio(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'ratio','given');
****        $352,352,352$352,352,352        $352,352,352$300
**** LINE    269 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 250  ratio(j,i,c)$(ratio(i,j,c)) =  1/ratio(i,j,c);
****        $352,352,352  $352,352,352       $352,352,352
**** LINE    270 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 251  * TODO is this right?
 252  * should we have 1/ratio and -angle? or
 253  * ratio and angle?
 254  * original was ratio and -angle, which makes no sense
 255  *CHECK the angle is all zero in 118 system, should be checked in other sys
      tem
 256  angle(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'angle','given') * pi/180;
****        $352,352,352$352,352,352        $352,352,352$300
**** LINE    276 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 257  * TODO is this right?
 258  angle(j,i,c)$(angle(i,j,c)) = -angle(i,j,c);
****        $352,352,352  $352,352,352     $352,352,352
**** LINE    278 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 259  *TODO the time step for branchstatus
 260  *time step has checked with Sidhart
 261  branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','1');
****               $352,352,352$352,352,352        $352,352,352       $300
**** LINE    281 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 262  * Bus shunt conductance and susceptance
 263  * in the 118 system fixed shunt elements all got replaced by switched shun
      t elements
 264  Gs(bus) = businfo(bus,'Gs','given')/baseMVA;
****       $352           $352 $116
**** LINE    284 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 265  Bs(bus) = businfo(bus,'Bs','given')/baseMVA;
****       $352           $352 $116
**** LINE    285 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 266   
 267  * add the input replacement above
 268   
 269  status2(gen,bus) = 1$(atBus(gen,bus) and status(gen) eq 1 );
****            $352$352            $352$352            $352
**** LINE    289 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\UC_OPF_load_elwi_BV.gdx
--- LOAD  Pd = 1:Pd
 271  $LOAD Pd
****         $361
**** LINE    291 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 273   
 274  Pd(bus) =Pd(bus)/baseMVA;
****       $352     $352
**** LINE    294 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 275   
 276   
 277  * Voltage angle
 278  Va(bus) = businfo(bus,'Va','1')*pi/180;
****       $352           $352 $116
**** LINE    298 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 279  *Va(bus) = 0;
 280  *Voltage magnitude information
 281  Vm(bus) = businfo(bus,'Vm','1');
****       $352           $352 $116
**** LINE    301 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 282  *Vm(bus) = 1;
 283  maxVm(bus) = businfo(bus,'maxVm','given');
****          $352           $352    $116
**** LINE    303 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 284  minVm(bus) = businfo(bus,'minVm','given');
****          $352           $352    $116
**** LINE    304 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 285   
 286  * Initial branch status (active/not connected)
 287   
 288  * Define original cost model in dataset
 289  * If linelimits=inf, no monitored lines
 291   
 292  * Limit on power across each interface
 293  *interfaceLimit(interface) = interfaceinfo(interface,'%timeperiod%','rateA
      ')/baseMVA;
 294   
 295  * Line current
 296  *currentrate(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'currentrateA','%lineli
      mits%');
 297  *currentrate(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'currentrateA','%line
      limits%');
 298   
 299  * Take down all lines to buses marked as "isolated"
 300  branchstatus(i,j,c)$(type(i) eq 4 or type(j) eq 4) = 0;
****               $352,352,352 $352            $352
**** LINE    320 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 301   
 302  * Line susceptance
 303  B(i,j,c)$line(i,j,c) = -x(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
****    $352,352,352$352,352,352$352,352,352  $300
**** LINE    323 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 304  B(j,i,c)$(b(i,j,c)) = b(i,j,c);
****    $352,352,352,352,352,352,352,352,352
**** LINE    324 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 305   
 306   
 307   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\geni_p.gdx
--- LOAD  PgSch = 1:PgSch
 309  $LOAD PgSch
****            $361
**** LINE    329 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 311  PgSch(gen) =PgSch(gen)/baseMVA;
****          $352        $352
**** LINE    331 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 312  *starting searching point of generator real power output, might need obtai
      ned from input data
 313  Pg(gen)=PgSch(gen);
****       $352       $352
**** LINE    333 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 314  *generator scheduled volage output
 315   
 316   
 317  * Line limit (active power)
 318  *line limit is disabled to match Matpower
 319  *rateA(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'rateA','%linelimits%')/baseM
      VA;
 320  *rateA(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'rateA','%linelimits%')/bas
      eMVA;
 321   
 322   
 323   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\UC_OPF_load_elwi_Q.gdx
--- LOAD  Qd = 1:Qd
 325  $LOAD Qd
****         $361
**** LINE    345 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 327  Qd(bus) =Qd(bus)/baseMVA;
****       $352     $352
**** LINE    347 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 328   
 329   
 330   
 331   
 332  *$GDXIN geni_q.gdx
 333  *$LOAD Qg
 334  *$GDXIN
 335  *Qg(gen) =Qg(gen)/baseMVA;
 336  *Qg is zero from gdx.
 337  Qg(gen)=geninfo(gen,'Qg','1')/baseMVA;
****       $352         $352 $116
**** LINE    357 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 338   
 339  * Bus shunt conductance and susceptance
 340   
 341   
 342  * line conductance
 343  g(i,j,c)$line(i,j,c) =  r(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
****    $352,352,352$352,352,352$352,352,352  $300
**** LINE    363 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 344  g(j,i,c)$(g(i,j,c)) = g(i,j,c);
****    $352,352,352,352,352,352,352,352,352
**** LINE    364 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 345   
 346   
 347   
 348   
 349  * line charging conductance
 350  *bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
 351   
 352   
 353  * number and susceptance of switched shunt element data
 354  * number of steps in each switched shunt
 355  numBswitched(bus,bus_s) =
****                 $352  $352
**** LINE    375 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 356    businfo(bus,'switchedelements',bus_s)
****              $352               $116  $352
**** LINE    376 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 357  *  $(
 358  *    businfo(bus,'SwSh_Stat','given') = 1 and
 359  *    businfo(bus,'MODSW','given') = 1 and
 360  *    businfo(bus,'SwSh_RMPCT','given') = 100)
 361      ;
 362  * step size in each switched shunt
 363  Bswitched(bus,bus_s)$numBswitched(bus,bus_s) =
****              $352  $352              $352  $352
**** LINE    383 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 364    businfo(bus,'switchedBs',bus_s)/baseMVA;
****              $352         $116  $352
**** LINE    384 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 365  * switched shunt susceptance in a prior solution
 366  switchedShuntB_init(bus)$(sum(bus_s,numBswitched(bus,bus_s))) =
****                        $352        $352             $352  $352
**** LINE    386 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 367    businfo(bus,'SwSh_Stat','given')* businfo(bus,'BINIT','given')/baseMVA;
****              $352        $116                  $352    $116
**** LINE    387 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 368  *switchedShuntB_init('307723')=0;
 369  * not sure if there is any better way to set this
 370  * but we only need it for the first time step
 371  numShuntStepsOn_init(bus,bus_s)$numBswitched(bus,bus_s)
****                         $352  $352              $352  $352
**** LINE    391 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 372    = switchedshuntB_init(bus) * numBswitched(bus,bus_s)
****                            $352                $352  $352
**** LINE    392 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 373    / sum(bus_s_1, numBswitched(bus,bus_s_1) * Bswitched(bus,bus_s_1));
****                $352              $352    $352             $352    $352
**** LINE    393 INPUT       C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                             control\Distribution_ACOPF\extract_data_SunLamp_new
                             formulation_cle.gms
 374   
 375  * ==== SECTION: Additional Model Options
 376  *-- Elastic demand bidding turned on/off
 378   
 379  *-- %allon% options
 381  *branchstatus(j,i,c)$(branchstatus(i,j,c)) =  branchstatus(i,j,c);
 382  * filepath is not coming in from batinclude from iv_acopf correctly
 383  * use setnames to get it
 384  * temp_solution.gdx not found. is that OK?

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME nongen OF TYPE SET  
**** STRAY NAME fuel_t OF TYPE SET  
**** STRAY NAME fuel_s OF TYPE SET  
**** STRAY NAME prime_mover OF TYPE SET  
**** STRAY NAME bus_t OF TYPE SET  
**** STRAY NAME gen_t OF TYPE SET  
**** STRAY NAME gen_s OF TYPE SET  
**** STRAY NAME branch_t OF TYPE SET  
**** STRAY NAME branch_s OF TYPE SET  
**** STRAY NAME interface_t OF TYPE SET  
**** STRAY NAME total_cost OF TYPE PARAM
**** STRAY NAME Nb OF TYPE PARAM
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 12:55:50 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Error Messages


116  Label is unknown
141  Symbol declared but no values have been assigned. Check for missing
        data definition, assignment, data loading or implicit assignment
        via a solve statement.
        A wild shot: You may have spurious commas in the explanatory
        text of a declaration. Check symbol reference list.
300  Remaining errors not printed for this line
338  Unique element expected - symbol was not an element
        and the following text will be skipped until a proper
        symbol is found to recover. Remember that an UNQUOTED
        element has to start with a letter or digit
        followed by letters, digits, '+', '-' or '_'. The length
        is limited to 63 characters. The following words are
        reserved (starting symbols of a GAMS statement) and cannot
        be used for UNQUOTED set elements:
    
           ABORT, ACRONYM(S), ALIAS, BINARY, DISPLAY, ELSE
           EQUATION(S), EXECUTE, FILE(S), FOR, FREE, IF, INTEGER, LOOP
           MODEL(S), NEGATIVE, OPTION(S), PARAMETER(S)
           POSITIVE, PROCEDURE(S), PUT, PUTCLEAR, PUTCLOSE, PUTHD
           PUTPAGE, PUTTL, SCALAR(S), SEMICONT, SET(S), SOS1, SOS2
           TABLE, VARIABLE(S), WHILE
    
        QUOTED elements can contain any character. Single and
        double quotes can be used (starting and ending quote have
        to match).
352  Set has not been initialized
353  The domain for this index position is unknown and the element
        cannot be checked at this point. Missing data statement.
361  Values for domain 1 are unknown - no checking possible
362  Values for domain 2 are unknown - no checking possible
502  GDXIN  file not open - ignore rest of line
508  Blank needed between element and text
       (-or- illegal character in element)
510  Unable to open gdx file for $GDXIN

**** 326 ERROR(S)   0 WARNING(S)
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 12:55:50 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\extract_data_SunLamp_newformulation_
                                          cle.gms
     2       73 GDXIN          1      73  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\solarbus2.gdx
     3      160 GDXIN          1     164  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\geni_st.gdx
     4      164 GDXIN          1     168  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\demand_response.gdx
     5      168 GDXIN          1     172  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\demandresponseload.gdx
     6      172 GDXIN          1     176  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\demandresponseprice.gdx
     7      225 GDXIN          1     245  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\solarlocation.gdx
     8      270 GDXIN          1     290  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\UC_OPF_load_elwi_BV.gdx
     9      308 GDXIN          1     328  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\geni_p.gdx
    10      324 GDXIN          1     344  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\UC_OPF_load_elwi_Q.gdx


COMPILATION TIME     =        0.844 SECONDS      3 MB  24.8.5 r61358 WEX-WEI


USER: Small MUD - 5 User License                     G170430:2356CN-WIN
      Pacific Northwest National Laboratory                     DC12422


**** FILE SUMMARY

Input      C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\extract_data_SunLamp_newformulation_cle.gms
Output     C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\extract_data_SunLamp_newformulation_cle.lst

**** USER ERROR(S) ENCOUNTERED
