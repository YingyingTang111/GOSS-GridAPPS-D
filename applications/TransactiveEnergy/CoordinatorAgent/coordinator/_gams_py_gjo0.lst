GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 1
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


   2  *this file is modified by Xinda Ke from Wisconsin university IV_acopf.gms
   3  *updated by xinda ke in 8/1/2016
   4  *_______________________________________________________________________________
   5  * Filename: iv_acopf.gms
   6  * Description: AC optimal power flow model, rectangular current-voltage formulation
   7  *
   8  * Usage: gams iv_acopf.gms --case=/path/case.gdx
   9  *
  10  * Options:
  11  * --timeperiod: Select time period to solve. Default=1
  12  * --obj: Objective function, piecewise linear or quadratic. Default="quad"
  13  * --obj: Objective function, the default is to minimize for voltage deviation Default="v_dev"
  14  * --linelimits: Type of line limit data to use. Default="given"
  15  * --genPmin: Data for Generator lower limit. Default="given"
  16  * --allon: Option to turn on all gens or lines during solve. Default=none
  17  * --savesol: Turn on save solution option(1). Default=0
  18  * --verbose: Supresses printout(0). Default=1
  19  *_______________________________________________________________________________
  20   
  21   
  22   
  23   
  24   
  25   
  26   
  27  *===== SECTION: USER PARAMETERS
  28  *$include user_params.gms
  29   
  30  * switched shunt user parameters
  31  * later these will be passed in from Python
  37   
  38  * other penalty parameters
  46   
  47  * load bus voltage goal point
  48  * TODO: replace this with a gdx file containing individual goal
  49  * values for the buses
  51   
  53   
  55   
  56  * disable solar ?
  58   
  60   
  61  * disable demand response?
  63  * disable controllable solar q limit
  65  * disable solar reactive power?
  67   
  68  * disable switched shunts?
  70   
  71  * start optimization algorithm at previous solution?
  73   
  74  * initial starting point
  76   
  77  * quadratic penalty on distance to previous solution
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 2
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


  79   
  80  * use constraints in addition to variable bounds
  82   
  83  * append to report file
  85   
  86  * use pv/pq smoothing approach
  88   
  89  * pv/pq smoothing parameter
  91   
  92  * report file
  94   
  95  * write excel reports
  97   
  98  * use soft constraints for power balance
 100   
 101  * penalty parameter for soft power balance constraints
 103   
 104  *===== SECTION: DEVELOPER PARAMETERS
 105  *$include developer_params.gms
 106   
 107  * System dependence
 110   
 111  *define the path and name of case to be used
 113  *$if not set case $set  case "Dukeare342.gdx"
 114   
 115  * Printout options
 117  * Define filepath, name and extension.
 119  * Define input case
 120   
 123   
 124  *$set obj "pwl"
 125   
 126  * Default: timeperiod = 1
 128  * Default: allon=0
 130  * Default: Quadratic objective function
 132  * Default: Ignore D-curve constraints
 133  *$if not set qlim $set qlim 0
 134  * Default: elastic demand bidding does not apply here
 136  * Default: Use provided line limits (as opposed to uwcalc)
 138  * Default: Use provided generator lower limit
 140  * Default: Save solution option turned off
 142   
 144   
 145  *===== SECTION: EXTRACT DATA
 146  *$batinclude "%filepath%excel2gdx4ACOPF.gms"  excelpath solar_rp demand_P demand_Q gen_status geni_psch
BATINCLUDE /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/extract_data_SunLamp_newformulation_cle.gms
 148  *Created by xinda ke in 7/20/2016
 149  * this code is to extract data from gdx
 150  *updated by xinda ke in 7/24/2016
 151   
 152  *==== SECTION: Data (pre) declaration
 153  sets
 154  * New sets
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 3
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 155      conj /real,imag/
 156      costcoefset "Placeholder set for quadratic function coefficients (0,1,2)" /0*2/
 157      costptset "Placeholder set for pwl function pieces"  /1*40/
 158   
 159  * Timeperiod
 160      t /1/,
 161  * Dataset sets
 162      bus, gen, circuit, nongen, solarbus,
 163      interface, interfacemap (interface,bus,bus),
 164      demandbid, demandbidmap,
 165      fuel_t, fuel_s, prime_mover,
 166      bus_t, bus_s,
 167      gen_t, gen_s,
 168      branch_t, branch_s,
 169   
 170      interface_t,
 171      line(bus,bus,circuit),
 172      transformer(bus,bus,circuit),
 173      monitored_lines(bus,bus,circuit)
 174  ;
 175  set demanStep  "demandresponse-steps"  /1 * 5/;
 176  set demanRang  "demandresponse-steps"  /1 * 4/;
 177  alias(bus,i,j);
 178  alias(circuit,c);
 179  alias(gen,gen1);
 180  alias(bus_s,bus_s_0,bus_s_1,bus_s_2);
 181  parameters
 182      version, baseMVA, total_cost,Nb,
 183  * Domain info not stated because of how we iterate through data
 184       businfo(*,*,*),
 185       geninfo(*,*,*),
 186       fuelinfo(*,*),
 187       branchinfo(*,*,*,*,*),
 188       interfaceinfo(*,*,*)
 189  ;
 190  *-- Specially handled data (option specific)
 192  sets
 193    demandbid_t(*) / /
 194    demandbid_s(*) / /
 195    demandbid(*) / /
 196    demandbidmap (*,*) / /
 197  ;
 198   
 199  parameters
 200    demandbidinfo(*,*,*,*) / /
 201  ;
 203  *==== SECTION: Data read-in from input file
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/7bus.gdx
--- LOAD  version = 1:version
--- LOAD  baseMVA = 3:baseMVA
--- LOAD  total_cost = 2:total_cost
--- LOAD  bus = 6:bus
--- LOAD  gen = 7:gen
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 4
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


--- LOAD  circuit = 8:circuit
--- LOAD  bus_s = 17:bus_s
--- LOAD  line = 9:line
--- LOAD  transformer = 10:transformer
--- LOAD  bus_t = 16:bus_t
--- LOAD  gen_t = 18:gen_t
--- LOAD  branch_t = 20:branch_t
--- LOAD  branch_s = 21:branch_s
 208  *$LOAD fuel_t, fuel_s, prime_mover
--- LOAD  businfo = 28:businfo
--- LOAD  geninfo = 29:geninfo
--- LOAD  branchinfo = 30:branchinfo
--- LOAD  fuelinfo = 33:fuelinfo
--- LOAD  interface = 14:interface
--- LOAD  interfacemap = 15:interfacemap
--- LOAD  interfaceinfo = 32:interfaceinfo
 211  *$load bus_s, gen_s,
 212  *susceptance of switched shunt
 214   
 215   
 216  set pq  "real and reactive"  /1 * 2/;
 217  *$call 'GDXXRW input=solarbus.xlsx output=solarbus.gdx set=solarbus rng=Sheet1!A1:CX1 Cdim=1';
 218   
 219   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solarbus2.gdx
--- LOAD  solarbus = 1:solarbus
 223   
 224  * Option to use elastic demand bidding turned on
 227  *==== SECTION: Validity of options
 228  * linelimits, case insensitive
 229   
 230   
 231   
 232   
 233  * allon, case insensitive
 234  * this will allow u to turn on certain bus or circuit selectively
 237   
 238  *==== SECTION: Data Declaration (extracted/manipulated from datafile)
 239  *-- All OPF models
 240  parameters
 241    type(bus)         "bus type (probably irrelevant, but gives reference bus[es])"
 242    pf(bus)           "bus demand power factor"
 243    Pd(bus)           "bus real power demand"
 244    Pd_respon_p_up(bus)   "the upper cap of real power of demand response"
 245    Pd_respon_p_down(bus)   "the downer cap of real power of demand response"
 246    Pd_respon_q_up(bus)   "the upper cap of reactive power of demand response"
 247    Pd_respon_q_down(bus)   "the downer cap of reactive power of demand response"
 248    Pd_respon_location(bus) "the location of demandresponse bus, equals 1 if that bus has this solar"
 249    gentype(gen)      "generator if equals 1 or slack bus equals 0"
 250    Pg(gen)           "gen real power output"
 251    PgSch(gen)        "gen scheduled power output"
 252    Pmax(gen)         "gen maximum real power output"
 253    Pmin(gen)         "gen minimum real power output"
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 5
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 254    Va(bus)           "bus voltage angle"
 255    Vm(bus)           "bus voltage magnitude"
 256    MaxVm(bus)        "maximum bus voltage magnitude"
 257    MinVm(bus)        "minimum bus voltage magnitude"
 258    Gs(bus)           "bus shunt conductance"
 259    solar_r(bus)  "solar real power"
 260    dis_gen_par1(bus)      "distributed generator parameter 1"
 261    dis_gen_par2(bus)      "distributed generator parameter 1"
 262    dis_gen_par3(bus)      "distributed generator parameter 1"
 263    atBus(gen,bus)    "Location of generator"
 264    status(gen)       "generator status"
 265    status2(gen,bus)   "Online generator status marked for all bus"
 266    Vsch(bus)          "generator voltage schedule"
 267    r(i,j,c)          "line resistance"
 268    x(i,j,c)          "line reactance"
 269    B(i,j,c)          "line susceptance"
 270    ratio(i,j,c)      "transformer tap ratio",
 271    angle(i,j,c)      "transformer tap angle",
 272    rateA(i,j,c)      "line power limits (MW)",
 273    currentrate(i,j,c)  "line current limits",
 274    branchstatus(i,j,c) "line status",
 275    interfaceLimit(interface) "Limit on power across each interface"
 276    solarlocation(solarbus,bus)  "the location of solar bus"
 277    contro_solar_location(bus) "the location of controllable solar bus, equals 1 if that bus has this solar"
 278    csolar_Q_limit_up(bus) "the location of controllable solar bus, equals 1 if that bus has this solar"
 279    csolar_Q_limit_down(bus) "the location of controllable solar bus, equals 1 if that bus has this solar"
 280    contro_solar_pout(bus)   "the real power output of curtailable solar bus"
 281    Qd(bus)           "bus reactive power demand"
 282    Qg(gen)           "gen reactive power output"
 283    Qmax(gen)         "gen maximum reactive power output"
 284    Qmin(gen)         "gen minimum reactive power output"
 285    Bs(bus)           "bus shunt susceptance"
 286    yb(i,j,conj)      "Bus admittance matrix, Ybus"
 287    g(i,j,c)          "line conductance"
 288    bc(i,j,c)         "line charging susceptance"
 289    Bswitched(bus,bus_s)     "susceptance of switched shunts",
 290    numBswitched(bus,bus_s)  "number of each type of switched shunt elements at each bus"
 291  *  switchedShuntB_init(bus,bus_s) "initial value of switched shunt susceptance"
 292    switchedShuntB_init(bus) "initial value of switched shunt susceptance"
 293    numShuntStepsOn_init(bus,bus_s) "initial number of switched shunt steps on"
 294    demLoad(demanStep) "demandresponse load"
 295    demPrice(demanStep) "demandresponse price"
 296    demSlope(demanStep) "slope"
 297    demLocation(bus)      "location of demand response"
 298  ;
 299   
 300   
 301   
 302   
 303  *r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
 304  *x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
 305  *branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','%timeperiod%');
 306   
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 6
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/geni_st.gdx
--- LOAD  status = 1:status
 310   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demand_response.gdx
--- LOAD  Pd_respon_location = 5:Pd_respon_location
--- LOAD  Pd_respon_p_down = 2:Pd_respon_p_down
--- LOAD  Pd_respon_q_down = 4:Pd_respon_q_down
--- LOAD  Pd_respon_p_up = 1:Pd_respon_p_up
--- LOAD  Pd_respon_q_up = 3:Pd_respon_q_up
 314   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demandresponseload.gdx
--- LOAD  demLoad = 1:demLoad
 318   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demandresponseprice.gdx
--- LOAD  demPrice = 1:demPrice
 322  demLocation('18')=1;
 323   
 324  demLoad(demanStep)=demLoad(demanStep)/baseMVA;
 325  demSlope(demanStep)$(ord(demanStep) > 1)= -(demPrice(demanStep)-demPrice(demanStep-1) ) /(demLoad(demanStep)-demLoad(demanStep-1) )
 326   
 327   
 328   
 329  display demLoad,demPrice,demLocation,demSlope;
 330  dis_gen_par1('13')=0.25;
 331  dis_gen_par1('57')=0.31;
 332  dis_gen_par2('13')=15.6;
 333  dis_gen_par2('57')=29.7;
 334  dis_gen_par3('13')=330;
 335  dis_gen_par3('57')=300;
 336   
 338  Pd_respon_p_down(bus)= Pd_respon_p_down(bus)/baseMVA;
 339  Pd_respon_q_down(bus)$Pd_respon_q_down(bus)= Pd_respon_q_down(bus)/Pd_respon_p_down(bus)/baseMVA;
 340  *Pd_respon_q_down(bus)= Pd_respon_q_down(bus)/baseMVA;
 341  Pd_respon_p_up(bus)= Pd_respon_p_up(bus)/baseMVA;
 342  *Pd_respon_q_up(bus)=Pd_respon_q_up(bus)/baseMVA;
 343  Pd_respon_q_up(bus)$Pd_respon_q_up(bus)= Pd_respon_q_up(bus)/Pd_respon_p_up(bus)/baseMVA;
 345   
 346   
 347   
 349  contro_solar_pout(bus)=0;
 350  contro_solar_location(bus)=0;
 352   
 354  csolar_Q_limit_up(bus)=0;
 355  csolar_Q_limit_down(bus)=0;
 356  contro_solar_location(bus)=0;
 358  *to per unit
 359  csolar_Q_limit_up(bus) =csolar_Q_limit_up(bus)/baseMVA;
 360  csolar_Q_limit_down(bus) =csolar_Q_limit_down(bus)/baseMVA;
 361   
 362  * trying to replace the input file in the gdx above using wisconsin gdx
 363  *solar section
 364  *$call 'GDXXRW input=solar_s.xlsx output=solar_s.gdx par=solar_s rng=Sheet1!B1:CX2 Cdim=1';
 365  *$call 'GDXXRW input=solarindex.xlsx output=solarlocation.gdx par=solarlocation rng=Sheet1!B1:CX3 Cdim=2 ';
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 7
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solarlocation.gdx
--- LOAD  solarlocation = 1:solarlocation
 369  * Bus type
 370  type(bus) = businfo(bus,'type','given');
 371  atBus(gen,bus)$geninfo(gen,'atBus',bus) = 1;
 372  Pmax(gen) = geninfo(gen,'Pmax','given')/baseMVA;
 373  Pmin(gen) = geninfo(gen,'Pmin','given')/baseMVA;
 374  Qmax(gen) = geninfo(gen,'Qmax','given')/baseMVA;
 375  Qmin(gen) = geninfo(gen,'Qmin','given')/baseMVA;
 376   
 377   
 378  *gentype  generator if equals 1 or slack bus equals 0
 379  gentype(gen)=1$(sum(bus$(atBus(gen,bus)), type(bus) eq 2));
 380  Vsch(bus)$(sum(gen,atBus(gen,bus)) > 0)=sum(gen$(atBus(gen,bus)), geninfo(gen,'Vg','given'))/ sum(gen, atBus(gen,bus));
 381  * Line resistance (r) and reactance (x)
 382  r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
 383  x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
 384  r(j,i,c)$r(i,j,c) = r(i,j,c);
 385  x(j,i,c)$x(i,j,c) = x(i,j,c);
 386  * line charging conductance
 387  bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
 388  bc(j,i,c)$(bc(i,j,c)) = bc(i,j,c);
 389  * transformer tap ratios and angles
 390  ratio(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'ratio','given');
 391  ratio(j,i,c)$(ratio(i,j,c)) =  1/ratio(i,j,c);
 392  * TODO is this right?
 393  * should we have 1/ratio and -angle? or
 394  * ratio and angle?
 395  * original was ratio and -angle, which makes no sense
 396  *CHECK the angle is all zero in 118 system, should be checked in other system
 397  angle(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'angle','given') * pi/180;
 398  * TODO is this right?
 399  angle(j,i,c)$(angle(i,j,c)) = -angle(i,j,c);
 400  *TODO the time step for branchstatus
 401  *time step has checked with Sidhart
 402  branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','1');
 403  * Bus shunt conductance and susceptance
 404  * in the 118 system fixed shunt elements all got replaced by switched shunt elements
 405  Gs(bus) = businfo(bus,'Gs','given')/baseMVA;
 406  Bs(bus) = businfo(bus,'Bs','given')/baseMVA;
 407   
 408  * add the input replacement above
 409   
 410  status2(gen,bus) = 1$(atBus(gen,bus) and status(gen) eq 1 );
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/UC_OPF_load_elwi_BV.gdx
--- LOAD  Pd = 1:Pd
 414   
 415  Pd(bus) =Pd(bus)/baseMVA;
 416   
 417   
 418  * Voltage angle
 419  Va(bus) = businfo(bus,'Va','1')*pi/180;
 420  *Va(bus) = 0;
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 8
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 421  *Voltage magnitude information
 422  Vm(bus) = businfo(bus,'Vm','1');
 423  *Vm(bus) = 1;
 424  maxVm(bus) = businfo(bus,'maxVm','given');
 425  minVm(bus) = businfo(bus,'minVm','given');
 426   
 427  * Initial branch status (active/not connected)
 428   
 429  * Define original cost model in dataset
 430  * If linelimits=inf, no monitored lines
 432   
 433  * Limit on power across each interface
 434  *interfaceLimit(interface) = interfaceinfo(interface,'%timeperiod%','rateA')/baseMVA;
 435   
 436  * Line current
 437  *currentrate(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'currentrateA','%linelimits%');
 438  *currentrate(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'currentrateA','%linelimits%');
 439   
 440  * Take down all lines to buses marked as "isolated"
 441  branchstatus(i,j,c)$(type(i) eq 4 or type(j) eq 4) = 0;
 442   
 443  * Line susceptance
 444  B(i,j,c)$line(i,j,c) = -x(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
 445  B(j,i,c)$(b(i,j,c)) = b(i,j,c);
 446   
 447   
 448   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/geni_p.gdx
--- LOAD  PgSch = 1:PgSch
 452  PgSch(gen) =PgSch(gen)/baseMVA;
 453  *starting searching point of generator real power output, might need obtained from input data
 454  Pg(gen)=PgSch(gen);
 455  *generator scheduled volage output
 456   
 457   
 458  * Line limit (active power)
 459  *line limit is disabled to match Matpower
 460  *rateA(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'rateA','%linelimits%')/baseMVA;
 461  *rateA(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'rateA','%linelimits%')/baseMVA;
 462   
 463   
 464   
GDXIN   /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/UC_OPF_load_elwi_Q.gdx
--- LOAD  Qd = 1:Qd
 468  Qd(bus) =Qd(bus)/baseMVA;
 469   
 470   
 471   
 472   
 473  *$GDXIN geni_q.gdx
 474  *$LOAD Qg
 475  *$GDXIN
 476  *Qg(gen) =Qg(gen)/baseMVA;
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                      10/28/17 19:27:19 Page 9
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 477  *Qg is zero from gdx.
 478  Qg(gen)=geninfo(gen,'Qg','1')/baseMVA;
 479   
 480  * Bus shunt conductance and susceptance
 481   
 482   
 483  * line conductance
 484  g(i,j,c)$line(i,j,c) =  r(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
 485  g(j,i,c)$(g(i,j,c)) = g(i,j,c);
 486   
 487   
 488   
 489   
 490  * line charging conductance
 491  *bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
 492   
 493   
 494  * number and susceptance of switched shunt element data
 495  * number of steps in each switched shunt
 496  numBswitched(bus,bus_s) =
 497    businfo(bus,'switchedelements',bus_s)
 498  *  $(
 499  *    businfo(bus,'SwSh_Stat','given') = 1 and
 500  *    businfo(bus,'MODSW','given') = 1 and
 501  *    businfo(bus,'SwSh_RMPCT','given') = 100)
 502      ;
 503  * step size in each switched shunt
 504  Bswitched(bus,bus_s)$numBswitched(bus,bus_s) =
 505    businfo(bus,'switchedBs',bus_s)/baseMVA;
 506  * switched shunt susceptance in a prior solution
 507  switchedShuntB_init(bus)$(sum(bus_s,numBswitched(bus,bus_s))) =
 508    businfo(bus,'SwSh_Stat','given')* businfo(bus,'BINIT','given')/baseMVA;
 509  *switchedShuntB_init('307723')=0;
 510  * not sure if there is any better way to set this
 511  * but we only need it for the first time step
 512  numShuntStepsOn_init(bus,bus_s)$numBswitched(bus,bus_s)
 513    = switchedshuntB_init(bus) * numBswitched(bus,bus_s)
 514    / sum(bus_s_1, numBswitched(bus,bus_s_1) * Bswitched(bus,bus_s_1));
 515   
 516  * ==== SECTION: Additional Model Options
 517  *-- Elastic demand bidding turned on/off
 519   
 520  *-- %allon% options
 522  *branchstatus(j,i,c)$(branchstatus(i,j,c)) =  branchstatus(i,j,c);
 523  * filepath is not coming in from batinclude from iv_acopf correctly
 524  * use setnames to get it
 525  * temp_solution.gdx not found. is that OK?
 527  * load prior sol switched shunt settings if this is not the first time step
 529  execute_load 'switched_shunt_current.gdx', numShuntStepsOn_init=numShuntStepsOn;
 531   
 532  *===== SECTION: PARAMETERS FROM USER
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/params_from_user.gms
 534   
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 10
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 535  * switched shunt penalty parameters
 536  parameter
 537    shuntSwitchingPenalty1 /0.001/
 538    shuntSwitchingPenalty2 /1e6/
 539    shuntSwitchingTolerance /1e0/
 540    shuntSwitchingBudgetPenalty /1e6/
 541    shuntSwitchingBudget /5e0/;
 542   
 543  * other penalty parameters
 544  parameter
 545    load_bus_volt_pen_coeff_1 /1/
 546    load_bus_volt_pen_coeff_2 /0/
 547    demand_response_decrease_penalty /10/
 548    demand_response_increase_penalty /10/
 549    solar_curtail_penalty /50/
 550    generator_voltage_deviation_penalty /100000.0/
 551    previous_solution_penalty_2 /0/;
 552   
 553  * other parameters
 554  parameter
 555    previous_solution_as_start_point /0/
 556    load_bus_volt_dead_band /0.01/
 557    load_bus_voltage_goal /1.0/
 558    use_constrs /0/
 559    use_pv_pq_smoothing /0/
 560    pv_pq_smoothing_param /0.001/;
 561   
 562   
 563  *===== SECTION: MODEL PARAMETERS
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/model_params.gms
 565   
 566   
 567  * generator participation in system adjustment from real generation schedule
 568  parameter
 569    gen_participation_factor(gen);
 570   
 571  sets
 572      load(bus) "Load buses"
 573      isGen(bus) "Generator buses"
 574      activeGen(bus) "Active generator buses"
 575      isLine(i,j) "Active (i,j) line"
 576      isSolar(bus) "solar bus";
 577   
 578  * prior variable values
 579  * penalize the distance of the new solution to
 580  * these prior variables in order to promote
 581  * continuity
 582  parameter
 583      V_P_prior(gen)           "Real power generation of generator",
 584      V_Q_prior(gen)           "Reactive power generation of generator",
 585      P_S_prior(i)      "real power generation of solar bus"
 586      Q_S_prior(i)      "reactive power generation of solar bus"
 587      V_real_prior(i)          "Real part of bus voltage",
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 11
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 588      V_imag_prior(i)          "Imaginary part of bus voltage",
 589      Solar_p_curtail_prior(i)    "the amount of real power cutailed from controllable",
 590      De_response_Dec_P_prior(i)         "the decrease in demand response",
 591      De_response_Inc_P_prior(i)         "the increment in demand response"
 592      balance_real_bound
 593      balance_react_bound
 594  ;
 595   
 596  parameters
 597    saturaup(bus) "the saturation status of generator bus"
 598    saturalow(bus) "the saturation status of generator bus"
 599    genQtemp(gen)      "the reactive of generator ";
 600   
 601  scalar voltageran_low,voltageran_high,step_leng;
 602   
 603  * bus voltage target info
 604  set
 605      bus_penalize_volt_mag_target(bus) "yes if the voltage magnitude target penalty should be assessed for this bus"
 606  parameter
 607      volt_mag_target(bus) ideal voltage magnitude for each bus;
 608   
 609  * variable values, constraint violation, and objective. at start point
 610  parameter
 611  * control variables
 612      V_P_start(gen)
 613      V_Q_start(gen)
 614      P_S_start(i)
 615      Q_S_start(i)
 616      V_real_start(i)
 617      V_imag_start(i)
 618      Solar_p_curtail_start(i)
 619      De_response_Dec_P_start(i)
 620      De_response_Inc_P_start(i)
 621      V_shunt_start(bus,bus_s)
 622      V_P_system_deviation_start
 623      V_switchedshuntB_start(i)
 624  * current
 625      V_LineIr_start(i,j,c)
 626      V_LineIr_start(j,i,c)
 627      V_LineIq_start(i,j,c)
 628      V_LineIq_start(j,i,c)
 629  * losses
 630      V_Lossijc_start(i,j,c)
 631      V_Lossi_start(i)
 632  * penalties and objectives
 633      V_load_bus_volt_pen_dev_start
 634      V_load_bus_volt_pen_start
 635      V_shuntSwitching_start(i,bus_s)
 636      V_totalShuntSwitching_start
 637      V_shuntSwitchingPenalty_start(i,bus_s)
 638      V_shuntTotalSwitchingPenalty_start
 639      V_shuntSwitchingTotalPenalty_start
 640      V_previous_solution_penalty_start
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 12
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 641      V_objcost_start
 642  * variable bound violations
 643      gen_p_lo_viol_start(gen)
 644      gen_p_up_viol_start(gen)
 645      gen_q_lo_viol_start(gen)
 646      gen_q_up_viol_start(gen)
 647      solar_p_fx_viol_start(i)
 648      solar_q_up_viol_start(i)
 649      solar_q_lo_viol_start(i)
 650      solar_p_curtail_up_viol_start(bus)
 651      De_response_Inc_P_up_viol_start(bus)
 652      De_response_dec_P_lo_viol_start(bus)
 653      v_shunt_up_viol_start(bus,bus_s)
 654  * constraint violations
 655      balance_p_viol_start(i)
 656      balance_q_viol_start(i)
 657      p_generator_add_viol_start(gen)
 658      c_I_limit_viol_start(i,j,c)
 659      c_V_limit_lo_viol_start(i)
 660      c_V_limit_up_viol_start(i)
 661      v_generator_hardupl_viol_start(i)
 662      v_generator_harddownl_viol_start(i)
 663      v_under_q_up_slack_viol_start(gen)
 664      v_over_q_lo_slack_viol_start(gen)
 665  * summaries
 666      p_load_start
 667      p_gen_start
 668      p_shunt_start
 669      p_solar_start
 670      p_dr_start
 671      p_imbalance_start
 672      min_p_shortfall
 673      sum_loss_start
 674  *    v_load_bus_volt_pen_start
 675  *    v_total_shunt_switching_start
 676  *    v_shunt_switching_total_penalty_start
 677  *    v_previous_solution_penalty_start
 678  *    v_objcost_start
 679      max_gen_p_lo_viol_start
 680      max_gen_p_up_viol_start
 681      max_gen_q_lo_viol_start
 682      max_gen_q_up_viol_start
 683      max_solar_p_fx_viol_start
 684      max_solar_q_up_viol_start
 685      max_solar_q_lo_viol_start
 686      max_solar_p_curtail_up_viol_start
 687      max_De_response_Inc_P_up_viol_start
 688      max_De_response_dec_P_lo_viol_start
 689      max_v_shunt_up_viol_start
 690      max_balance_p_viol_start
 691      max_balance_q_viol_start
 692      max_p_generator_add_viol_start
 693      max_c_I_limit_viol_start
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 13
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 694      max_c_V_limit_lo_viol_start
 695      max_c_V_limit_up_viol_start
 696      max_v_generator_hardupl_viol_start
 697      max_v_generator_harddownl_viol_start
 698      max_v_under_q_up_slack_viol_start
 699      max_v_over_q_lo_slack_viol_start;
 700   
 701  * variable values, constraint violation, and objective. at solution point
 702  parameter
 703  * control variables
 704      V_P_sol(gen)
 705      V_Q_sol(gen)
 706      P_S_sol(i)
 707      Q_S_sol(i)
 708      V_real_sol(i)
 709      V_imag_sol(i)
 710      Solar_p_curtail_sol(i)
 711      De_response_Dec_P_sol(i)
 712      De_response_Inc_P_sol(i)
 713      V_shunt_sol(bus,bus_s)
 714      V_P_system_deviation_sol
 715      V_switchedshuntB_sol(i)
 716  * current
 717      V_LineIr_sol(i,j,c)
 718      V_LineIr_sol(j,i,c)
 719      V_LineIq_sol(i,j,c)
 720      V_LineIq_sol(j,i,c)
 721  * losses
 722      V_Lossijc_sol(i,j,c)
 723      V_Lossi_sol(i)
 724  * penalties and objectives
 725      V_shuntSwitching_sol(i,bus_s)
 726      V_totalShuntSwitching_sol
 727      V_shuntSwitchingPenalty_sol(i,bus_s)
 728      V_shuntTotalSwitchingPenalty_sol
 729      V_shuntSwitchingTotalPenalty_sol
 730      V_previous_solution_penalty_sol
 731      V_objcost_sol
 732  * variable bound violations
 733      gen_p_lo_viol_sol(gen)
 734      gen_p_up_viol_sol(gen)
 735      gen_q_lo_viol_sol(gen)
 736      gen_q_up_viol_sol(gen)
 737      solar_p_fx_viol_sol(i)
 738      solar_q_up_viol_sol(i)
 739      solar_q_lo_viol_sol(i)
 740      solar_p_curtail_up_viol_sol(bus)
 741      De_response_Inc_P_up_viol_sol(bus)
 742      De_response_dec_P_lo_viol_sol(bus)
 743      v_shunt_up_viol_sol(bus,bus_s)
 744  * constraint violations
 745      balance_p_viol_sol(i)
 746      balance_q_viol_sol(i)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 14
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 747      p_generator_add_viol_sol(gen)
 748      c_I_limit_viol_sol(i,j,c)
 749      c_V_limit_lo_viol_sol(i)
 750      c_V_limit_up_viol_sol(i)
 751      v_generator_hardupl_viol_sol(i)
 752      v_generator_harddownl_viol_sol(i)
 753      v_under_q_up_slack_viol_sol(gen)
 754      v_over_q_lo_slack_viol_sol(gen)
 755  * summaries
 756      sum_loss_sol
 757  *    v_load_bus_volt_pen_sol
 758  *    v_total_shunt_switching_sol
 759  *    v_shunt_switching_total_penalty_sol
 760  *    v_previous_solution_penalty_sol
 761  *    v_objcost_sol
 762      max_gen_p_lo_viol_sol
 763      max_gen_p_up_viol_sol
 764      max_gen_q_lo_viol_sol
 765      max_gen_q_up_viol_sol
 766      max_solar_p_fx_viol_sol
 767      max_solar_q_up_viol_sol
 768      max_solar_q_lo_viol_sol
 769      max_solar_p_curtail_up_viol_sol
 770      max_De_response_Inc_P_up_viol_sol
 771      max_De_response_dec_P_lo_viol_sol
 772      max_v_shunt_up_viol_sol
 773      max_balance_p_viol_sol
 774      max_balance_q_viol_sol
 775      max_p_generator_add_viol_sol
 776      max_c_I_limit_viol_sol
 777      max_c_V_limit_lo_viol_sol
 778      max_c_V_limit_up_viol_sol
 779      max_v_generator_hardupl_viol_sol
 780      max_v_generator_harddownl_viol_sol
 781      max_v_under_q_up_slack_viol_sol
 782      max_v_over_q_lo_slack_viol_sol;
 783   
 784  * files for output
 785  file report_file /'report.txt'/;
 786  report_file.nr = 2;
 787  report_file.nd = 6;
 788  report_file.pc = 5;
 790  put report_file;
 791  put 'sunlamp crest-vct prototype acopf model' /;
 792  put 'start run' /;
 793  putclose;
 794   
 795  *===== SECTION: DATA MANIPULATION
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/data_manipulation.gms
 797   
 798  gen_participation_factor(gen)
 799    = 1$(sum(bus$(atBus(gen,bus) and businfo(bus,'type','given') eq 3),1) > 0);
 800   
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 15
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 801  * set shunt penalties to 0
 802  * if this is the first time step
 804   
 805  display Bswitched;
 806   
 807  *--- Define load, gen buses and active lines
 808  file fx;
 809  put fx;
 810   
 811  load(bus)$(type(bus) eq 1)  = 1;
 812  isSolar(bus)$(sum(solarbus, solarlocation(solarbus,bus)) eq 1) = 1;
 813  isGen(bus)$(not(load(bus))) = 1;
 814  activeGen(bus)$(isGen(bus) and (sum(gen$atBus(gen,bus), status(gen))>0) ) = 1;
 815  option isLine < branchstatus;
 816   
 817  * disable solar
 819   
 820  saturaup(bus)=0;
 821   saturalow(bus)=0;
 822  genQtemp(gen)=0;
 823  *voltageran_low=0.999;
 824  *voltageran_high=1.001;
 825  voltageran_low=1;
 826  voltageran_high=1;
 827  step_leng=0.1;
 828   
 829  * voltage magnitude target will be loaded from a file
 830  * for now set it as the scalar voltage goal
 831   
 832  * load from a gdx file if desired
 833  * this gdx file can be written in the Python simulation code
 834  * after reading from csv
 835  * or else we can read from csv and construct a gdx file in the Gams code
 836  * for now we assume the gdx file is constructed externally to the Gams code
 837  volt_mag_target(bus) = load_bus_voltage_goal;
 838   
 839  * which buses should be subject to a voltage magnitude target deviation penalty?
 840  * for any given bus, if the real power load has a nonzero value,
 841  * then we should penalize the deviation from the voltage magnitude target
 842  bus_penalize_volt_mag_target(bus) = yes$(abs(pd(bus)) > 0 and abs(volt_mag_target(bus)) > 0);
 843   
 844  *===== SECTION: VARIABLE DEFINITION
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/var_declaration.gms
 846  free variables
 847      V_P(gen)           "Real power generation of generator",
 848      V_Q(gen)           "Reactive power generation of generator",
 849      P_S(i)      "real power generation of solar bus"
 850      Q_S(i)      "reactive power generation of solar bus"
 851      V_real(i)          "Real part of bus voltage",
 852      V_imag(i)          "Imaginary part of bus voltage",
 853   
 854      V_LineIr(i,j,c)    "Real current flowing from bus i towards bus j on line c",
 855      V_LineIq(i,j,c)    "Reactive current flowing from bus i towards bus j on line c"
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 16
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 856   
 857      V_Lossijc(i,j,c)      "Loss on line c connecting bus i and bus j"
 858      V_Lossi(i)         "Loss on lines connecting with bus i"
 859      V_switchedshuntB(i) "total susceptance from switched shunts connected to bus i"
 860  ;
 861   
 862  integer variables
 863      V_shunt(bus,bus_s)    "number of shunt steps switched on"
 864  ;
 865   
 866  negative variables
 867      De_response_Dec_P(bus)         "the decrease in demand response"
 868  ;
 869   
 870  positive variables
 871      V_p_over(bus) "real power over"
 872      V_p_under(bus) "real power under"
 873      V_q_over(bus) "reactive power over"
 874      V_q_under(bus) "reactive power under"
 875      Solar_p_curtail(bus)    "the amount of real power cutailed from controllable solar bus"
 876      De_response_Inc_P(bus)         "the increment in demand response"
 877      controlLoad(bus)       "controllableload"
 878      V_load_bus_volt_pen "total penalty from load bus voltage deviation"
 879      V_load_bus_volt_pen_dev(i) "penalized load bus voltage deviation - i.e. deviation less dead band radius"
 880      V_shuntSwitching(i,bus_s) "number of steps switched"
 881      V_totalShuntSwitching "total number of steps switched"
 882      V_shuntSwitchingPenalty(i,bus_s) "defines local shunt switching"
 883      V_shuntTotalSwitchingPenalty "penalty incurred by total shunt switching"
 884      V_shuntSwitchingTotalPenalty "total penalty incurrent by shunt switching"
 885      V_devi(bus)          "absolute value of voltage deviation"
 886      V_pw_cost(gen)    "Generator piecewise cost"
 887      V_dem_Load(demanStep)        "demand load level"
 888  *    V_Pd_elastic(demandbid)     "Elastic incremental demand"
 889  *    V_demandbid_rev(demandbid)  "Revenue from elastic incremental demand"
 890      V_artup(bus)       "artificial variablers"
 891      V_artlow(bus)       "artificial variablers"
 892      V_previous_solution_penalty "total penalty on deviation to previous solution"
 893  ;
 894  * these are not necessary as the vars are defined as positive variables
 895  *V_artup.l(bus)=0;
 896  *V_artlow.l(bus)=0;
 897   
 898  free variable
 899  V_objcost  "Total cost of objective function"
 900  V_objcosttest  "Total cost of objective function"
 901  V_P_system_deviation "system total adjustment from real generation schedule"
 902  ;
 903  *display  V_real.l;
 904  *===== SECTION: EQUATION DECLARATION
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/eqn_declaration.gms
 906  equations
 907      c_load_bus_volt_pen_def "defines total load bus voltage deviation penalty"
 908      c_load_bus_volt_pen_dev_def1(i) "first constraint defining penalized load bus voltage deviation"
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 17
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 909      c_load_bus_volt_pen_dev_def2(i) "second constraint defining penalized load bus voltage deviation"
 910   
 911      c_switchedshuntB_Def(i) "defines total susceptance from switched shunts at bus i"
 912      c_shuntSwitchingDef1(i,bus_s) "defines number of steps switched - side 1"
 913      c_shuntSwitchingDef2(i,bus_s) "defines number of steps switched - side 2"
 914      c_totalShuntSwitchingDef "defines total number of steps switched"
 915      c_shuntSwitchingPenaltyDef1(i,bus_s) "defines local shunt switching penalty - segment 1"
 916      c_shuntSwitchingPenaltyDef2(i,bus_s) "defines local shunt switching penalty - segment 2"
 917      c_shuntTotalSwitchingPenalty "defines penalty incurred by total shunt switching"
 918      c_shuntSwitchingTotalPenaltyDef " defines total penalty incurrent by shunt switching"
 919   
 920      c_I_limit(i,j,c)     "Limit apparent current on a line"
 921      c_V_limit_lo(i)      "Limit voltage magnitude on a line"
 922      c_V_limit_up(i)      "Limit voltage magnitude on a line"
 923      c_LineIrij(i,j,c)    "Real current flowing from bus i into bus j along line c"
 924      c_LineIrji(i,j,c)    "Real  current flowing from bus j into bus i along line c"
 925      c_LineIqij(i,j,c)    "Reactive current  flowing from bus i into bus j along line c"
 926      c_LineIqji(i,j,c)    "Reactive current flowing from bus j into bus i along line c"
 927   
 928      c_Lossijc(i,j,c)     "Loss on line c connecting bus i and bus j"
 929      c_Lossi(i)           "Loss on lines connected with bus i"
 930   
 931      c_BalanceP_nosolar(bus)      "Balance of real power for bus without solar"
 932      c_BalanceP_solar(bus)      "Balance of real power for bus with solar"
 933      c_BalanceP_control_solar(bus)        "balance of real power for controllable solar"
 934      c_BalanceQ_nosolar(bus)      "Balance of reactive power for bus without solar"
 935      c_BalanceQ_solar(bus)      "Balance of reactive power for bus with solar"
 936      v_generator_addup(bus) "generator voltage constraints added selectively"
 937      v_generator_addlow(bus) "generator voltage constraints added"
 938      v_generator_addup_arti(bus)  "generator voltage up constraints added with artificial variables"
 939      v_generator_addlow_arti(bus)  "generator voltage low constraints added with artificial variables"
 940      v_generator_hardupl(bus) "bus voltage constraints upper bound"
 941      v_generator_harddownl(bus) "bus voltage constraints lower bound"
 942      p_generator_add(gen) "enforces generator participation factor in adjustment from schedule"
 943      p_generator_addup(gen) "generator real power constraints added"
 944      p_generator_addlow(gen) "generator real power constraints added"
 945      c_obj  "Objective function"
 946      c_objtest  "Objective function"
 947      c_previous_solution_penalty_def "defines previous solution deviation penalty"
 948      c_gen_q_arctan_v(gen) "smooth arctan formulation of pv/pq complementarity constraint"
 949  ;
 950  *display V_P.l,V_P.up, V_P.lo;
 951  *===== SECTION: EQUATION DEFINITION
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/eqn_definition.gms
 953   
 954  * defines previous solution deviation penalty
 955  c_previous_solution_penalty_def..
 956      V_previous_solution_penalty
 957        =g=
 958      previous_solution_penalty_2 * (
 959          sum(gen, sqr(V_P_prior(gen) - V_P(gen)))
 960        + sum(gen, sqr(V_Q_prior(gen) - V_Q(gen)))
 961        + sum(i, sqr(P_S_prior(i) - P_S(i)))
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 18
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


 962        + sum(i, sqr(Q_S_prior(i) - Q_S(i)))
 963        + sum(i, sqr(V_real_prior(i) - V_real(i)))
 964        + sum(i, sqr(V_imag_prior(i) - V_imag(i)))
 965        + sum(i, sqr(Solar_p_curtail_prior(i) - Solar_p_curtail(i)))
 966        + sum(i, sqr(De_response_Inc_P_prior(i) - De_response_Inc_P(i)))
 967        + sum(i, sqr(De_response_Dec_P_prior(i) - De_response_Dec_P(i))));
 968   
 969  * defines total load bus voltage deviation penalty
 970  c_load_bus_volt_pen_def..
 971      V_load_bus_volt_pen
 972        =g=
 973      sum(i$(bus_penalize_volt_mag_target(i) and type(i) eq 1),
 974            load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev(i)
 975          + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev(i)))
 976  ;
 977   
 978   
 979   
 980  * defines total susceptance from switched shunts connected to a bus
 981  c_switchedshuntB_def(i)$sum(bus_s$numBswitched(i, bus_s), 1)..
 982      V_switchedshuntB(i)
 983        =e=
 984      sum(bus_s$numBswitched(i,bus_s), Bswitched(i,bus_s) * V_shunt(i,bus_s));
 985   
 986  * defines number of steps switched - side 1
 987  c_shuntSwitchingDef1(i,bus_s)$numBswitched(i,bus_s)..
 988      V_shuntSwitching(i,bus_s)
 989        =g=
 990      V_shunt(i,bus_s) - numShuntStepsOn_init(i,bus_s)
 991  ;
 992   
 993  * defines number of steps switched - side 2
 994  c_shuntSwitchingDef2(i,bus_s)$numBswitched(i,bus_s)..
 995      V_shuntSwitching(i,bus_s)
 996        =g=
 997      numShuntStepsOn_init(i,bus_s) - V_shunt(i,bus_s)
 998  ;
 999   
1000  * defines total number of steps switched
1001  c_totalShuntSwitchingDef..
1002      V_totalShuntSwitching
1003        =g=
1004      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching(i,bus_s))
1005  ;
1006   
1007  * defines local shunt switching penalty - segment 1
1008  c_shuntSwitchingPenaltyDef1(i,bus_s)$numBswitched(i,bus_s)..
1009      V_shuntSwitchingPenalty(i,bus_s)
1010        =g=
1011      shuntSwitchingPenalty1 * V_shuntSwitching(i,bus_s)
1012  ;
1013   
1014  * defines local shunt switching penalty - segment 2
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 19
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


1015  c_shuntSwitchingPenaltyDef2(i,bus_s)$numBswitched(i,bus_s)..
1016      V_shuntSwitchingPenalty(i,bus_s)
1017        =g=
1018      shuntSwitchingPenalty2 * (V_shuntSwitching(i,bus_s) - shuntSwitchingTolerance)
1019  ;
1020   
1021  * defines penalty incurred by total shunt switching
1022  c_shuntTotalSwitchingPenalty..
1023      V_shuntTotalSwitchingPenalty
1024        =g=
1025      shuntSwitchingBudgetPenalty * (V_totalShuntSwitching - shuntSwitchingBudget)
1026  ;
1027   
1028  * defines total penalty incurrent by shunt switching
1029  c_shuntSwitchingTotalPenaltyDef..
1030      V_shuntSwitchingTotalPenalty
1031        =g=
1032      V_shuntTotalSwitchingPenalty +
1033      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty(i,bus_s))
1034  ;
1035   
1036  * Limit apparent current on a line
1037  c_I_limit(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c))..
1038      sqr(V_LineIr(i,j,c)) + sqr(V_LineIq(i,j,c))
1039        =l=
1040      sqr(currentrate(i,j,c))
1041  ;
1042   
1043  *Limit voltage magnitude on a line
1044  c_V_limit_lo(i)..
1045      sqr(V_real(i)) + sqr(V_imag(i)) =g= sqr(minVm(i))
1046  ;
1047   
1048  *Limit voltage magnitude on a line
1049  c_V_limit_up(i)..
1050      sqr(V_real(i)) + sqr(V_imag(i)) =l= sqr(maxVm(i))
1051  ;
1052   
1053  *Real current flowing from bus i into bus j along line c
1054  c_LineIrij(i,j,c)$(branchstatus(i,j,c))..
1055           V_LineIr(i,j,c) =e=
1056              1/sqr(ratio(i,j,c))
1057                  * (g(i,j,c)*V_real(i) - (b(i,j,c) + bc(i,j,c)/2)*V_imag(i))
1058              - 1/ratio(i,j,c)
1059                  * (  (g(i,j,c)*V_real(j) - b(i,j,c)*V_imag(j))*cos(angle(i,j,c))
1060                     - (g(i,j,c)*V_imag(j) + b(i,j,c)*V_real(j))*sin(angle(i,j,c))
1061                    )
1062  ;
1063   
1064  *Real current flowing from bus j into bus i along line c
1065  c_LineIrji(i,j,c)$(branchstatus(i,j,c))..
1066           V_LineIr(j,i,c) =e=
1067              (g(i,j,c)*V_real(j) - (b(i,j,c) + bc(i,j,c)/2)*V_imag(j))
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 20
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


1068              - 1/ratio(i,j,c)
1069                  * (  (g(i,j,c)*V_real(i) - b(i,j,c)*V_imag(i))*cos(-angle(i,j,c))
1070                     - (g(i,j,c)*V_imag(i) + b(i,j,c)*V_real(i))*sin(-angle(i,j,c))
1071                    )
1072  ;
1073   
1074  *Reactive current flowing from bus i into bus j along line c
1075  c_LineIqij(i,j,c)$(branchstatus(i,j,c))..
1076           V_LineIq(i,j,c) =e=
1077              1/sqr(ratio(i,j,c))
1078                  * (g(i,j,c)*V_imag(i) + (b(i,j,c) + bc(i,j,c)/2)*V_real(i))
1079              - 1/ratio(i,j,c)
1080                  * (  (g(i,j,c)*V_imag(j) + b(i,j,c)*V_real(j))*cos(angle(i,j,c))
1081                     + (g(i,j,c)*V_real(j) - b(i,j,c)*V_imag(j))*sin(angle(i,j,c))
1082                    )
1083  ;
1084   
1085  *Reactive current flowing from bus j into bus i along line c
1086  c_LineIqji(i,j,c)$(branchstatus(i,j,c))..
1087           V_LineIq(j,i,c) =e=
1088              (g(i,j,c)*V_imag(j) + (b(i,j,c) + bc(i,j,c)/2)*V_real(j))
1089              - 1/ratio(i,j,c)
1090                  * (  (g(i,j,c)*V_imag(i) + b(i,j,c)*V_real(i))*cos(-angle(i,j,c))
1091                     + (g(i,j,c)*V_real(i) - b(i,j,c)*V_imag(i))*sin(-angle(i,j,c))
1092                    )
1093  ;
1094   
1095  *Balance of real power for bus without solar
1096  c_BalanceP_nosolar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus,i)) eq 0))..
1097          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1098          - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem_Load(demanStep))$(demLocation(i) eq 1)+ De_response_Inc_P(i)$(Pd_respon_location(i)) + De_response_Dec_P(i)$(Pd_respon_location(i))   )
1099          + V_p_over(i)
1100          - V_p_under(i)
1101              =e=
1102            V_real(i) *
1103          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1104            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr(i,j,c)) )
1105          + V_imag(i) *
1106           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1107            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq(i,j,c)))
1108          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1109  ;
1110  *Balance of real power for bus with uncontrollable solar installed
1111  c_BalanceP_solar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus,i)) ne 0) and contro_solar_location(i) eq 0)..
1112          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1113           - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem_Load(demanStep))$(demLocation(i) eq 1)- P_S(i)+De_response_Inc_P(i)$(Pd_respon_location(i)) + De_response_Dec_P(i)$(Pd_respon_location(i)))
1114          + V_p_over(i)
1115          - V_p_under(i)
1116              =e=
1117            V_real(i) *
1118          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1119            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr(i,j,c)) )
1120          + V_imag(i) *
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 21
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


1121           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1122            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq(i,j,c)))
1123          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1124  ;
1125   
1126  c_BalanceP_control_solar(i)$(type(i) ne 4 and  contro_solar_location(i) ne 0)..
1127          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1128           - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem_Load(demanStep))$(demLocation(i) eq 1)+ De_response_Inc_P(i)$(Pd_respon_location(i))+ De_response_Dec_P(i)$(Pd_respon_location(i)) - (P_S(i)-Solar_p_curtail(i) ))
1129          + V_p_over(i)
1130          - V_p_under(i)
1131              =e=
1132            V_real(i) *
1133          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1134            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr(i,j,c)) )
1135          + V_imag(i) *
1136           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1137            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq(i,j,c)))
1138          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1139  ;
1140  * Balance of reactive power for bus without solar
1141  c_BalanceQ_nosolar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus,i)) eq 0))..
1142          sum(gen$(atBus(gen,i) and status(gen)), V_Q(gen))
1143          - (Qd(i)+Pd_respon_q_up(i)*De_response_Inc_P(i)$(Pd_respon_location(i)) + Pd_respon_q_down(i)*De_response_Dec_P(i)$(Pd_respon_location(i))  )
1144          + V_q_over(i)
1145          - V_q_under(i)
1146              =e=
1147          - V_real(i) *
1148          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1149            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq(i,j,c)))
1150          + V_imag(i) *
1151          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1152            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr(i,j,c)))
1153          - (Bs(i) + V_switchedshuntB(i)$sum(bus_s$numbswitched(i, bus_s), 1)) * (sqr(V_real(i)) + sqr(V_imag(i)));
1154  ;
1155  * Balance of reactive power for bus with solar
1156  c_BalanceQ_solar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus,i)) ne 0))..
1157          sum(gen$(atBus(gen,i) and status(gen)), V_Q(gen))
1158          - ( Qd(i)+ Pd_respon_q_up(i)*De_response_Inc_P(i)$(Pd_respon_location(i)) + Pd_respon_q_down(i)*De_response_Dec_P(i)$(Pd_respon_location(i)) - Q_S(i) )
1159          + V_q_over(i)
1160          - V_q_under(i)
1161              =e=
1162          - V_real(i) *
1163          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1164            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq(i,j,c)))
1165          + V_imag(i) *
1166          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1167            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr(i,j,c)))
1168          - (Bs(i) + V_switchedshuntB(i)$sum(bus_s$numbswitched(i, bus_s), 1)) * (sqr(V_real(i)) + sqr(V_imag(i)));
1169  ;
1170   
1171  * Loss on line c connecting bus i and bus j
1172  c_Lossijc(i,j,c)$(branchstatus(i,j,c))..
1173            V_Lossijc(i,j,c) =e=
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 22
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


1174                 g(i,j,c)/( sqr(b(i,j,c))+ sqr(g(i,j,c)) ) * (  sqr(V_LineIr(i,j,c))+ sqr(V_LineIq(i,j,c)) )
1175  ;
1176   
1177  *Loss on lines connected with bus i
1178  c_Lossi(i)..
1179         V_Lossi(i) =e=
1180                sum((j,c)$(branchstatus(i,j,c)),V_Lossijc(i,j,c))
1181  ;
1182   
1183  * generator bus voltage set points enforced with violation variables
1184  v_generator_addup(i)$(sum(gen,status2(gen,i)) eq 1 and saturaup(i) eq 0)..
1185           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= voltageran_high*Vsch(i)
1186  ;
1187  v_generator_addlow(i)$(sum(gen,status2(gen,i)) eq 1 and saturalow(i) eq 0)..
1188           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= voltageran_low*Vsch(i)
1189  ;
1190   
1191   
1192  v_generator_addup_arti(i)$(sum(gen,status2(gen,i)) eq 1 )..
1193           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= voltageran_high*Vsch(i) + V_artup(i)
1194  ;
1195  v_generator_addlow_arti(i)$(sum(gen,status2(gen,i)) eq 1 )..
1196           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= voltageran_low*Vsch(i) - V_artlow(i)
1197  ;
1198   
1199  v_generator_hardupl(i)..
1200           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= 1.15
1201  ;
1202   
1203  v_generator_harddownl(i)..
1204           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= 0.88
1205  ;
1206   
1207  * enforces generator participation factor in adjustment from schedule
1208  p_generator_add(gen)$(status(gen) eq 1 and abs(gen_participation_factor(gen)))..
1209           V_P(gen) =e= PgSch(gen) + gen_participation_factor(gen) * V_P_system_deviation
1210  ;
1211   
1212  p_generator_addup(gen)$(status(gen) eq 1 and gentype(gen) eq 1)..
1213           V_P(gen) =l= 1.001*PgSch(gen)
1214  ;
1215  p_generator_addlow(gen)$(status(gen) eq 1 and gentype(gen) eq 1 and PgSch(gen) > 0 )..
1216           V_P(gen) =g= 0.999*PgSch(gen)
1217   
1218  ;
1219  *solar bus active power constraints uppr bound
1220  ;
1221  * WARNING TODO JH this equation has an error
1222  * causes infeasibility
1223  * e.g. 0 =g= 1e-6
1224  *
1225  * fixed it
1226  * Xinda can you check that this is correct?
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 23
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


1227  * am I understanding the data and model correctly?
1228  *solar bus  power constraints lower bound
1229  ;
1230   
1231   
1232  * Objective functions and pwl costs are listed in a separate file
1233  *$batinclude "%filepath%objective_voltage_stability_addterm.gms" obj demandbids
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 24
Cost objective calculations for OPF models
C o m p i l a t i o n


1235  *this file is modified by Xinda Ke from Wisconsin university IV_acopf.gms
1236  *updated by Xinda ke in 7/26/2016
1237   
      * Set costmodel variable
      costmodel(gen)= 2;
       
      *-- Convexity Check
      * Not part of system of equations
      * LP/QCP/NLP can't handle nonconvex piecewise linear cost functions
      set thisgen(gen);
       
      parameters cur_slope, next_slope;
      loop(gen$(status(gen) and (costmodel(gen) eq 1) and (numcostpts(gen) > 2)),
          next_slope = (costpts_y(gen,'2') - costpts_y(gen,'1'))
                       / (costpts_x(gen,'2') - costpts_x(gen,'1'));
          loop(costptset$(ord(costptset) < numcostpts(gen) - 1),
              cur_slope = next_slope;
              if((ord(costptset) < numcostpts(gen) - 2) and (costpts_x(gen,costptset+2) eq costpts_x(gen,costptset+1)),
                  abort "Zero-length piecewise segment detected";
              );
              next_slope = (costpts_y(gen,costptset+2) - costpts_y(gen,costptset+1))
                           / (costpts_x(gen,costptset+2) - costpts_x(gen,costptset+1))
       
              if(cur_slope - next_slope > 1e-8,
                  thisgen(gen1)=no; thisgen(gen)=yes;
                  display thisgen;
                  abort "Nonconvex piecewise linear costs not supported";
              );
          );
      );
1267   
1268  *===== SECTION: EQUATIONS PART 2
1269  * Defining piecewise linear generator cost curves
1270  * P is in per-unit, costpts_x is in MW, and costpts_y is in $/hr
1271   
1272   
1274   
1275   
1276   
1277   
1278  c_obj..
1279      V_objcost =e=
1280             V_shuntSwitchingTotalPenalty
1281  *penalty for contro_solar_pout
1282           +sum(demanStep ,demSlope(demanStep)*V_dem_Load(demanStep))
1283           + sum(i,P_S(i)*sqr(dis_gen_par1(i))+P_S(i)*dis_gen_par2(i)+dis_gen_par3(i))
1284           + solar_curtail_penalty * sum(i,Solar_p_curtail(i))
1285           + demand_response_increase_penalty * sum(i,De_response_Inc_P(i))
1286           - demand_response_decrease_penalty * sum(i,De_response_Dec_P(i))
1287  *the demand response q is comment out because it change with respose to p
1288  *+5*sum(i,De_response_Inc_Q(i))-5*sum(i,De_response_Dec_Q(i))
1289  *the term of line losses. tobe checked, tobe verified
1290           + sum(i,V_Lossi(i))
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 25
Cost objective calculations for OPF models
C o m p i l a t i o n


1291           + V_previous_solution_penalty
1292  *the penalty for power balancing relaxation
1293  *         + %balance_constr_penalty% * (
1294  *               sum(i,V_p_over(i))
1295  *             + sum(i,V_p_under(i))
1296  *             + sum(i,V_q_over(i))
1297  *             + sum(i,V_q_under(i)))
1298  ;
1299   
1300  c_objtest..
1301      V_objcosttest =e=
1302             V_shuntSwitchingTotalPenalty
1303           +sum(demanStep ,demSlope(demanStep)*V_dem_Load(demanStep))
1304           + sum(i,P_S(i)*sqr(dis_gen_par1(i))+P_S(i)*dis_gen_par2(i)+dis_gen_par3(i))
1305  *penalty for contro_solar_pout
1306           + solar_curtail_penalty * sum(i,Solar_p_curtail(i))
1307           + demand_response_increase_penalty * sum(i,De_response_Inc_P(i))
1308           - demand_response_decrease_penalty * sum(i,De_response_Dec_P(i))
1309  *the demand response q is comment out because it change with respose to p
1310  *+5*sum(i,De_response_Inc_Q(i))-5*sum(i,De_response_Dec_Q(i))
1311  *the term of line losses. tobe checked, tobe verified
1312           + sum(i,V_Lossi(i))
1313  * artificial variables is included in objective function with high penalty cost
1314           + generator_voltage_deviation_penalty
1315               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artup(bus))
1316           + generator_voltage_deviation_penalty
1317               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artlow(bus))
1318           + V_previous_solution_penalty
1319  *the penalty for power balancing relaxation
1320  *         + %balance_constr_penalty% * (
1321  *               sum(i,V_p_over(i))
1322  *             + sum(i,V_p_under(i))
1323  *             + sum(i,V_q_over(i))
1324  *             + sum(i,V_q_under(i)))
1325  ;
1326   
1327  c_gen_q_arctan_v(gen)$status(gen)..
1328      v_q(gen) =e=
1329      qmin(gen) +
1330      (qmax(gen) - qmin(gen))
1331      * (0.5 -
1332         (1 / pi) *
1333         arctan(
1334             sum(bus$atbus(gen,bus),
1335                 sqrt(sqr(v_real(bus)) + sqr(v_imag(bus))) - vsch(bus)) /
1336             pv_pq_smoothing_param));
1337  *display Pmax, Pmin, V_P.l;
1338  *===== SECTION: MODEL DEFINITION
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/mod_definition.gms
1340   
1341  model base_model /
1343  **    c_I_limit
1344  **    c_V_limit_lo
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 26
Cost objective calculations for OPF models
C o m p i l a t i o n


1345  **    c_V_limit_up
1346      c_LineIrij
1347      c_LineIrji
1348      c_LineIqij
1349      c_LineIqji
1350      c_BalanceP_nosolar
1351      c_BalanceP_solar
1352      c_BalanceQ_nosolar
1353      c_BalanceQ_solar
1354      c_Lossijc
1355      c_Lossi
1356      v_generator_hardupl
1357      v_generator_harddownl
1358      p_generator_add
1359      c_BalanceP_control_solar
1360      c_switchedshuntB_def
1361      c_shuntSwitchingDef1
1362      c_shuntSwitchingDef2
1363      c_totalShuntSwitchingDef
1364      c_shuntSwitchingPenaltyDef1
1365      c_shuntSwitchingPenaltyDef2
1366      c_shuntTotalSwitchingPenalty
1367      c_shuntSwitchingTotalPenaltyDef
1368      c_previous_solution_penalty_def
1369      /;
1370  model feas /
1371      base_model
1372      v_generator_addup
1373      v_generator_addlow
1374      /;
1375  model test /
1376      base_model
1377      v_generator_addup_arti
1378      v_generator_addlow_arti
1379      /;
1380  model acopf /
1381      feas
1382      c_obj
1383      /;
1384  model acopf_check /
1385      test
1386      c_objtest
1387      /;
1388  model acopf_arctan /
1389      base_model
1390      c_gen_q_arctan_v
1391      c_obj /;
1392  display Pmax, Pmin, Pd, Va, Vm, Qg;
1393  *===== SECTION: VARIABLE BOUNDS
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/var_bounds.gms
1395   
1396  * shunt switching
1397  V_shunt.lo(bus,bus_s)$numBswitched(bus,bus_s) = 0;
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 27
Cost objective calculations for OPF models
C o m p i l a t i o n


1398  V_shunt.up(bus,bus_s)$numBswitched(bus,bus_s) = numBswitched(bus,bus_s);
1400  V_shunt.fx(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_init(bus,bus_s);
1402   
1403  * Generator active power generation limits
1404  V_P.lo(gen)$(status(gen) and abs(gen_participation_factor(gen))) = Pmin(gen);
1405  V_P.up(gen)$(status(gen) and abs(gen_participation_factor(gen))) = Pmax(gen);
1406  V_P.fx(gen)$(status(gen) and not abs(gen_participation_factor(gen))) = PgSch(gen);
1407  V_P.fx(gen)$(not status(gen)) = 0;
1408   
1409   
1411  Solar_p_curtail.fx(bus)=0;
1412  contro_solar_location(bus) = 0;
1414   
1415   
1416   
1417  V_dem_Load.up(demanStep)$(ord(demanStep) > 1)=  demLoad(demanStep-1)-demLoad(demanStep);
1418  V_dem_Load.fx('1')=0;
1419  Q_s.lo('13')=-300;
1420  Q_s.lo('57')=-300;
1421  Q_s.up('13')=300;
1422  Q_s.up('57')=300;
1423   
1424   
1425  P_S.lo('13')=0.03;
1426  P_S.lo('57')=0.02;
1427  P_S.up('13')=0.3;
1428  P_S.up('57')=0.25;
1429   
1430   
1431   
1432   
1433  De_response_Inc_P.up(bus)$(Pd_respon_location(bus))=Pd_respon_p_up(bus);
1434  De_response_Inc_P.lo(bus)$(Pd_respon_location(bus))=0;
1435  De_response_Inc_P.fx(bus)$(not Pd_respon_location(bus))=0;
1436   
1437  De_response_Dec_P.lo(bus)$(Pd_respon_location(bus))=Pd_respon_p_down(bus);
1438  De_response_Dec_P.up(bus)$(Pd_respon_location(bus))=0;
1439  De_response_Dec_P.fx(bus)$(not Pd_respon_location(bus))=0;
1440   
1441   
1442   
1443  * disable demand response
1445   
1446  * Generator reactive power generation limits
1447  * Does not impose Qmax, Qmin limits when the D-curve contraint is applied
1448  *$ifthen %qlim% == 0
1449  V_Q.lo(gen)$status(gen) = Qmin(gen);
1450  V_Q.up(gen)$status(gen) = Qmax(gen);
1451  *$endif
1452  V_Q.fx(gen)$(not status(gen)) = 0;
1453  *display V_Q.l, V_Q.up, V_Q.lo;
1454  * Bus voltage magnitude limits
1455  * Note these bounds are numerically helpful
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 28
Cost objective calculations for OPF models
C o m p i l a t i o n


1456  * even if they are not necessary for the correctness
1457  * of the formulation
1458  V_real.lo(bus) = -MaxVm(bus); V_real.up(bus) = MaxVm(bus);
1459  V_imag.lo(bus) = -MaxVm(bus); V_imag.up(bus) = MaxVm(bus);
1460  V_imag.fx(bus)$(type(bus) eq 3) = 0;
1461   
1462  * disable solar q
1464   
1465   
1466  * soft power balance constraints
1467  balance_real_bound=0.01;
1468  balance_react_bound=0.01;
1470  V_p_over.up(i) = balance_real_bound;
1471  V_p_under.up(i) = balance_real_bound;
1472  V_q_over.up(i) = balance_react_bound;
1473  V_q_under.up(i) = balance_react_bound;
1474   
1476   
1477  *===== SECTION: VARIABLE START VALUES
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/start_point.gms
1479   
1480  * Set initial conditions
BATINCLUDE /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/preset.gms
      sets values for some variables that might not otherwise be set
1485   
1486  V_P.l(gen) = 0;
1487  V_Q.l(gen) = 0;
1488  V_LineIr.l(i,j,c) = 0;
1489  V_LineIq.l(i,j,c) = 0;
1490  V_P_system_deviation.l = 0;
1491  V_switchedshuntB.l(i)$sum(bus_s$numBswitched(i,bus_s), 1) = 0;
1492  V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = 0;
1493  *P_S.l(i)$(isSolar(i) and contro_solar_location(i) ne 1) = solar_r(i);
1494  *P_S.l(i)$(isSolar(i) and contro_solar_location(i) eq 1) = contro_solar_pout(i);
1495  Q_S.l(i)$isSolar(i) = 0;
1496  solar_p_curtail.l(bus)$contro_solar_location(bus) = 0;
1497  de_response_dec_p.l(bus)$pd_respon_location(bus) = 0;
1498  de_response_inc_p.l(bus)$pd_respon_location(bus) = 0;
1499   
BATINCLUDE /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/random_all.gms
      Randomized initial conditions for rectangular ACOPF
1504   
1506   
1507  V_P.l(gen)$status(gen) = uniform(Pmin(gen),Pmax(gen));
1508  V_Q.l(gen)$status(gen) = uniform(Qmin(gen),Qmax(gen));
1509   
1510  * There should be a better way of choosing bounds for these
1511  Vm(bus) = uniform(minVm(bus),maxVm(bus));
1512  Va(bus) = uniform(-pi,pi);
1513  V_real.l(bus) = Vm(bus)*cos(Va(bus));
1514  V_imag.l(bus) = Vm(bus)*sin(Va(bus));
1515   
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/calc_derived_vars.gms
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 29
Cost objective calculations for OPF models
C o m p i l a t i o n


      independent variables V_real and V_imag are set prior to this code
      other independent variables are set here
      then dependent variables are computed here - including objective
      finally we could check constraint violations - e.g. balance constraints
1523   
1524  *--------------------
1525  * derived variables -
1526  *--------------------
1527   
1528           V_LineIr.l(i,j,c)$(branchstatus(i,j,c)) =
1529              1/sqr(ratio(i,j,c))
1530                  * (g(i,j,c)*V_real.l(i) - (b(i,j,c) + bc(i,j,c)/2)*V_imag.l(i))
1531              - 1/ratio(i,j,c)
1532                  * (  (g(i,j,c)*V_real.l(j) - b(i,j,c)*V_imag.l(j))*cos(angle(i,j,c))
1533                     - (g(i,j,c)*V_imag.l(j) + b(i,j,c)*V_real.l(j))*sin(angle(i,j,c)));
1534   
1535           V_LineIr.l(j,i,c)$(branchstatus(i,j,c)) =
1536              (g(i,j,c)*V_real.l(j) - (b(i,j,c) + bc(i,j,c)/2)*V_imag.l(j))
1537              - 1/ratio(i,j,c)
1538                  * (  (g(i,j,c)*V_real.l(i) - b(i,j,c)*V_imag.l(i))*cos(-angle(i,j,c))
1539                     - (g(i,j,c)*V_imag.l(i) + b(i,j,c)*V_real.l(i))*sin(-angle(i,j,c)));
1540   
1541           V_LineIq.l(i,j,c)$(branchstatus(i,j,c)) =
1542              1/sqr(ratio(i,j,c))
1543                  * (g(i,j,c)*V_imag.l(i) + (b(i,j,c) + bc(i,j,c)/2)*V_real.l(i))
1544              - 1/ratio(i,j,c)
1545                  * (  (g(i,j,c)*V_imag.l(j) + b(i,j,c)*V_real.l(j))*cos(angle(i,j,c))
1546                     + (g(i,j,c)*V_real.l(j) - b(i,j,c)*V_imag.l(j))*sin(angle(i,j,c)));
1547   
1548           V_LineIq.l(j,i,c)$(branchstatus(i,j,c)) =
1549              (g(i,j,c)*V_imag.l(j) + (b(i,j,c) + bc(i,j,c)/2)*V_real.l(j))
1550              - 1/ratio(i,j,c)
1551                  * (  (g(i,j,c)*V_imag.l(i) + b(i,j,c)*V_real.l(i))*cos(-angle(i,j,c))
1552                     + (g(i,j,c)*V_real.l(i) - b(i,j,c)*V_imag.l(i))*sin(-angle(i,j,c)));
1553   
1554      V_devi.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1555      abs(sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))) - Vsch(i));
1556   
1557      V_artup.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1558      max(0,
1559      sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))) - voltageran_high*Vsch(i));
1560   
1561      V_artlow.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1562      max(0,
1563      voltageran_low*Vsch(i) - sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))));
1564   
1565      V_Lossijc.l(i,j,c)$(branchstatus(i,j,c)) =
1566      g(i,j,c) / (sqr(b(i,j,c)) + sqr(g(i,j,c))) *
1567      (sqr(V_LineIr.l(i,j,c)) + sqr(V_LineIq.l(i,j,c)));
1568   
1569      V_Lossi.l(i) =
1570      sum((j,c)$(branchstatus(i,j,c)),V_Lossijc.l(i,j,c));
1571   
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 30
Cost objective calculations for OPF models
C o m p i l a t i o n


1572      V_load_bus_volt_pen_dev.l(i)$bus_penalize_volt_mag_target(i) =
1573      max(
1574        sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i)))
1575      - load_bus_voltage_goal
1576      - load_bus_volt_dead_band,
1577        load_bus_voltage_goal
1578      - sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i)))
1579      - load_bus_volt_dead_band);
1580   
1581      V_load_bus_volt_pen.l =
1582      max(0,
1583      sum(i$bus_penalize_volt_mag_target(i),
1584            load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev.l(i)
1585          + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev.l(i))));
1586   
1587      V_shuntSwitching.l(i,bus_s)$numBswitched(i,bus_s) =
1588      abs(V_shunt.l(i,bus_s) - numShuntStepsOn_init(i,bus_s));
1589   
1590      V_shuntSwitchingPenalty.l(i,bus_s)$numBswitched(i,bus_s) =
1591      max(0,
1592      shuntSwitchingPenalty1 * V_shuntSwitching.l(i,bus_s),
1593      shuntSwitchingPenalty2 * (V_shuntSwitching.l(i,bus_s) - shuntSwitchingTolerance));
1594   
1595      V_totalShuntSwitching.l =
1596      max(0,
1597      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching.l(i,bus_s)));
1598   
1599      V_shuntTotalSwitchingPenalty.l =
1600      max(0,
1601      shuntSwitchingBudgetPenalty * (V_totalShuntSwitching.l - shuntSwitchingBudget));
1602   
1603      V_shuntSwitchingTotalPenalty.l =
1604      max(0,
1605      V_shuntTotalSwitchingPenalty.l +
1606      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty.l(i,bus_s)));
1607   
1608      V_previous_solution_penalty.l = 0;
1609   
1610      V_objcost.l =
1611             V_shuntSwitchingTotalPenalty.l
1612           + V_load_bus_volt_pen.l
1613           + solar_curtail_penalty * sum(i,Solar_p_curtail.l(i))
1614           + demand_response_increase_penalty * sum(i,De_response_Inc_P.l(i))
1615           - demand_response_decrease_penalty * sum(i,De_response_Dec_P.l(i))
1616           + sum(i,V_Lossi.l(i))
1617           + V_previous_solution_penalty.l;
1618   
1619      V_objcosttest.l =
1620             V_objcost.l
1621           + generator_voltage_deviation_penalty
1622               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artup.l(bus))
1623           + generator_voltage_deviation_penalty
1624               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artlow.l(bus));
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 31
Cost objective calculations for OPF models
C o m p i l a t i o n


1626   
1627  * set prior values of distance-penalized variables
1628  * to their current levels.
1629  V_P_prior(gen) = V_P.l(gen);
1630  V_Q_prior(gen) = V_Q.l(gen);
1631  P_S_prior(i) = P_S.l(i);
1632  Q_S_prior(i) = Q_S.l(i);
1633  V_real_prior(i) = V_real.l(i);
1634  V_imag_prior(i) = V_imag.l(i);
1635  Solar_p_curtail_prior(i) = Solar_p_curtail.l(i);
1636  De_response_Inc_P_prior(i) = De_response_Inc_P.l(i);
1637  De_response_Dec_P_prior(i) = De_response_Dec_P.l(i);
1638   
1639  display V_real.l, V_imag.l, Vm;
1640   
1641   
1642  *===== SECTION: COMPUTE START METRICS
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/compute_start_metrics.gms
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 32
compute_start_metrics
C o m p i l a t i o n


      evaluate individual componenets of feasibility and optimality for the start point
1648   
1649  * set these from variable levels
1650      V_P_start(gen) = V_P.l(gen);
1651      V_Q_start(gen) = V_Q.l(gen);
1652      P_S_start(i) = P_S.l(i);
1653      Q_S_start(i) = Q_S.l(i);
1654      V_real_start(i) = V_real.l(i);
1655      V_imag_start(i) = V_imag.l(i);
1656      Solar_p_curtail_start(i) = solar_p_curtail.l(i);
1657      De_response_Dec_P_start(i) = de_response_dec_p.l(i);
1658      De_response_Inc_P_start(i) = de_response_inc_p.l(i);
1659      V_switchedshuntB_start(i)$sum(bus_s$numBswitched(i,bus_s), 1) = V_switchedshuntB.l(i);
1660      V_shunt_start(bus,bus_s) = v_shunt.l(bus,bus_s);
1661      V_P_system_deviation_start = v_p_system_deviation.l;
1662      V_LineIr_start(i,j,c)$(branchstatus(i,j,c)) = V_LineIr.l(i,j,c);
1663      V_LineIr_start(j,i,c)$(branchstatus(i,j,c)) = V_LineIr.l(j,i,c);
1664      V_LineIq_start(i,j,c)$(branchstatus(i,j,c)) = V_LineIq.l(i,j,c);
1665      V_LineIq_start(j,i,c)$(branchstatus(i,j,c)) = V_LineIq.l(j,i,c);
1666   
1667  * compute losses
1668      V_Lossijc_start(i,j,c)$(branchstatus(i,j,c)) =
1669                 g(i,j,c)/( sqr(b(i,j,c))+ sqr(g(i,j,c)) ) * (  sqr(V_LineIr_start(i,j,c))+ sqr(V_LineIq_start(i,j,c)) );
1670      V_Lossi_start(i) = sum((j,c)$(branchstatus(i,j,c)),V_Lossijc_start(i,j,c));
1671   
1672  * compute penalties and objectives
1673      V_load_bus_volt_pen_dev_start(i)$bus_penalize_volt_mag_target(i) = abs(
1674            sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i)))
1675          - volt_mag_target(i)
1676          - load_bus_volt_dead_band);
1677      V_load_bus_volt_pen_start =
1678          sum(i$bus_penalize_volt_mag_target(i),
1679                load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev_start(i)
1680              + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev_start(i)));
1681      V_shuntSwitching_start(i,bus_s)$numBswitched(i,bus_s) =
1682          abs(V_shunt_start(i,bus_s) - numShuntStepsOn_init(i,bus_s));
1683      V_totalShuntSwitching_start =
1684          sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching_start(i,bus_s));
1685      V_shuntSwitchingPenalty_start(i,bus_s)$numBswitched(i,bus_s) = max(0,
1686          shuntSwitchingPenalty1 * V_shuntSwitching_start(i,bus_s),
1687          shuntSwitchingPenalty2 * (V_shuntSwitching_start(i,bus_s) - shuntSwitchingTolerance));
1688      V_shuntTotalSwitchingPenalty_start =
1689          shuntSwitchingBudgetPenalty * max(0, V_totalShuntSwitching_start - shuntSwitchingBudget);
1690      V_shuntSwitchingTotalPenalty_start =
1691            V_shuntTotalSwitchingPenalty_start
1692          + sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty_start(i,bus_s));
1693      V_previous_solution_penalty_start =
1694        previous_solution_penalty_2 * (
1695            sum(gen, sqr(V_P_prior(gen) - V_P_start(gen)))
1696          + sum(gen, sqr(V_Q_prior(gen) - V_Q_start(gen)))
1697          + sum(i, sqr(P_S_prior(i) - P_S_start(i)))
1698          + sum(i, sqr(Q_S_prior(i) - Q_S_start(i)))
1699          + sum(i, sqr(V_real_prior(i) - V_real_start(i)))
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 33
compute_start_metrics
C o m p i l a t i o n


1700          + sum(i, sqr(V_imag_prior(i) - V_imag_start(i)))
1701          + sum(i, sqr(Solar_p_curtail_prior(i) - Solar_p_curtail_start(i)))
1702          + sum(i, sqr(De_response_Inc_P_prior(i) - De_response_Inc_P_start(i)))
1703          + sum(i, sqr(De_response_Dec_P_prior(i) - De_response_Dec_P_start(i))));
1704      V_objcost_start =
1705             V_shuntSwitchingTotalPenalty_start
1706           + V_load_bus_volt_pen_start
1707           + solar_curtail_penalty * sum(i,Solar_p_curtail_start(i))
1708           + demand_response_increase_penalty * sum(i,De_response_Inc_P_start(i))
1709           - demand_response_decrease_penalty * sum(i,De_response_Dec_P_start(i))
1710           + sum(i,V_Lossi_start(i))
1711           + V_previous_solution_penalty_start;
1712   
1713  * compute variable bound violations
1714      gen_p_lo_viol_start(gen)$status(gen) =
1715          max(0, pmin(gen) - v_p_start(gen));
1716      gen_p_up_viol_start(gen)$status(gen) =
1717          max(0, v_p_start(gen) - pmax(gen));
1718      gen_q_lo_viol_start(gen)$status(gen) =
1719          max(0, qmin(gen) - v_q_start(gen));
1720      gen_q_up_viol_start(gen)$status(gen) =
1721          max(0, v_q_start(gen) - qmax(gen));
1722      De_response_Inc_P_up_viol_start(bus)$(Pd_respon_location(bus)) =
1723          max(0, de_response_inc_p_start(bus) - Pd_respon_p_up(bus));
1724      De_response_dec_P_lo_viol_start(bus)$(Pd_respon_location(bus)) =
1725          max(0, Pd_respon_p_down(bus) - de_response_dec_p_start(bus));
1726      v_shunt_up_viol_start(bus,bus_s)$numbswitched(bus,bus_s) =
1727          max(0, v_shunt_start(bus,bus_s) - numbswitched(bus,bus_s));
1728   
1729  * compute constraint violations
1730      balance_p_viol_start(i)$(type(i) ne 4) =
1731            sum(gen$(atBus(gen,i) and status(gen)), V_P_start(gen))
1732          - Pd(i)
1733          - De_response_Inc_P_start(i)$Pd_respon_location(i)
1734          - De_response_Dec_P_start(i)$Pd_respon_location(i)
1735          + P_S_start(i)$sum(solarbus,solarlocation(solarbus,i))
1736          - Solar_p_curtail_start(i)$contro_solar_location(i)
1737          - V_real_start(i) *
1738            (  sum((j,c)$(branchstatus(i,j,c)), V_LineIr_start(i,j,c))
1739             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr_start(i,j,c)) )
1740          - V_imag_start(i) *
1741            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIq_start(i,j,c))
1742             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq_start(i,j,c)))
1743          - Gs(i) * (sqr(V_real_start(i)) + sqr(V_imag_start(i)));
1744      balance_q_viol_start(i)$(type(i) ne 4) =
1745            sum(gen$(atBus(gen,i) and status(gen)), V_Q_start(gen))
1746          - Qd(i)
1747          - Pd_respon_q_up(i)*De_response_Inc_P_start(i)$Pd_respon_location(i)
1748          - Pd_respon_q_down(i)*De_response_Dec_P_start(i)$Pd_respon_location(i)
1749          + Q_S_start(i)$sum(solarbus,solarlocation(solarbus,i))
1750          + V_real_start(i) *
1751            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIq_start(i,j,c))
1752             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIq_start(i,j,c)))
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 34
compute_start_metrics
C o m p i l a t i o n


1753          - V_imag_start(i) *
1754            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIr_start(i,j,c))
1755             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  ), V_LineIr_start(i,j,c)))
1756          + (Bs(i) + V_switchedShuntB_start(i)$sum(bus_s$numBswitched(i,bus_s), 1)) * (sqr(V_real_start(i)) + sqr(V_imag_start(i)));
1757      p_generator_add_viol_start(gen)$(status(gen) eq 1) =
1758            V_P_start(gen)
1759          - PgSch(gen)
1760          - gen_participation_factor(gen) * V_P_system_deviation_start;
1761      c_I_limit_viol_start(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c)) =
1762  *        max(0,  sqrt(sqr(V_LineIr_start(i,j,c)) + sqr(V_LineIq_start(i,j,c)))
1763  *              - currentrate(i,j,c));
1764  0;
1765  * NOTE: currentrate apparently is not defined and we are not enforcing this constraint
1766      c_V_limit_lo_viol_start(i) =
1767          max(0, minVm(i) - sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))));
1768      c_V_limit_up_viol_start(i) =
1769          max(0, sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))) - maxVm(i));
1770      v_generator_hardupl_viol_start(i) =
1771          max(0, sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))) - 1.15);
1772      v_generator_harddownl_viol_start(i) =
1773          max(0, 0.88 - sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))));
1774      v_under_q_up_slack_viol_start(gen)$status(gen) =
1775          sum(i$atbus(gen,i),
1776              min(max(0, vsch(i) - sqrt(sqr(v_real_start(i)) + sqr(v_imag_start(i)))),
1777                  max(0, qmax(gen) - v_q_start(gen))));
1778      v_over_q_lo_slack_viol_start(gen)$status(gen) =
1779          sum(i$atbus(gen,i),
1780              min(max(0, sqrt(sqr(v_real_start(i)) + sqr(v_imag_start(i))) - vsch(i)),
1781                  max(0, v_q_start(gen) - qmin(gen))));
1782   
1783  * compute summaries
1784      p_load_start = sum(i, pd(i));
1785      p_gen_start = sum(gen$status(gen), V_P_start(gen));
1786      p_shunt_start = sum(i, Gs(i) * (sqr(V_real_start(i)) + sqr(V_imag_start(i))));
1787      p_solar_start
1788        = sum(i$sum(solarbus,solarlocation(solarbus,i)), P_S_start(i))
1789        - sum(i$contro_solar_location(i), Solar_p_curtail_start(i));
1790      p_dr_start
1791        = sum(i$Pd_respon_location(i), De_response_Inc_P_start(i))
1792        + sum(i$Pd_respon_location(i), De_response_Dec_P_start(i));
1793      p_imbalance_start
1794        = p_gen_start
1795        - p_load_start
1796        - p_shunt_start
1797        + p_solar_start
1798        - p_dr_start;
1799      sum_loss_start = sum(i,v_lossi_start(i));
1800  *    v_load_bus_volt_pen_start
1801  *    v_totalshuntswitching_start
1802  *    v_shuntswitchingtotalpenalty_start
1803  *    v_previous_solution_penalty_start
1804  *    v_objcost_start
1805      max_gen_p_lo_viol_start = smax(gen$status(gen), gen_p_lo_viol_start(gen));
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 35
compute_start_metrics
C o m p i l a t i o n


1806      max_gen_p_up_viol_start = smax(gen$status(gen), gen_p_up_viol_start(gen));
1807      max_gen_q_lo_viol_start = smax(gen$status(gen), gen_q_lo_viol_start(gen));
1808      max_gen_q_up_viol_start = smax(gen$status(gen), gen_q_up_viol_start(gen));
1809      max_De_response_Inc_P_up_viol_start = smax(bus$Pd_respon_location(bus), de_response_inc_p_up_viol_start(bus));
1810      max_De_response_dec_P_lo_viol_start = smax(bus$Pd_respon_location(bus), de_response_dec_p_lo_viol_start(bus));
1811      max_v_shunt_up_viol_start = smax((bus,bus_s)$numbswitched(bus,bus_s), v_shunt_up_viol_start(bus,bus_s));
1812      max_balance_p_viol_start = smax(i$(type(i) ne 4), abs(balance_p_viol_start(i)));
1813      max_balance_q_viol_start = smax(i$(type(i) ne 4), abs(balance_q_viol_start(i)));
1814      max_p_generator_add_viol_start = smax(gen$(status(gen) eq 1), abs(p_generator_add_viol_start(gen)));
1815      max_c_I_limit_viol_start = smax((i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c)), c_i_limit_viol_start(i,j,c));
1816      max_c_V_limit_lo_viol_start = smax(i, c_v_limit_lo_viol_start(i));
1817      max_c_V_limit_up_viol_start = smax(i, c_v_limit_up_viol_start(i));
1818      max_v_generator_hardupl_viol_start = smax(i, v_generator_hardupl_viol_start(i));
1819      max_v_generator_harddownl_viol_start = smax(i, v_generator_harddownl_viol_start(i));
1820      max_v_under_q_up_slack_viol_start = smax(gen$status(gen), v_under_q_up_slack_viol_start(gen));
1821      max_v_over_q_lo_slack_viol_start = smax(gen$status(gen), v_over_q_lo_slack_viol_start(gen));
1822   
1823  *===== SECTION: DISPLAY START METRICS
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/display_start.gms
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 36
display_start
C o m p i l a t i o n


      Display variable values, constraint violations, bound violations, penalties, objectives, and summaries at the start point
1829   
1830  display
1831      "display start"
1832  * data
1833      Pd
1834      Qd
1835  * control variables
1836      V_P_start
1837      V_Q_start
1838      P_S_start
1839      Q_S_start
1840      V_real_start
1841      V_imag_start
1842      Solar_p_curtail_start
1843      De_response_Dec_P_start
1844      De_response_Inc_P_start
1845      V_switchedshuntB_start
1846      V_shunt_start
1847      V_P_system_deviation_start
1848  * current
1849      V_LineIr_start
1850      V_LineIq_start
1851  * losses
1852      V_Lossijc_start
1853      V_Lossi_start
1854  * penalties and objectives
1855      V_load_bus_volt_pen_dev_start
1856      V_load_bus_volt_pen_start
1857      V_shuntSwitching_start
1858      V_totalShuntSwitching_start
1859      V_shuntSwitchingPenalty_start
1860      V_shuntTotalSwitchingPenalty_start
1861      V_shuntSwitchingTotalPenalty_start
1862      V_previous_solution_penalty_start
1863      V_objcost_start
1864  * variable bound violations
1865      gen_p_lo_viol_start
1866      gen_p_up_viol_start
1867      gen_q_lo_viol_start
1868      gen_q_up_viol_start
1869      De_response_Inc_P_up_viol_start
1870      De_response_dec_P_lo_viol_start
1871      v_shunt_up_viol_start
1872  * constraint violations
1873      balance_p_viol_start
1874      balance_q_viol_start
1875      p_generator_add_viol_start
1876      c_I_limit_viol_start
1877      c_V_limit_lo_viol_start
1878      c_V_limit_up_viol_start
1879      v_generator_hardupl_viol_start
1880      v_generator_harddownl_viol_start
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 37
display_start
C o m p i l a t i o n


1881      v_under_q_up_slack_viol_start
1882      v_over_q_lo_slack_viol_start
1883  * summaries
1884      "display start summary"
1885      p_load_start
1886      p_gen_start
1887      p_shunt_start
1888      sum_loss_start
1889      v_load_bus_volt_pen_start
1890      v_totalshuntswitching_start
1891      v_shuntswitchingtotalpenalty_start
1892      v_previous_solution_penalty_start
1893      v_objcost_start
1894      max_gen_p_lo_viol_start
1895      max_gen_p_up_viol_start
1896      max_gen_q_lo_viol_start
1897      max_gen_q_up_viol_start
1898      max_De_response_Inc_P_up_viol_start
1899      max_De_response_dec_P_lo_viol_start
1900      max_v_shunt_up_viol_start
1901      max_balance_p_viol_start
1902      max_balance_q_viol_start
1903      max_p_generator_add_viol_start
1904      max_c_I_limit_viol_start
1905      max_c_V_limit_lo_viol_start
1906      max_c_V_limit_up_viol_start
1907      max_v_generator_hardupl_viol_start
1908      max_v_generator_harddownl_viol_start
1909      max_v_under_q_up_slack_viol_start
1910      max_v_over_q_lo_slack_viol_start;
1911   
1913   
1914  put report_file;
1915  report_file.ap = 1;
1916  put
1917      'start point summary' /
1918      'p_load'
1919      p_load_start /
1920      'p_gen'
1921      p_gen_start /
1922      'p_shunt'
1923      p_shunt_start /
1924      'p_solar'
1925      p_solar_start /
1926      'p_dr'
1927      p_dr_start /
1928      'p_imbalance'
1929      p_imbalance_start /
1930      'sum_loss'
1931      sum_loss_start /
1932      'v_load_bus_volt_pen'
1933      v_load_bus_volt_pen_start /
1934      'v_totalshuntswitching'
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 38
display_start
C o m p i l a t i o n


1935      v_totalshuntswitching_start /
1936      'v_shuntswitchingtotalpenalty'
1937      v_shuntswitchingtotalpenalty_start /
1938      'v_previous_solution_penalty'
1939      v_previous_solution_penalty_start /
1940      'v_objcost'
1941      v_objcost_start /
1942      'max_gen_p_lo_viol'
1943      max_gen_p_lo_viol_start /
1944      'max_gen_p_up_viol'
1945      max_gen_p_up_viol_start /
1946      'max_gen_q_lo_viol'
1947      max_gen_q_lo_viol_start /
1948      'max_gen_q_up_viol'
1949      max_gen_q_up_viol_start /
1950      'max_De_response_Inc_P_up_viol'
1951      max_De_response_Inc_P_up_viol_start /
1952      'max_De_response_dec_P_lo_viol'
1953      max_De_response_dec_P_lo_viol_start /
1954      'max_v_shunt_up_viol'
1955      max_v_shunt_up_viol_start /
1956      'max_balance_p_viol'
1957      max_balance_p_viol_start /
1958      'max_balance_q_viol'
1959      max_balance_q_viol_start /
1960      'max_p_generator_add_viol'
1961      max_p_generator_add_viol_start /
1962      'max_c_I_limit_viol'
1963      max_c_I_limit_viol_start /
1964      'max_c_V_limit_lo_viol'
1965      max_c_V_limit_lo_viol_start /
1966      'max_c_V_limit_up_viol'
1967      max_c_V_limit_up_viol_start /
1968      'max_v_generator_hardupl_viol'
1969      max_v_generator_hardupl_viol_start /
1970      'max_v_generator_harddownl_viol'
1971      max_v_generator_harddownl_viol_start /
1972      'max_v_under_q_up_slack_viol'
1973      max_v_under_q_up_slack_viol_start /
1974      'max_v_over_q_lo_slack_viol'
1975      max_v_over_q_lo_slack_viol_start /;
1976  putclose;
1977   
1978  *===== SECTION: MODEL OPTIONS AND SOLVE
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solve_procedure.gms
1981   
1982  *nlpfile knitroset.opt
1983  option  nlp = KNITRO;
1984  option  rminlp = KNITRO;
1985  option  minlp = knitro;
1986  option SysOut = On;
1987  *feastol =1e-7
1988   
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 39
display_start
C o m p i l a t i o n


2005   
2022   
2023  acopf.optfile=1;
2024  acopf.optca = 0;
2025  *acopf.optcr = 1e-8;
2026  acopf.reslim = 60;
2027  acopf.holdfixed = 1;
2028  acopf_check.optfile=1;
2029  acopf_check.optca = 0;
2030  *acopf_check.optcr = 1e-8;
2031  acopf_check.reslim = 60;
2032  acopf_check.holdfixed = 1;
2033   
      * TODO JH remove this solve
      * initial solve with penalty model
      * we seem to have significant difficulty solving a minlp problem,
      * at some time steps, even if we provide a feasible solution.
      * this is a problem with the knitro solver.
      *display "foo", numShuntStepsOn_init;
      V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_init(bus,bus_s);
      solve acopf_check min V_objcosttest using rminlp;
      V_shunt.fx(bus,bus_s)$numBswitched(bus,bus_s) = round(V_shunt.l(bus,bus_s));
      solve acopf_check min V_objcosttest using rminlp;
      *solve acopf_check min V_objcosttest using minlp;
      V_shunt.lo(bus,bus_s)$numBswitched(bus,bus_s) = 0;
      V_shunt.up(bus,bus_s)$numBswitched(bus,bus_s) = numBswitched(bus,bus_s);
      *solve acopf_check min V_objcosttest using minlp;
      * PHASE 3:
      * set voltage penalty parameters to 0
      * fix voltage magnitude deviations to 0 for buses already achieving 0 deviation
      * fix reactive power (to what value?) for buses with nonzero deviation
      *   specifically,
      *     if deviation > 0 fix q to qlo
      *     if deviation < 0 fix q to qup
      *   what if deviation is nonzero but q is not at a bound already?
      *   this procedure risks infeasibility. Instead we could do:
      *     if deviation <> fix q to q.l
      *   or
      *     if deviation > 0 require q <= q.l
      *     if deviation < 0 require q >= q.l
      parameter
          sstat "final solver status"
          mstat "final model status"
          infeas "Number of infeasibilities from model solve"
          sumInf "SUM OF infeasibility";
      sstat=acopf_check.solvestat;
      mstat=acopf_check.modelstat;
      infeas = acopf_check.numInfes;
      sumInf = acopf_check.sumInfes;
2072   
2073  * TODO JH - feasibility problems with these solves
2074  * need to fix this
2075  *$ontext
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 40
display_start
C o m p i l a t i o n


2076   
2077  *==== SECTION: Solution Analysis
2078  * See if model is solved
2079  parameter
2080      sstat "final solver status"
2081      mstat "final model status"
2082      infeas "Number of infeasibilities from model solve"
2083      sumInf "SUM OF infeasibility";
2084   
2085  * for test to evaluate quality of start point
2086  * remove these lines for a real run
2087  *option rminlp=examiner;
2088  *solve acopf min V_objcost using rminlp;
2089  *$exit
2090   
2091  *** solve the model (phase 1)
2092  solve acopf min V_objcost using rminlp;
2093  **$exit
2094  **OPTION NLP=GAMSCHK;
2095  **solve acopf min V_objcost using rminlp;
2096  *
2097  *
2098  *
2099  infeas = acopf.numInfes;
2100  sumInf = acopf.sumInfes;
2101  sstat=acopf.solvestat;
2102  mstat=acopf.modelstat;
2103  *display infeas,sumInf;
2104   
2105  if(infeas ne 0,
2106  *        solve phase 2
2107  *        what is the best shunt starting point?
2108  *        does it matter?
2109           display  V_shunt.l;
2110           V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_init(bus,bus_s);
2111           solve acopf_check min V_objcosttest using rminlp;
2112  *         if(acopf_check.modelstat ne 2 or acopf_check.modelstat ne 7,
2113  *            abort "failed to solve acopf_check with relaxed shunt settings";);
2115           display  V_shunt.l;
2116  *         if(acopf_check.modelstat ne 2 or acopf_check.modelstat ne 7,
2117  *            abort "failed to solve scopf_check after fixing shunts";);
2118           infeas = acopf_check.numInfes;
2119           sstat=acopf_check.solvestat;
2120           mstat=acopf_check.modelstat;
2121           saturaup(i)=V_artup.l(i);
2122           saturalow(i)=V_artlow.l(i);
2123  *        solve phase 3
2124           V_Q.fx(gen)$((sum(bus$atBus(gen,bus),saturaup(bus)) ne 0) or (sum(bus$atBus(gen,bus),saturalow(bus)) ne 0)) =V_Q.l(gen);
2125  *        V_Q.fx(gen)$(genQtemp(gen) ne 0 )=genQtemp(gen);
2126  *         acopf.optfile=2;
2127           solve acopf min V_objcost using rminlp;
2128  *         if(acopf.modelstat ne 2,
2129  *            abort "failed to solve acopf after fixing V at saturated buses";);
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 41
display_start
C o m p i l a t i o n


2130           infeas = acopf.numInfes;
2131           sstat=acopf.solvestat;
2132           mstat=acopf.modelstat;
2133  *        solve acopf_resolve min V_objcosttest using rminlp;
2134  );
2135   
2136  *$batinclude "%filepath%objective_voltage_stability_addterm.gms" obj demandbids
2137   
2138  * TODO - need to fix above solves
2139  *$offtext
2140   
2141  *while((infeas ne 0),
2142  *   voltageran_low=voltageran_low-step_leng;
2143  *   voltageran_high=voltageran_high+step_leng;
2144  *   display voltageran_low,voltageran_high;
2145  *   solve acopf min V_objcost using minlp;
2146  *);
2148   
2149   
2150   
2151  *===== SECTION: SOLUTION ANALYSIS
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solution_analysis.gms
2153   
2154  * Declaration needs to be made outside loop
2155  set
2156      lines_at_limit(i,j,c) "lines at their bound"
2157  ;
2158  parameters
2159      total_cost "Cost of objective function"
2160      LMP(bus) "Locational marginal price"
2161      LineSP(i,j,c) "Marginal price of active power on line (i,j,c)"
2162      shuntB(i)
2163      TotalLoss         " Total Loss of all the lines"
2164      TotalSwitches "number of shunt switches used"
2165      RMSVoltageDeviation "root mean square of load bus voltage deviations"
2166      AverageLoadBusVoltageDeviation "average of load bus voltage deviations"
2167      VoltageDevNongen(bus) "voltage deviation in percentage"
2168      vmgen(gen) "generator voltage magnitude"
2169      vmgenBus(bus) "generator voltage magnitude at bus, consider multiple gen at same bus"
2170      vmnongen(bus) "nongenerator voltage magnitude"
2171      Totalvgendev "total gen voltage deviation from schedule"
2172      Totalvnongendev "total nongen voltage deviation from schedule"
2173      genbusid(gen)
2174      solarQupperlimit(bus)
2175      solarQlowerlimit(bus)
2176  ;
2177   
2178      TotalLoss=sum(i,V_Lossi.l(i));
2179  *     TotalLoss=0;
2180      TotalSwitches = sum((i,bus_s)$numBswitched(i,bus_s),abs(V_shunt.l(i,bus_s) - numShuntStepsOn_init(i,bus_s)));
2181  *    RMSVoltageDeviation=sqrt(sum(bus$load(bus), sqr(load_bus_voltage_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus))))) / max(sum(bus$load(bus),1),1));
2182      AverageLoadBusVoltageDeviation = sum(bus$load(bus), abs(load_bus_voltage_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus))))) / max(sum(bus$load(bus),1),1);
2183      VoltageDevNongen(bus)$(bus_penalize_volt_mag_target(bus) and type(bus) eq 1)=  load_bus_voltage_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus)));
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 42
display_start
C o m p i l a t i o n


2184  *calculate the total voltage deviation of generator bus and nongenerator bus
2185      Totalvnongendev= sum(bus$load(bus), abs(load_bus_voltage_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus)))));
2186      Totalvgendev= sum(bus$isGen(bus), abs(Vsch(bus) - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus)))));
2187   
2188   
2189   
2190   
2191  *    Totalvgendev
2192   
2193   
2194  display  TotalLoss, infeas;
2195   
2196  ** switched shunt solution values
2197  parameter
2198    numShuntStepsOn_final(bus,bus_s)
2199    switched_shunt_susceptance_final(bus,bus_s);
2200  set
2201    switched_shunt_susceptance_keys(bus,bus_s);
2202  switched_shunt_susceptance_keys(bus,bus_s) = yes$numBswitched(bus,bus_s);
2203  numShuntStepsOn_final(i,bus_s)$numBswitched(i,bus_s) = V_shunt.l(i,bus_s);
2204  switched_shunt_susceptance_final(bus,bus_s)$numBswitched(bus,bus_s) = V_shunt.l(bus,bus_s) * Bswitched(bus,bus_s);
2205  execute_unload 'switched_shunt_current.gdx', numShuntStepsOn_final=numShuntStepsOn;
2206  *display switched_shunt_susceptance_keys;
2207  if(infeas eq 0,
2208  * Final Objective function value
2209      total_cost = V_objcost.l;
2210  * Generator real power solution
2211      Pg(gen) = V_P.l(gen);
2212  * Generator reactive power solution
2213      Qg(gen) = V_Q.l(gen);
2214  * Voltage magnitude solution
2215      Vm(bus) = sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus)));
2216      vmgen(gen) =sum(bus$(atBus(gen,bus)), Vm(bus));
2217      vmgenBus(bus)$(sum(gen,atBus(gen,bus)) > 0)= Vm(bus);
2218      vmnongen(bus)=Vm(bus)$(load(bus))
2219      display Vm;
2220  * Voltage angle solution
2221  *    Va(bus) = arctan2(V_imag.l(bus),V_real.l(bus)) * 180 / pi;
2222      loop(bus,
2223      if(V_real.l(bus) > 0,
2224          Va(bus) = arctan(V_imag.l(bus)/V_real.l(bus)) * 180/pi;
2225      else
2226          Va(bus) = arctan(V_imag.l(bus)/V_real.l(bus)) * 180/pi + 180;
2227      );
2228      );
2229  * Bus shunt solution
2230      shuntB(i) = sum(bus_s$numBswitched(i,bus_s), V_shunt.l(i,bus_s)*Bswitched(i,bus_s));
2231  * Locational marginal price of bus at time t
2232  *    LMP(bus) = c_BalanceP_nosolar.m(bus);
2233   
2234  * Marginal for active power on a line
2235  *    LineSP(i,j,c)$branchstatus(i,j,c) = c_I_Limit.m(i,j,c);
2236  *    LineSP(j,i,c)$branchstatus(i,j,c) = c_I_Limit.m(j,i,c);
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 43
display_start
C o m p i l a t i o n


2237   
2238  * Find which lines are at their limits
2239  *lines_at_limit(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c)) = yes$
2240  *     (sqr(currentrate(i,j,c)) - sqr(V_LineIr.L(i,j,c)) - sqr(V_LineIq.L(i,j,c)) le 1e-4);
2241  *display lines_at_limit;
2242   
2243  *==== SECTION: SOLUTION SAVE
INCLUDE    /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solution_save.gms
2245  *file filename;
2246  *put_utility filename 'Exec' / 'results_' i.tl:0 '.gdx';
2247   
2248   
2249   
2250   
2251   
2252   
2253  *put_utilities  'gdxout' / 'out' Nb:0:0;
2254   
2256  );
2257   
2258  display Pmax, Pmin,ratio,switchedShuntB_init, V_dem_Load.l, V_switchedshuntB.l,V_P.l,V_P.up, V_P.lo, V_Q.l, V_Q.up, V_Q.lo, Qmax, Qmin;

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME nongen OF TYPE SET  
**** STRAY NAME fuel_t OF TYPE SET  
**** STRAY NAME fuel_s OF TYPE SET  
**** STRAY NAME prime_mover OF TYPE SET  
**** STRAY NAME gen_s OF TYPE SET  
**** STRAY NAME interface_t OF TYPE SET  
**** STRAY NAME Nb OF TYPE PARAM
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 44
display_start
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/iv_acopf_reformulation_lop_adj.gms
     2      147 BATINCLUDE     1     151  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/extract_data_SunLamp_newformulation_cle.gms
     3      204 GDXIN          2      57  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/7bus.gdx
     4      220 GDXIN          2      73  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solarbus2.gdx
     5      307 GDXIN          2     164  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/geni_st.gdx
     6      311 GDXIN          2     168  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demand_response.gdx
     7      315 GDXIN          2     172  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demandresponseload.gdx
     8      319 GDXIN          2     176  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/demandresponseprice.gdx
     9      366 GDXIN          2     244  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solarlocation.gdx
    10      411 GDXIN          2     289  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/UC_OPF_load_elwi_BV.gdx
    11      449 GDXIN          2     327  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/geni_p.gdx
    12      465 GDXIN          2     343  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/UC_OPF_load_elwi_Q.gdx
    13      528 IF EXIST       1     153  /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/switched_shunt_current.gdx
    14      533 INCLUDE        1     158  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/params_from_user.gms
    15      564 INCLUDE        1     161  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/model_params.gms
    16      796 INCLUDE        1     164  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/data_manipulation.gms
    17      803 IF EXIST      16       7  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/switched_shunt_current.gdx
    18      845 INCLUDE        1     167  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/var_declaration.gms
    19      905 INCLUDE        1     170  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/eqn_declaration.gms
    20      952 INCLUDE        1     173  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/eqn_definition.gms
    21     1339 INCLUDE        1     176  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/mod_definition.gms
    22     1394 INCLUDE        1     179  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/var_bounds.gms
    23     1478 INCLUDE        1     182  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/start_point.gms
    24     1481 BATINCLUDE    23       3  ../home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/preset.gms
    25     1500 BATINCLUDE    23       4  ../home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/random_all.gms
    26     1516 INCLUDE       25      16  .../home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/ic_iv/calc_derived_vars.gms
    27     1643 INCLUDE        1     184  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/compute_start_metrics.gms
    28     1824 INCLUDE        1     187  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/display_start.gms
    29     1980 INCLUDE        1     193  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solve_procedure.gms
    30     2152 INCLUDE        1     199  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solution_analysis.gms
    31     2244 INCLUDE        1     202  ./home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/solution_save.gms


COMPILATION TIME     =        0.026 SECONDS      3 MB  24.9.1 r63795 LEX-LEG
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 45
display_start
E x e c u t i o n


----    329 PARAMETER demLoad  demandresponse load

1 200.000,    2   2.000,    3   0.010,    4   0.006,    5   0.005


----    329 PARAMETER demPrice  demandresponse price

2 0.105,    3 0.111,    4 0.123,    5 0.144


----    329 PARAMETER demLocation  location of demand response

18 1.000


----    329 PARAMETER demSlope  slope

2 5.303030E-4,    3       0.003,    4       3.000,    5      19.091


----    805 PARAMETER Bswitched  susceptance of switched shunts

                      ( ALL       0.000 )


----   1392 PARAMETER Pmax  gen maximum real power output

1 4.086


----   1392 PARAMETER Pmin  gen minimum real power output

                      ( ALL       0.000 )


----   1392 PARAMETER Pd  bus real power demand

7  0.120,    18 0.092,    57 0.202


----   1392 PARAMETER Va  bus voltage angle

                      ( ALL       0.000 )


----   1392 PARAMETER Vm  bus voltage magnitude

7   1.000,    13  1.000,    18  1.000,    149 1.000,    54  1.000,    57  1.000,    56  1.000

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 46
display_start
E x e c u t i o n


----   1392 PARAMETER Qg  gen reactive power output

1 0.085


----   1639 VARIABLE V_real.L  Real part of bus voltage

7    1.005,    13  -0.980,    18   0.862,    149 -0.971,    54  -0.076,    57  -0.706,    56   0.611


----   1639 VARIABLE V_imag.L  Imaginary part of bus voltage

7    0.001,    13   0.012,    18   0.465,    149  0.054,    54   0.982,    57  -0.758,    56   0.736


----   1639 PARAMETER Vm  bus voltage magnitude

7   1.005,    13  0.980,    18  0.979,    149 0.972,    54  0.985,    57  1.036,    56  0.957


----   1831 display start

----   1831 PARAMETER Pd  bus real power demand

7  0.120,    18 0.092,    57 0.202


----   1831 PARAMETER Qd  bus reactive power demand

7  0.120,    18 0.028,    57 0.063


----   1831 PARAMETER V_P_start  

1 0.702


----   1831 PARAMETER V_Q_start  

1 41.192


----   1831 PARAMETER P_S_start  

                      ( ALL       0.000 )


----   1831 PARAMETER Q_S_start  

                      ( ALL       0.000 )

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 47
display_start
E x e c u t i o n


----   1831 PARAMETER V_real_start  

7    1.005,    13  -0.980,    18   0.862,    149 -0.971,    54  -0.076,    57  -0.706,    56   0.611


----   1831 PARAMETER V_imag_start  

7    0.001,    13   0.012,    18   0.465,    149  0.054,    54   0.982,    57  -0.758,    56   0.736


----   1831 PARAMETER Solar_p_curtail_start  

                      ( ALL       0.000 )


----   1831 PARAMETER De_response_Dec_P_start  

                      ( ALL       0.000 )


----   1831 PARAMETER De_response_Inc_P_start  

                      ( ALL       0.000 )


----   1831 PARAMETER V_switchedshuntB_start  

                      ( ALL       0.000 )


----   1831 PARAMETER V_shunt_start  

                      ( ALL       0.000 )


----   1831 PARAMETER V_P_system_deviation_start =        0.000  

----   1831 PARAMETER V_LineIr_start  

                  1

7  .13       12.603
7  .149       8.247
13 .7       -16.833
13 .18      -17.407
13 .54      -32.010
18 .13     -239.924
149.7       -33.668
54 .13     -179.389
54 .57     -185.223
54 .56     -322.650
57 .54      133.891
56 .54     -239.708
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 48
display_start
E x e c u t i o n


----   1831 PARAMETER V_LineIq_start  

                  1

7  .13      301.888
7  .149     441.089
13 .7      -293.708
13 .18     -515.919
13 .54     -199.494
18 .13      452.074
149.7      -425.446
54 .13      -25.123
54 .57      -13.089
54 .56      -13.816
57 .54     -165.937
56 .54      189.052


----   1831 PARAMETER V_Lossijc_start  

                 1

7  .13    2646.190
13 .18   12744.186
13 .54     769.093
149.7     7390.955
54 .57     699.579
54 .56    3022.954


----   1831 PARAMETER V_Lossi_start  

7    2646.190,    13  13513.279,    149  7390.955,    54   3722.533


----   1831 PARAMETER V_load_bus_volt_pen_dev_start  

7  0.005,    18 0.031,    57 0.026


----   1831 PARAMETER V_load_bus_volt_pen_start =        0.061  

----   1831 PARAMETER V_shuntSwitching_start  

                      ( ALL       0.000 )


----   1831 PARAMETER V_totalShuntSwitching_start =        0.000  

----   1831 PARAMETER V_shuntSwitchingPenalty_start  

                      ( ALL       0.000 )

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 49
display_start
E x e c u t i o n


----   1831 PARAMETER V_shuntTotalSwitchingPenalty_start =        0.000  
            PARAMETER V_shuntSwitchingTotalPenalty_start =        0.000  
            PARAMETER V_previous_solution_penalty_start =        0.000  
            PARAMETER V_objcost_start      =    27273.018  

----   1831 PARAMETER gen_p_lo_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER gen_p_up_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER gen_q_lo_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER gen_q_up_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER De_response_Inc_P_up_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER De_response_dec_P_lo_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER v_shunt_up_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER balance_p_viol_start  

7   -22.064,    13  -53.230,    18   -3.488,    149  -8.950,    54   -0.960,    57  -31.506,    56    7.336


----   1831 PARAMETER balance_q_viol_start  

7   746.571,    13  989.752,    18  501.121,    149 456.079,    54  678.878,    57  218.520,    56  291.980

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 50
display_start
E x e c u t i o n


----   1831 PARAMETER p_generator_add_viol_start  

1 0.402


----   1831 PARAMETER c_I_limit_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER c_V_limit_lo_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER c_V_limit_up_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER v_generator_hardupl_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER v_generator_harddownl_viol_start  

                      ( ALL       0.000 )


----   1831 PARAMETER v_under_q_up_slack_viol_start  

1 0.028


----   1831 PARAMETER v_over_q_lo_slack_viol_start  

                      ( ALL       0.000 )


----   1831 display start summary
            PARAMETER p_load_start         =        0.414  
            PARAMETER p_gen_start          =        0.702  
            PARAMETER p_shunt_start        =        0.000  
            PARAMETER sum_loss_start       =    27272.957  
            PARAMETER V_load_bus_volt_pen_start =        0.061  
            PARAMETER V_totalShuntSwitching_start =        0.000  
            PARAMETER V_shuntSwitchingTotalPenalty_start =        0.000  
            PARAMETER V_previous_solution_penalty_start =        0.000  
            PARAMETER V_objcost_start      =    27273.018  
            PARAMETER max_gen_p_lo_viol_start =        0.000  
            PARAMETER max_gen_p_up_viol_start =        0.000  
            PARAMETER max_gen_q_lo_viol_start =        0.000  
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 51
display_start
E x e c u t i o n


            PARAMETER max_gen_q_up_viol_start =        0.000  
            PARAMETER max_De_response_Inc_P_up_viol_start =         -INF  
            PARAMETER max_De_response_dec_P_lo_viol_start =         -INF  
            PARAMETER max_v_shunt_up_viol_start =         -INF  
            PARAMETER max_balance_p_viol_start =       53.230  
            PARAMETER max_balance_q_viol_start =      989.752  
            PARAMETER max_p_generator_add_viol_start =        0.402  
            PARAMETER max_c_I_limit_viol_start =        0.000  
            PARAMETER max_c_V_limit_lo_viol_start =        0.000  
            PARAMETER max_c_V_limit_up_viol_start =        0.000  
            PARAMETER max_v_generator_hardupl_viol_start =        0.000  
            PARAMETER max_v_generator_harddownl_viol_start =        0.000  
            PARAMETER max_v_under_q_up_slack_viol_start =        0.028  
            PARAMETER max_v_over_q_lo_slack_viol_start =        0.000  

**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 52
display_start
E x e c u t i o n


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1916: NOT ENOUGH SPACE FOR E-FORMAT - RESET

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 53
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2092


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13) + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13) + V_LineIr(7,13,1) =E= 0 ; (LHS = 0)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13) + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13) + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ; (LHS = 0)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13) + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13) + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13) + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13) + V_LineIr(13,7,1) =E= 0 ; (LHS = 0)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18) + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18) + V_LineIr(18,13,1) =E= 0 ; (LHS = 0)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54) + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54) + V_LineIr(54,13,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13) - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13) + V_LineIq(7,13,1) =E= 0 ; (LHS = 0)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13) - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13) + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ; (LHS = 0)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54) - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54) + V_LineIq(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13) + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13) + V_LineIq(13,7,1) =E= 0 ; (LHS = 0)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13) - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13) - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ; (LHS = 0)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54) + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54) + V_LineIq(54,13,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  - (20.8501745720263)*V_real(7) - (742.977332127854)*V_imag(7) - (1.00503665513271)*V_LineIr(7,13,1) - (1.00503665513271)*V_LineIr(7,149,1) - (0.00133034002365855)*V_LineIq(7,13,1) - (0.00133034002365855)*V_LineIq(7,149,1)
     
      + V_p_over(7) - V_p_under(7) =E= 0.1203998666672 ; (LHS = -21.9436021924031, INFES = 22.0640020590703 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 54
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2092


     c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(18)..  (239.923582564829)*V_real(18) - (452.073832861312)*V_imag(18) - (0.861825207707811)*V_LineIr(18,13,1) - (0.464899443753814)*V_LineIq(18,13,1) + V_p_over(18) - V_p_under(18) + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4)
     
      + V_dem_Load(5) =E= 200.091688342015 ; (LHS = -3.3966820549428, INFES = 203.488370396958 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) + (33.6683243813853)*V_real(149) + (0.970896547022566)*V_LineIr(149,7,1) + V_p_over(149) - V_p_under(149) =E= 0 ; (LHS = -31.9867011045706, INFES = 31.9867011045706 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) + (66.2497244992567)*V_real(13) + (1009.12076631816)*V_imag(13) + (0.980045239596752)*V_LineIr(13,7,1) + (0.980045239596752)*V_LineIr(13,18,1) + (0.980045239596752)*V_LineIr(13,54,1) - (0.0115918279835254)*V_LineIq(13,7,1)
     
      - (0.0115918279835254)*V_LineIq(13,18,1) - (0.0115918279835254)*V_LineIq(13,54,1) + V_p_over(13) - V_p_under(13) =E= 0 ; (LHS = -53.2001727823296, INFES = 53.2001727823296 ****)
     
c_BalanceP_solar(57)..  P_S(57) - (133.890506957151)*V_real(57) + (165.937178356521)*V_imag(57) + (0.705644047771549)*V_LineIr(57,54,1) + (0.758017039944419)*V_LineIq(57,54,1) + V_p_over(57) - V_p_under(57) =E= 0.20168024925 ;
     
      (LHS = -31.2841694671105, INFES = 31.4858497163605 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  (742.977332127854)*V_real(7) - (20.8501745720263)*V_imag(7) - (0.00133034002365855)*V_LineIr(7,13,1) - (0.00133034002365855)*V_LineIr(7,149,1) + (1.00503665513271)*V_LineIq(7,13,1) + (1.00503665513271)*V_LineIq(7,149,1)
     
      + V_q_over(7) - V_q_under(7) =E= 0.1203998666672 ; (LHS = 746.691714899468, INFES = 746.571315032801 ****)
     
c_BalanceQ_nosolar(18)..  (452.073832861312)*V_real(18) + (239.923582564829)*V_imag(18) - (0.464899443753814)*V_LineIr(18,13,1) + (0.861825207707811)*V_LineIq(18,13,1) + V_q_over(18) - V_q_under(18) =E= 0.0280814267144 ;
     
      (LHS = 501.148964982778, INFES = 501.120883556064 ****)
     
c_BalanceQ_nosolar(149)..  V_Q(1) - (425.44550875637)*V_real(149) - (0.970896547022566)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149) =E= 0 ; (LHS = 454.255580357819, INFES = 454.255580357819 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) - (1009.12076631816)*V_real(13) + (66.2497244992567)*V_imag(13) - (0.0115918279835254)*V_LineIr(13,7,1) - (0.0115918279835254)*V_LineIr(13,18,1) - (0.0115918279835254)*V_LineIr(13,54,1)
     
      - (0.980045239596752)*V_LineIq(13,7,1) - (0.980045239596752)*V_LineIq(13,18,1) - (0.980045239596752)*V_LineIq(13,54,1) + V_q_over(13) - V_q_under(13) =E= 0 ; (LHS = 989.751958618686, INFES = 989.751958618686 ****)
     
c_BalanceQ_solar(57)..  Q_S(57) - (165.937178356521)*V_real(57) - (133.890506957151)*V_imag(57) + (0.758017039944419)*V_LineIr(57,54,1) - (0.705644047771549)*V_LineIq(57,54,1) + V_q_over(57) - V_q_under(57) =E= 0.063472985995 ;
     
      (LHS = 218.583867971602, INFES = 218.520394985607 ****)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 55
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2092


     c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  - (0.730609253738823)*V_LineIr(7,13,1) - (17.5004417979233)*V_LineIq(7,13,1) + V_Lossijc(7,13,1) =E= 0 ; (LHS = 0)
     
c_Lossijc(13,18,1)..  (1.66499834105197)*V_LineIr(13,18,1) + (49.347649944694)*V_LineIq(13,18,1) + V_Lossijc(13,18,1) =E= 0 ; (LHS = 0)
     
c_Lossijc(13,54,1)..  (1.20612955262016)*V_LineIr(13,54,1) + (7.51692271677919)*V_LineIq(13,54,1) + V_Lossijc(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ; (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  (0.999999123945862)*V_real(7) + (0.00132367197894191)*V_imag(7) =L= 1.15 ; (LHS = 1.0050375356)
     
v_generator_hardupl(13)..  - (0.999930058321881)*V_real(13) + (0.0118270226345806)*V_imag(13) =L= 1.15 ; (LHS = 0.9801137904)
     
v_generator_hardupl(18)..  (0.880112887068305)*V_real(18) + (0.474764474256755)*V_imag(18) =L= 1.15 ; (LHS = 0.9792212117)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  (0.999999123945862)*V_real(7) + (0.00132367197894191)*V_imag(7) =G= 0.88 ; (LHS = 1.0050375356)
     
v_generator_harddownl(13)..  - (0.999930058321881)*V_real(13) + (0.0118270226345806)*V_imag(13) =G= 0.88 ; (LHS = 0.9801137904)
     
v_generator_harddownl(18)..  (0.880112887068305)*V_real(18) + (0.474764474256755)*V_imag(18) =G= 0.88 ; (LHS = 0.9792212117)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.701758781352, INFES = 0.401758781352 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 56
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2092


---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts at bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ; (LHS = 0)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - segment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - segment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = 0)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by shunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 0)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation penalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ; (LHS = 0)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 57
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2092


---- v_generator_addup  =L=  generator voltage constraints added selectively

v_generator_addup(149)..  - (1)*V_real(149) =L= 1 ; (LHS = 0.970896547022566)
     

---- v_generator_addlow  =G=  generator voltage constraints added

v_generator_addlow(149)..  - (1)*V_real(149) =G= 1 ; (LHS = 0.970896547022566, INFES = 0.0291034529774344 ****)
     

---- c_obj  =E=  Objective function

c_obj..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13) - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56) - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2) - 0.00301507537688443*V_dem_Load(3)
     
      - 3*V_dem_Load(4) - 19.0909090909091*V_dem_Load(5) - V_previous_solution_penalty + V_objcost =E= 630 ; (LHS = -1.03435364140023, INFES = 631.0343536414 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 58
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.701758781352, 4.086, 0)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- V_Q  Reactive power generation of generator

V_Q(1)
                (.LO, .L, .UP, .M = -60, 41.19200496, 60, 0)
        1       c_BalanceQ_nosolar(149)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.03, 0.3, 0)
        1       c_BalanceP_solar(13)
      -15.6625  c_obj
        0       (OLD LEVEL ****)

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.02, 0.25, 0)
        1       c_BalanceP_solar(57)
      -29.7961  c_obj
        0       (OLD LEVEL ****)


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, 0, 300, 0)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, 0, 300, 0)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, 1.00503665513271, 1.05, 0)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 59
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


     V_real  Real part of bus voltage

     (-20.8502) c_BalanceP_nosolar(7)
     (742.9773) c_BalanceQ_nosolar(7)
       (1)      v_generator_hardupl(7)
       (1)      v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, -0.980045239596752, 1.05, 0)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
      (66.2497) c_BalanceP_solar(13)
   (-1009.1208) c_BalanceQ_solar(13)
      (-0.9999) v_generator_hardupl(13)
      (-0.9999) v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, 0.861825207707811, 1.05, 0)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
     (239.9236) c_BalanceP_nosolar(18)
     (452.0738) c_BalanceQ_nosolar(18)
       (0.8801) v_generator_hardupl(18)
       (0.8801) v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, 0.00133034002365855, 1.05, 0)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
    (-742.9773) c_BalanceP_nosolar(7)
     (-20.8502) c_BalanceQ_nosolar(7)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 60
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


     V_imag  Imaginary part of bus voltage

       (0.0013) v_generator_hardupl(7)
       (0.0013) v_generator_harddownl(7)

V_imag(13)
                (.LO, .L, .UP, .M = -1.05, 0.0115918279835254, 1.05, 0)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
    (1009.1208) c_BalanceP_solar(13)
      (66.2497) c_BalanceQ_solar(13)
       (0.0118) v_generator_hardupl(13)
       (0.0118) v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, 0.464899443753814, 1.05, 0)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
    (-452.0738) c_BalanceP_nosolar(18)
     (239.9236) c_BalanceQ_nosolar(18)
       (0.4748) v_generator_hardupl(18)
       (0.4748) v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, 12.6032301835229, +INF, 0)
        1       c_LineIrij(7,13,1)
      (-1.005)  c_BalanceP_nosolar(7)
      (-0.0013) c_BalanceQ_nosolar(7)
      (-0.7306) c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, 8.24694438850338, +INF, 0)
        1       c_LineIrji(149,7,1)
      (-1.005)  c_BalanceP_nosolar(7)
      (-0.0013) c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 61
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


     V_LineIr  Real current flowing from bus i towards bus j on line c

                (.LO, .L, .UP, .M = -INF, -16.8327203831142, +INF, 0)
        1       c_LineIrji(7,13,1)
       (0.98)   c_BalanceP_solar(13)
      (-0.0116) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, 301.887904052497, +INF, 0)
        1       c_LineIqij(7,13,1)
      (-0.0013) c_BalanceP_nosolar(7)
       (1.005)  c_BalanceQ_nosolar(7)
     (-17.5004) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, 441.089428075357, +INF, 0)
        1       c_LineIqji(149,7,1)
      (-0.0013) c_BalanceP_nosolar(7)
       (1.005)  c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, -293.708088790501, +INF, 0)
        1       c_LineIqji(7,13,1)
      (-0.0116) c_BalanceP_solar(13)
      (-0.98)   c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 2646.18986548342, +INF, 0)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 12744.1859620479, +INF, 0)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 769.093360240642, +INF, 0)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 62
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 2646.18986548342, +INF, 0)
        1       c_Lossi(7)
       -1       c_obj

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 13513.2793222885, +INF, 0)
        1       c_Lossi(13)
       -1       c_obj

V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       c_Lossi(18)
       -1       c_obj

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 63
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_solar(13)

V_q_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_shuntSwitchingTotalPenaltyDef
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 64
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2092


     V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

       -1       c_obj


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 0, 198, 0)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_obj

V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 0, 1.99, 0)
        1       c_BalanceP_nosolar(18)
       -0.003   c_obj

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0, 0.004, 0)
        1       c_BalanceP_nosolar(18)
       -3       c_obj

REMAINING ENTRY SKIPPED

---- V_previous_solution_penalty  total penalty on deviation to previous solution

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_previous_solution_penalty_def
       -1       c_obj


---- V_objcost  Total cost of objective function

V_objcost
                (.LO, .L, .UP, .M = -INF, 27272.988321025, +INF, 0)
        1       c_obj


---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       -1       p_generator_add(1)

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 65
display_start
Model Statistics    SOLVE acopf Using RMINLP From line 2092


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           73
BLOCKS OF VARIABLES          21     SINGLE VARIABLES           94  2 projected
NON ZERO ELEMENTS           309     NON LINEAR N-Z            112
DERIVATIVE POOL              20     CONSTANT POOL              36
CODE LENGTH                 313


GENERATION TIME      =        0.009 SECONDS      4 MB  24.9.1 r63795 LEX-LEG


EXECUTION TIME       =        0.017 SECONDS      4 MB  24.9.1 r63795 LEX-LEG
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 66
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


               S O L V E      S U M M A R Y

     MODEL   acopf               OBJECTIVE  V_objcost
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2092

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE          9584872.5656

 RESOURCE USAGE, LIMIT          1.753        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      

*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
*** Error Error code = 2; No such file or directory
Artelys Knitro Optimizer 10.3.0

=======================================
          Commercial License
         Artelys Knitro 10.3.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (38 variables).
Knitro fixing 3 variables eliminated from the presolve.
Knitro reinitializing 1 variable eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                          93 (        85)
    bounded below only:                        4 (         4)
    bounded above only:                        0 (         0)
    bounded below and above:                  51 (        51)
    fixed:                                     0 (         0)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 67
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


    free:                                     38 (        30)
Number of constraints:                        72 (        62)
    linear equalities:                        32 (        24)
    nonlinear equalities:                     20 (        20)
    linear one-sided inequalities:             4 (         2)
    nonlinear one-sided inequalities:         16 (        16)
    linear two-sided inequalities:             0 (         0)
    nonlinear two-sided inequalities:          0 (         0)
Number of nonzeros in Jacobian:              293 (       276)
Number of nonzeros in Hessian:                77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0    2.791101e+04   9.898e+02
      10    2.099463e+04   5.445e+02   2.095e+02   9.027e+01        0
      20    2.797446e+04   5.310e+02   1.044e+02   1.524e+03        0
      30    2.538552e+04   6.381e+02   2.518e+02   1.526e+02        0
      40    2.390337e+04   5.860e+02   3.566e+02   1.342e+02        0
      50    2.121643e+04   4.587e+02   6.864e+00   5.943e+01       11
      60    1.972415e+04   3.953e+02   3.077e+03   3.645e+02        0
      70    1.650705e+04   3.147e+02   7.917e+01   5.078e+00       13
      80    1.611923e+04   2.789e+02   4.265e+02   1.415e+01        0
      90    1.588477e+04   3.217e+02   7.191e+00   1.705e+01        7
     100    1.574434e+04   3.143e+02   5.467e+04   2.457e+01        0
     110    1.504078e+04   2.887e+02   1.548e+05   7.362e+01        0
     120    1.282417e+04   2.230e+02   7.034e+05   4.463e+02        0
     130    1.098615e+04   1.402e+02   2.736e+06   6.486e+01        0
     140    1.097087e+04   1.439e+02   1.733e+01   3.599e-01        1
     150    1.030203e+04   1.102e+02   1.709e+04   9.107e+00        0
     160    9.641299e+03   9.607e+01   2.081e+06   1.531e+01        0
     170    9.448922e+03   1.094e+02   2.119e+02   1.520e+01        3
     180    9.438154e+03   1.103e+02   2.980e+01   3.902e+01        0
     190    9.380503e+03   1.095e+02   2.919e+01   4.786e+00        0
     200    9.022769e+03   1.027e+02   2.920e+01   1.915e+01        0
     210    8.700004e+03   1.008e+02   2.919e+01   2.166e+01        0
     220    7.126116e+03   2.490e+01   3.852e+01   1.245e+02        0
     230    5.193919e+04   5.320e+00   2.921e+01   3.306e+00        0
     240    5.185652e+04   5.191e+00   2.919e+01   2.019e+00        0
     250    4.684465e+04   4.817e+00   2.919e+01   3.554e+03        0
     260    4.192035e+04   4.487e+00   2.919e+01   4.524e+01        1
     270    3.402944e+04   4.255e+00   2.919e+01   1.150e+01        0
     280    3.347486e+04   3.419e+00   2.919e+01   1.018e+01        0
     290    3.341140e+04   3.243e+00   2.919e+01   6.108e-01        0
     300    3.333466e+04   3.127e+00   2.919e+01   1.919e+00        0
     310    3.332112e+04   3.087e+00   2.920e+01   4.024e+00        5
     320    3.325092e+04   2.980e+00   2.919e+01   1.564e+00        0
     330    3.320884e+04   2.915e+00   2.919e+01   6.973e-01        0
     340    3.318260e+04   2.876e+00   2.919e+01   1.452e+00        0
     350    3.311197e+04   2.771e+00   2.920e+01   3.336e+00        0
     360    3.304703e+04   2.674e+00   2.919e+01   1.560e+00        0
     370    3.302491e+04   2.635e+00   2.919e+01   9.356e-01        0
     380    3.303954e+04   2.578e+00   2.919e+01   7.052e-01        0
     390    3.283841e+04   2.269e+00   2.919e+01   2.741e+00        3
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 68
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


     400    3.278636e+04   2.190e+00   2.919e+01   2.452e+01        8
     410    3.274710e+04   2.131e+00   2.919e+01   1.910e+00        3
     420    3.269122e+04   2.043e+00   2.919e+01   2.273e-01        1
     430    3.266706e+04   2.006e+00   2.920e+01   3.674e-02        0
     440    3.263895e+04   1.962e+00   2.919e+01   2.007e+00        3
     450    3.261669e+04   1.926e+00   2.919e+01   1.161e+00        8
     460    3.258994e+04   1.885e+00   2.920e+01   7.110e+00        6
     470    3.255437e+04   1.825e+00   2.919e+01   2.209e+00       12
     480    3.253651e+04   1.770e+00   2.919e+01   5.068e+00        3
     490    3.263214e+04   1.693e+00   2.920e+01   1.795e+01        0
     500    3.300457e+04   1.559e+00   2.919e+01   5.868e+01        0
     510    3.315836e+04   1.442e+00   2.919e+01   5.366e-01        0
     520    3.314886e+04   1.428e+00   2.919e+01   4.171e-01        3
     530    3.314850e+04   1.420e+00   2.919e+01   1.111e+00        3
     540    3.314959e+04   1.410e+00   2.920e+01   1.228e+00        0
     550    3.315016e+04   1.407e+00   2.919e+01   1.037e+00        0
     560    3.315364e+04   1.409e+00   2.919e+01   1.053e+00        0
     570    3.315499e+04   1.411e+00   2.919e+01   2.188e-01        2
     580    3.315626e+04   1.411e+00   2.919e+01   6.038e-02        3
     590    3.315691e+04   1.411e+00   2.919e+01   6.114e-02        2
     600    3.315738e+04   1.411e+00   2.919e+01   6.171e-02        2
     610    3.315785e+04   1.411e+00   2.919e+01   6.227e-02        2
     620    3.315832e+04   1.411e+00   2.919e+01   6.266e-02        2
     630    3.315878e+04   1.411e+00   2.919e+01   6.306e-02        2
     640    3.315925e+04   1.411e+00   2.919e+01   6.333e-02        2
     650    3.315972e+04   1.411e+00   2.919e+01   6.362e-02        2
     660    3.316018e+04   1.411e+00   2.919e+01   6.381e-02        2
     670    3.316064e+04   1.411e+00   2.919e+01   6.402e-02        2
     680    3.316111e+04   1.412e+00   2.919e+01   6.415e-02        2
     690    3.316157e+04   1.412e+00   2.919e+01   6.431e-02        2
     700    3.316203e+04   1.412e+00   2.919e+01   6.440e-02        2
     710    3.316249e+04   1.412e+00   2.919e+01   6.452e-02        2
     720    3.316295e+04   1.412e+00   2.919e+01   6.458e-02        2
     730    3.316341e+04   1.412e+00   2.919e+01   6.467e-02        2
     740    3.316387e+04   1.412e+00   2.919e+01   6.471e-02        2
     750    3.316433e+04   1.412e+00   2.919e+01   6.478e-02        2
     760    3.316479e+04   1.412e+00   2.919e+01   6.481e-02        2
     770    3.316568e+04   1.412e+00   2.919e+01   6.487e-02        3
     780    3.316658e+04   1.412e+00   2.919e+01   6.488e-02        3
     790    3.316769e+04   1.412e+00   2.919e+01   1.305e-01        5
     800    3.317149e+04   1.399e+00   2.919e+01   3.873e-01       13
     810    3.317254e+04   1.401e+00   2.919e+01   4.649e-02        2
     820    5.962267e+04   1.246e+00   2.919e+01   1.997e+04        0
     830    9.555585e+04   1.165e+00   2.919e+01   8.952e+01        0
     840    9.584873e+06   9.789e-01   2.919e+01   1.309e+00        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =   9.58487256562666e+06
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 69
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


Final feasibility error (abs / rel) =   9.79e-01 / 9.89e-04
Final optimality error  (abs / rel) =   2.92e+01 / 9.80e-01
# of iterations                     =        840 
# of CG iterations                  =       1906 
# of function evaluations           =       3680
# of gradient evaluations           =        842
# of Hessian evaluations            =        841
Total program time (secs)           =       1.65148 (     1.572 CPU time)
Time spent in evaluations (secs)    =       0.22078

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            -0.0009      
13 .18.1          .              .              .            -0.0211      
13 .54.1          .              .              .            -0.0211      
149.7 .1          .              .              .       9.027467E-10      
54 .57.1          .              .              .            -0.0006      
54 .56.1          .              .              .            -0.0006      

---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            -0.0211      
13 .18.1          .              .              .            -0.0003      
13 .54.1          .              .              .            -0.0006      
149.7 .1          .              .              .            -0.0009      
54 .57.1          .              .              .            -0.0129      
54 .56.1          .              .              .             0.0002      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .             0.0021      
13 .18.1          .              .              .             0.0124      
13 .54.1          .              .              .             0.0124      
149.7 .1          .              .              .            -0.0023      
54 .57.1          .              .              .            -0.0010      
54 .56.1          .              .              .            -0.0010      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .             0.0124      
13 .18.1          .              .              .             0.0024      
13 .54.1          .              .              .            -0.0010      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 70
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


     EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

149.7 .1          .              .              .             0.0021      
54 .57.1          .              .              .             0.0551      
54 .56.1          .              .              .             0.0017      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.1110         0.1204         0.1346 INFES
18        200.0917       200.0243       200.0917         0.2212 INFES
149          .              .              .       -2.468359E-9      
54           .       -1.377425E-8          .             0.0576      
56           .              .              .       4.2376438E-8      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .            -0.9789          .             0.0991 INFES
57         0.2017         0.1914         0.2017         0.6026 INFES

---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.1204         0.1204        -0.0821      
18          0.0281         0.0281         0.0281        -0.1393      
149          .              .              .            -0.0062      
54           .             0.0823          .            -0.1455 INFES
56           .       1.3170151E-8          .            -0.2854      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .              .              .       -3.12998E-12      
57         0.0635         0.0635         0.0635   -8.45997E-14      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .       2.331103E-23      
13 .18.1          .              .              .       -7.27396E-23      
13 .54.1          .              .              .       -2.88140E-24      
149.7 .1          .              .              .       -1.52664E-23      
54 .57.1          .              .              .       -3.60927E-25      
54 .56.1          .              .              .       2.776037E-25      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 71
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


---- EQU c_Lossi  Loss on lines connected with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .              .             1.0000      
13           .              .              .             1.0000      
18           .              .              .             1.0000      
149          .              .              .             1.0000      
54           .              .              .             1.0000      
57           .              .              .             1.0000      
56           .              .              .             1.0000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.0147         1.1500   -1.881121E-9      
13         -INF            0.2464         1.1500   -2.363303E-9      
18         -INF            0.0093         1.1500   -1.872078E-9      
149        -INF            0.3657         1.1500   -2.722990E-9      
54         -INF            0.0074         1.1500   -1.869079E-9      
57         -INF            0.0939         1.1500   -2.022061E-9      
56         -INF            0.0058         1.1500   -1.866446E-9      

---- EQU v_generator_harddownl  bus voltage constraints lower bound

           LOWER          LEVEL          UPPER         MARGINAL

7           0.8800         0.0147        +INF            1.0000 INFES
13          0.8800         0.2464        +INF            1.0000 INFES
18          0.8800         0.0093        +INF            1.0000 INFES
149         0.8800         0.3657        +INF            1.0000 INFES
54          0.8800         0.0074        +INF            1.0000 INFES
57          0.8800         0.0939        +INF            1.0000 INFES
56          0.8800         0.0058        +INF            1.0000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment from schedule

         LOWER          LEVEL          UPPER         MARGINAL

1         0.3000         0.3000         0.3000         EPS         

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 72
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_totalSh~          .             4.1909        +INF            EPS         

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - segment 1

                NONE


---- EQU c_shuntSwitchingPenaltyDef2  defines local shunt switching penalty - segment 2

                NONE


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_shuntTo~   -5.000000E+6   -809139.6113        +INF      5.095770E-16      
---- EQU c_shuntSw~          .       3144827.1230        +INF      6.790727E-16      
---- EQU c_previou~          .       3055724.4217        +INF            EPS         

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switching
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt switching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup  generator voltage constraints added selectively

           LOWER          LEVEL          UPPER         MARGINAL

149        -INF            0.3657         1.0000   -3.366953E-9      

---- EQU v_generator_addlow  generator voltage constraints added

           LOWER          LEVEL          UPPER         MARGINAL

149         1.0000         0.3657        +INF            1.0000 INFES

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_obj            630.0000       630.0000       630.0000         1.0000      

  c_obj  Objective function

---- VAR V_P  Real power generation of generator

         LOWER          LEVEL          UPPER         MARGINAL

1          .             0.6895         4.0860          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 73
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


---- VAR V_Q  Reactive power generation of generator

         LOWER          LEVEL          UPPER         MARGINAL

1       -60.0000       -60.0000        60.0000          NA         

---- VAR P_S  real power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13         0.0300         0.3000         0.3000          NA         
57         0.0200         0.2500         0.2500          NA         

---- VAR Q_S  reactive power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13      -300.0000       -63.0416       300.0000          NA         
57      -300.0000        -1.7826       300.0000          NA         

---- VAR V_real  Real part of bus voltage

           LOWER          LEVEL          UPPER         MARGINAL

7          -1.0500         0.0019         1.0500          NA         
13         -1.0500        -0.2125         1.0500          NA         
18         -1.0500         0.0040         1.0500          NA         
149        -1.0500        -0.3657         1.0500          NA         
54         -1.0500        -0.0074         1.0500          NA         
57         -1.0500        -0.0214         1.0500          NA         
56         -1.0500         0.0058         1.0500          NA         

---- VAR V_imag  Imaginary part of bus voltage

          LOWER          LEVEL          UPPER         MARGINAL

7         -1.0500         0.0146         1.0500          NA         
13        -1.0500         0.1247         1.0500          NA         
18        -1.0500         0.0084         1.0500          NA         
54        -1.0500         0.0009         1.0500          NA         
57        -1.0500         0.0914         1.0500          NA         
56        -1.0500        -0.0006         1.0500          NA         

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -4.8565        +INF             NA         
7  .149.1        -INF           -4.8101        +INF             NA         
13 .7  .1        -INF          -40.7450        +INF             NA         
13 .18 .1        -INF          -67.2634        +INF             NA         
13 .54 .1        -INF          -26.0375        +INF             NA         
18 .13 .1        -INF           -4.6068        +INF             NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 74
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


     VAR V_LineIr  Real current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

149.7  .1        -INF           -1.8853        +INF             NA         
54 .13 .1        -INF           -0.6944        +INF             NA         
54 .57 .1        -INF           -1.8388        +INF             NA         
54 .56 .1        -INF           -0.3735        +INF             NA         
57 .54 .1        -INF          -19.3144        +INF             NA         
56 .54 .1        -INF            0.2566        +INF             NA         

---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -3.0172        +INF             NA         
7  .149.1        -INF           -2.6210        +INF             NA         
13 .7  .1        -INF          -65.8946        +INF             NA         
13 .18 .1        -INF         -112.4912        +INF             NA         
13 .54 .1        -INF          -39.6458        +INF             NA         
18 .13 .1        -INF           -0.1170        +INF             NA         
149.7  .1        -INF         -164.0839        +INF             NA         
54 .13 .1        -INF           -7.1226        +INF             NA         
54 .57 .1        -INF           -2.8181        +INF             NA         
54 .56 .1        -INF           -2.2213        +INF             NA         
57 .54 .1        -INF           -3.7778        +INF             NA         
56 .54 .1        -INF            1.7037        +INF             NA         

---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1        -INF            0.9475        +INF             NA         
13 .18.1        -INF          821.5675        +INF             NA         
13 .54.1        -INF           42.3852        +INF             NA         
149.7 .1        -INF         1092.6747        +INF             NA         
54 .57.1        -INF            0.2297        +INF             NA         
54 .56.1        -INF            0.1471        +INF             NA         

---- VAR V_Lossi  Loss on lines connecting with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.9475        +INF             NA         
13         -INF          863.9528        +INF             NA         
18         -INF             .            +INF             NA         
149        -INF         1092.6747        +INF             NA         
54         -INF            0.3768        +INF             NA         
57         -INF             .            +INF             NA         
56         -INF             .            +INF             NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 75
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


---- VAR V_p_over  real power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0100         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0100         0.0100          NA         
56           .             0.0052         0.0100          NA         

---- VAR V_p_under  real power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .       1.5866774E-8         0.0100          NA         
13           .       2.1550395E-8         0.0100          NA         
18           .              .             0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .       3.7085902E-8         0.0100          NA         
57           .              .             0.0100          NA         
56           .             0.0048         0.0100          NA         

---- VAR V_q_over  reactive power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .       2.6004993E-8         0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .       1.5329973E-8         0.0100          NA         
149          .       3.4600345E-7         0.0100          NA         
54           .       1.4676923E-8         0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .              .             0.0100          NA         

---- VAR V_q_under  reactive power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0100         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .             0.0100         0.0100          NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_totalSh~          .             4.1909        +INF             NA         
---- VAR V_shuntTo~          .       3381720.7773        +INF             NA         
---- VAR V_shuntSw~          .       6526547.9004        +INF             NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 76
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092



  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

         LOWER          LEVEL          UPPER         MARGINAL

2          .           198.0000       198.0000          NA         
3          .             1.9900         1.9900          NA         
4          .             0.0040         0.0040          NA         
5          .             0.0011         0.0011          NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_previou~          .       3055724.4217        +INF             NA         
---- VAR V_objcost         -INF      9584872.5656        +INF             .          
---- VAR V_P_syste~        -INF            0.3895        +INF             NA         

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcost  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule


**** REPORT SUMMARY :        0     NONOPT
                            13 INFEASIBLE (INFES)
                    SUM          7.1993
                    MAX          0.9789
                    MEAN         0.5538
                             0  UNBOUNDED
                             0     ERRORS
                            45  PROJECTED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 77
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=C
=0KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=1
=2
=1
=C*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
=C*** Error Error code = 2; No such file or directory
=2
=CArtelys Knitro Optimizer 10.3.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.3.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (38 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?CKnitro reinitializing 1 variable eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                          93 (        85)
?C    bounded below only:                        4 (         4)
?C    bounded above only:                        0 (         0)
?C    bounded below and above:                  51 (        51)
?C    fixed:                                     0 (         0)
?C    free:                                     38 (        30)
?CNumber of constraints:                        72 (        62)
?C    linear equalities:                        32 (        24)
?C    nonlinear equalities:                     20 (        20)
?C    linear one-sided inequalities:             4 (         2)
?C    nonlinear one-sided inequalities:         16 (        16)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 78
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


?C    linear two-sided inequalities:             0 (         0)
?C    nonlinear two-sided inequalities:          0 (         0)
?CNumber of nonzeros in Jacobian:              293 (       276)
?CNumber of nonzeros in Hessian:                77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0    2.791101e+04   9.898e+02
?C      10    2.099463e+04   5.445e+02   2.095e+02   9.027e+01        0
?C      20    2.797446e+04   5.310e+02   1.044e+02   1.524e+03        0
?C      30    2.538552e+04   6.381e+02   2.518e+02   1.526e+02        0
?C      40    2.390337e+04   5.860e+02   3.566e+02   1.342e+02        0
?C      50    2.121643e+04   4.587e+02   6.864e+00   5.943e+01       11
?C      60    1.972415e+04   3.953e+02   3.077e+03   3.645e+02        0
?C      70    1.650705e+04   3.147e+02   7.917e+01   5.078e+00       13
?C      80    1.611923e+04   2.789e+02   4.265e+02   1.415e+01        0
?C      90    1.588477e+04   3.217e+02   7.191e+00   1.705e+01        7
?C     100    1.574434e+04   3.143e+02   5.467e+04   2.457e+01        0
?C     110    1.504078e+04   2.887e+02   1.548e+05   7.362e+01        0
?C     120    1.282417e+04   2.230e+02   7.034e+05   4.463e+02        0
?C     130    1.098615e+04   1.402e+02   2.736e+06   6.486e+01        0
?C     140    1.097087e+04   1.439e+02   1.733e+01   3.599e-01        1
?C     150    1.030203e+04   1.102e+02   1.709e+04   9.107e+00        0
?C     160    9.641299e+03   9.607e+01   2.081e+06   1.531e+01        0
?C     170    9.448922e+03   1.094e+02   2.119e+02   1.520e+01        3
?C     180    9.438154e+03   1.103e+02   2.980e+01   3.902e+01        0
?C     190    9.380503e+03   1.095e+02   2.919e+01   4.786e+00        0
?C     200    9.022769e+03   1.027e+02   2.920e+01   1.915e+01        0
?C     210    8.700004e+03   1.008e+02   2.919e+01   2.166e+01        0
?C     220    7.126116e+03   2.490e+01   3.852e+01   1.245e+02        0
?C     230    5.193919e+04   5.320e+00   2.921e+01   3.306e+00        0
?C     240    5.185652e+04   5.191e+00   2.919e+01   2.019e+00        0
?C     250    4.684465e+04   4.817e+00   2.919e+01   3.554e+03        0
?C     260    4.192035e+04   4.487e+00   2.919e+01   4.524e+01        1
?C     270    3.402944e+04   4.255e+00   2.919e+01   1.150e+01        0
?C     280    3.347486e+04   3.419e+00   2.919e+01   1.018e+01        0
?C     290    3.341140e+04   3.243e+00   2.919e+01   6.108e-01        0
?C     300    3.333466e+04   3.127e+00   2.919e+01   1.919e+00        0
?C     310    3.332112e+04   3.087e+00   2.920e+01   4.024e+00        5
?C     320    3.325092e+04   2.980e+00   2.919e+01   1.564e+00        0
?C     330    3.320884e+04   2.915e+00   2.919e+01   6.973e-01        0
?C     340    3.318260e+04   2.876e+00   2.919e+01   1.452e+00        0
?C     350    3.311197e+04   2.771e+00   2.920e+01   3.336e+00        0
?C     360    3.304703e+04   2.674e+00   2.919e+01   1.560e+00        0
?C     370    3.302491e+04   2.635e+00   2.919e+01   9.356e-01        0
?C     380    3.303954e+04   2.578e+00   2.919e+01   7.052e-01        0
?C     390    3.283841e+04   2.269e+00   2.919e+01   2.741e+00        3
?C     400    3.278636e+04   2.190e+00   2.919e+01   2.452e+01        8
?C     410    3.274710e+04   2.131e+00   2.919e+01   1.910e+00        3
?C     420    3.269122e+04   2.043e+00   2.919e+01   2.273e-01        1
?C     430    3.266706e+04   2.006e+00   2.920e+01   3.674e-02        0
?C     440    3.263895e+04   1.962e+00   2.919e+01   2.007e+00        3
?C     450    3.261669e+04   1.926e+00   2.919e+01   1.161e+00        8
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 79
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


?C     460    3.258994e+04   1.885e+00   2.920e+01   7.110e+00        6
?C     470    3.255437e+04   1.825e+00   2.919e+01   2.209e+00       12
?C     480    3.253651e+04   1.770e+00   2.919e+01   5.068e+00        3
?C     490    3.263214e+04   1.693e+00   2.920e+01   1.795e+01        0
?C     500    3.300457e+04   1.559e+00   2.919e+01   5.868e+01        0
?C     510    3.315836e+04   1.442e+00   2.919e+01   5.366e-01        0
?C     520    3.314886e+04   1.428e+00   2.919e+01   4.171e-01        3
?C     530    3.314850e+04   1.420e+00   2.919e+01   1.111e+00        3
?C     540    3.314959e+04   1.410e+00   2.920e+01   1.228e+00        0
?C     550    3.315016e+04   1.407e+00   2.919e+01   1.037e+00        0
?C     560    3.315364e+04   1.409e+00   2.919e+01   1.053e+00        0
?C     570    3.315499e+04   1.411e+00   2.919e+01   2.188e-01        2
?C     580    3.315626e+04   1.411e+00   2.919e+01   6.038e-02        3
?C     590    3.315691e+04   1.411e+00   2.919e+01   6.114e-02        2
?C     600    3.315738e+04   1.411e+00   2.919e+01   6.171e-02        2
?C     610    3.315785e+04   1.411e+00   2.919e+01   6.227e-02        2
?C     620    3.315832e+04   1.411e+00   2.919e+01   6.266e-02        2
?C     630    3.315878e+04   1.411e+00   2.919e+01   6.306e-02        2
?C     640    3.315925e+04   1.411e+00   2.919e+01   6.333e-02        2
?C     650    3.315972e+04   1.411e+00   2.919e+01   6.362e-02        2
?C     660    3.316018e+04   1.411e+00   2.919e+01   6.381e-02        2
?C     670    3.316064e+04   1.411e+00   2.919e+01   6.402e-02        2
?C     680    3.316111e+04   1.412e+00   2.919e+01   6.415e-02        2
?C     690    3.316157e+04   1.412e+00   2.919e+01   6.431e-02        2
?C     700    3.316203e+04   1.412e+00   2.919e+01   6.440e-02        2
?C     710    3.316249e+04   1.412e+00   2.919e+01   6.452e-02        2
?C     720    3.316295e+04   1.412e+00   2.919e+01   6.458e-02        2
?C     730    3.316341e+04   1.412e+00   2.919e+01   6.467e-02        2
?C     740    3.316387e+04   1.412e+00   2.919e+01   6.471e-02        2
?C     750    3.316433e+04   1.412e+00   2.919e+01   6.478e-02        2
?C     760    3.316479e+04   1.412e+00   2.919e+01   6.481e-02        2
?C     770    3.316568e+04   1.412e+00   2.919e+01   6.487e-02        3
?C     780    3.316658e+04   1.412e+00   2.919e+01   6.488e-02        3
?C     790    3.316769e+04   1.412e+00   2.919e+01   1.305e-01        5
?C     800    3.317149e+04   1.399e+00   2.919e+01   3.873e-01       13
?C     810    3.317254e+04   1.401e+00   2.919e+01   4.649e-02        2
?C     820    5.962267e+04   1.246e+00   2.919e+01   1.997e+04        0
?C     830    9.555585e+04   1.165e+00   2.919e+01   8.952e+01        0
?C     840    9.584873e+06   9.789e-01   2.919e+01   1.309e+00        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =   9.58487256562666e+06
?CFinal feasibility error (abs / rel) =   9.79e-01 / 9.89e-04
?CFinal optimality error  (abs / rel) =   2.92e+01 / 9.80e-01
?C# of iterations                     =        840 
?C# of CG iterations                  =       1906 
?C# of function evaluations           =       3680
?C# of gradient evaluations           =        842
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 80
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2092


?C# of Hessian evaluations            =        841
?CTotal program time (secs)           =       1.65148 (     1.572 CPU time)
?CTime spent in evaluations (secs)    =       0.22078
?C
?C===============================================================================
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 81
display_start
E x e c u t i o n


----   2109 VARIABLE V_shunt.L  number of shunt steps switched on

                      ( ALL       0.000 )

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 82
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2111


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13) + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13) + V_LineIr(7,13,1) =E= 0 ; (LHS = 3.95559140997648E-11, INFES = 3.95559140997648E-11 ****)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13) + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13) + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ; (LHS = 2.57561794114736E-9, INFES = 2.57561794114736E-9 ****)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13) + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13) + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ; (LHS = 3.31436211808978E-10, INFES = 3.31436211808978E-10 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13) + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13) + V_LineIr(13,7,1) =E= 0 ; (LHS = 8.88860540726455E-10, INFES = 8.88860540726455E-10 ****)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18) + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18) + V_LineIr(18,13,1) =E= 0 ; (LHS = 3.51620954575083E-11, INFES = 3.51620954575083E-11 ****)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54) + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54) + V_LineIr(54,13,1) =E= 0 ; (LHS = 8.80839845507353E-12, INFES = 8.80839845507353E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13) - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13) + V_LineIq(7,13,1) =E= 0 ; (LHS = -8.93036755655885E-11, INFES = 8.93036755655885E-11 ****)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13) - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13) + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ; (LHS = -1.49935885929153E-9, INFES = 1.49935885929153E-9 ****)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54) - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54) + V_LineIq(13,54,1) =E= 0 ; (LHS = -1.94333438230387E-10, INFES = 1.94333438230387E-10 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13) + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13) + V_LineIq(13,7,1) =E= 0 ; (LHS = -5.20230969414115E-10, INFES = 5.20230969414115E-10 ****)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13) - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13) - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ; (LHS = -2.90138330028E-10, INFES = 2.90138330028E-10 ****)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54) + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54) + V_LineIq(54,13,1) =E= 0 ; (LHS = 1.59898760898614E-11, INFES = 1.59898760898614E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  (9.66659985394789)*V_real(7) + (5.63820943779396)*V_imag(7) - (0.00192312492921005)*V_LineIr(7,13,1) - (0.00192312492921005)*V_LineIr(7,149,1) - (0.01461142788175)*V_LineIq(7,13,1) - (0.01461142788175)*V_LineIq(7,149,1)
     
      + V_p_over(7) - V_p_under(7) =E= 0.1203998666672 ; (LHS = 0.110972338008807, INFES = 0.0094275286583935 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 83
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2111


     c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(18)..  (4.60677224104135)*V_real(18) + (0.117010002549093)*V_imag(18) - (0.00395321145615682)*V_LineIr(18,13,1) - (0.00836680857505944)*V_LineIq(18,13,1) + V_p_over(18) - V_p_under(18) + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4)
     
      + V_dem_Load(5) =E= 200.091688342015 ; (LHS = 200.024290545092, INFES = 0.0673977969229121 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) + (1.88529464557787)*V_real(149) + (0.365727416615386)*V_LineIr(149,7,1) + V_p_over(149) - V_p_under(149) =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) + (134.045889091653)*V_real(13) + (218.031591480218)*V_imag(13) + (0.212466190787829)*V_LineIr(13,7,1) + (0.212466190787829)*V_LineIr(13,18,1) + (0.212466190787829)*V_LineIr(13,54,1) - (0.124712862181458)*V_LineIq(13,7,1)
     
      - (0.124712862181458)*V_LineIq(13,18,1) - (0.124712862181458)*V_LineIq(13,54,1) + V_p_over(13) - V_p_under(13) =E= 0 ; (LHS = -0.978875691246143, INFES = 0.978875691246143 ****)
     
c_BalanceP_solar(57)..  P_S(57) + (19.3144467014453)*V_real(57) + (3.77784357767867)*V_imag(57) + (0.0214255221600212)*V_LineIr(57,54,1) - (0.0913888995783275)*V_LineIq(57,54,1) + V_p_over(57) - V_p_under(57) =E= 0.20168024925 ;
     
      (LHS = 0.191430861532741, INFES = 0.0102493877172586 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  - (5.63820943779396)*V_real(7) + (9.66659985394789)*V_imag(7) - (0.01461142788175)*V_LineIr(7,13,1) - (0.01461142788175)*V_LineIr(7,149,1) + (0.00192312492921005)*V_LineIq(7,13,1) + (0.00192312492921005)*V_LineIq(7,149,1)
     
      + V_q_over(7) - V_q_under(7) =E= 0.1203998666672 ; (LHS = 0.120399897511751, INFES = 3.08445511076894E-8 ****)
     
c_BalanceQ_nosolar(18)..  - (0.117010002549093)*V_real(18) + (4.60677224104135)*V_imag(18) - (0.00836680857505944)*V_LineIr(18,13,1) + (0.00395321145615682)*V_LineIq(18,13,1) + V_q_over(18) - V_q_under(18) =E= 0.0280814267144 ;
     
      (LHS = 0.0280814468670741, INFES = 2.01526740573055E-8 ****)
     
c_BalanceQ_nosolar(149)..  V_Q(1) - (164.08394951031)*V_real(149) - (0.365727416615386)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149) =E= 0 ; (LHS = -3.45537955581676E-7, INFES = 3.45537955581676E-7 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) - (218.031591480218)*V_real(13) + (134.045889091653)*V_imag(13) - (0.124712862181458)*V_LineIr(13,7,1) - (0.124712862181458)*V_LineIr(13,18,1) - (0.124712862181458)*V_LineIr(13,54,1) - (0.212466190787829)*V_LineIq(13,7,1)
     
      - (0.212466190787829)*V_LineIq(13,18,1) - (0.212466190787829)*V_LineIq(13,54,1) + V_q_over(13) - V_q_under(13) =E= 0 ; (LHS = 0)
     
c_BalanceQ_solar(57)..  Q_S(57) - (3.77784357767867)*V_real(57) + (19.3144467014453)*V_imag(57) - (0.0913888995783275)*V_LineIr(57,54,1) - (0.0214255221600212)*V_LineIq(57,54,1) + V_q_over(57) - V_q_under(57) =E= 0.063472985995 ;
     
      (LHS = 0.0634729859950049)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 84
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2111


     c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  (0.281533840354815)*V_LineIr(7,13,1) + (0.174907651041351)*V_LineIq(7,13,1) + V_Lossijc(7,13,1) =E= 0 ; (LHS = 0)
     
c_Lossijc(13,18,1)..  (6.43374131441173)*V_LineIr(13,18,1) + (10.7597789071439)*V_LineIq(13,18,1) + V_Lossijc(13,18,1) =E= 0 ; (LHS = -1.36424205265939E-12, INFES = 1.36424205265939E-12 ****)
     
c_Lossijc(13,54,1)..  (0.981093992560018)*V_LineIr(13,54,1) + (1.49385558307227)*V_LineIq(13,54,1) + V_Lossijc(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ; (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  (0.130492439803317)*V_real(7) + (0.99144930437929)*V_imag(7) =L= 1.15 ; (LHS = 0.0147374432734084)
     
v_generator_hardupl(13)..  - (0.862407905697944)*V_real(13) + (0.506213990511608)*V_imag(13) =L= 1.15 ; (LHS = 0.246363918261951)
     
v_generator_hardupl(18)..  (0.427202325239139)*V_real(18) + (0.904156055838965)*V_imag(18) =L= 1.15 ; (LHS = 0.00925372176741757)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  (0.130492439803317)*V_real(7) + (0.99144930437929)*V_imag(7) =G= 0.88 ; (LHS = 0.0147374432734084, INFES = 0.865262556726592 ****)
     
v_generator_harddownl(13)..  - (0.862407905697944)*V_real(13) + (0.506213990511608)*V_imag(13) =G= 0.88 ; (LHS = 0.246363918261951, INFES = 0.633636081738049 ****)
     
v_generator_harddownl(18)..  (0.427202325239139)*V_real(18) + (0.904156055838965)*V_imag(18) =G= 0.88 ; (LHS = 0.00925372176741757, INFES = 0.870746278232582 ****)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.3)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 85
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2111


---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts at bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ; (LHS = 4.19086038867919)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - segment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - segment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = -809139.611340267)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by shunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 3144827.12304772)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation penalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ; (LHS = 3055724.42173599)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 86
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2111


---- v_generator_addup_arti  =L=  generator voltage up constraints added with artificial variables

v_generator_addup_arti(149)..  - (1)*V_real(149) - V_artup(149) =L= 1 ; (LHS = 0.365727416615386)
     

---- v_generator_addlow_arti  =G=  generator voltage low constraints added with artificial variables

v_generator_addlow_arti(149)..  - (1)*V_real(149) + V_artlow(149) =G= 1 ; (LHS = 0.393322129915386, INFES = 0.606677870084614 ****)
     

---- c_objtest  =E=  Objective function

c_objtest..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13) - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56) - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2) - 0.00301507537688443*V_dem_Load(3)
     
      - 3*V_dem_Load(4) - 19.0909090909091*V_dem_Load(5) - 100000*V_artup(149) - 100000*V_artlow(149) - V_previous_solution_penalty + V_objcosttest =E= 630 ; (LHS = -9556969.57730596, INFES = 9557599.57730596 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 87
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.689532835886861, 4.086, NA)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- V_Q  Reactive power generation of generator

V_Q(1)
                (.LO, .L, .UP, .M = -60, -60, 60, NA)
        1       c_BalanceQ_nosolar(149)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.29999997844956, 0.3, NA)
        1       c_BalanceP_solar(13)
      -15.6625  c_objtest

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.25, 0.25, NA)
        1       c_BalanceP_solar(57)
      -29.7961  c_objtest


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, -63.0415881688472, 300, NA)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, -1.78259531431462, 300, NA)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, 0.00192312492921005, 1.05, NA)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
       (9.6666) c_BalanceP_nosolar(7)
      (-5.6382) c_BalanceQ_nosolar(7)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 88
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


     V_real  Real part of bus voltage

       (0.1305) v_generator_hardupl(7)
       (0.1305) v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, -0.212466190787829, 1.05, NA)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
     (134.0459) c_BalanceP_solar(13)
    (-218.0316) c_BalanceQ_solar(13)
      (-0.8624) v_generator_hardupl(13)
      (-0.8624) v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, 0.00395321145615682, 1.05, NA)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
       (4.6068) c_BalanceP_nosolar(18)
      (-0.117)  c_BalanceQ_nosolar(18)
       (0.4272) v_generator_hardupl(18)
       (0.4272) v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, 0.01461142788175, 1.05, NA)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
       (5.6382) c_BalanceP_nosolar(7)
       (9.6666) c_BalanceQ_nosolar(7)
       (0.9914) v_generator_hardupl(7)
       (0.9914) v_generator_harddownl(7)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 89
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


     V_imag  Imaginary part of bus voltage


V_imag(13)
                (.LO, .L, .UP, .M = -1.05, 0.124712862181458, 1.05, NA)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
     (218.0316) c_BalanceP_solar(13)
     (134.0459) c_BalanceQ_solar(13)
       (0.5062) v_generator_hardupl(13)
       (0.5062) v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, 0.00836680857505944, 1.05, NA)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
       (0.117)  c_BalanceP_nosolar(18)
       (4.6068) c_BalanceQ_nosolar(18)
       (0.9042) v_generator_hardupl(18)
       (0.9042) v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, -4.85654373563594, +INF, NA)
        1       c_LineIrij(7,13,1)
      (-0.0019) c_BalanceP_nosolar(7)
      (-0.0146) c_BalanceQ_nosolar(7)
       (0.2815) c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, -4.81005611831195, +INF, NA)
        1       c_LineIrji(149,7,1)
      (-0.0019) c_BalanceP_nosolar(7)
      (-0.0146) c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
                (.LO, .L, .UP, .M = -INF, -40.744993022574, +INF, NA)
        1       c_LineIrji(7,13,1)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 90
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


     V_LineIr  Real current flowing from bus i towards bus j on line c

       (0.2125) c_BalanceP_solar(13)
      (-0.1247) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, -3.01720978163448, +INF, NA)
        1       c_LineIqij(7,13,1)
      (-0.0146) c_BalanceP_nosolar(7)
       (0.0019) c_BalanceQ_nosolar(7)
       (0.1749) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, -2.62099965615948, +INF, NA)
        1       c_LineIqji(149,7,1)
      (-0.0146) c_BalanceP_nosolar(7)
       (0.0019) c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, -65.8945883898303, +INF, NA)
        1       c_LineIqji(7,13,1)
      (-0.1247) c_BalanceP_solar(13)
      (-0.2125) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 0.94750724217469, +INF, NA)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 821.56753492622, +INF, NA)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 42.3852166310182, +INF, NA)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 91
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 0.94750724217469, +INF, NA)
        1       c_Lossi(7)
       -1       c_objtest

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 863.952751557238, +INF, NA)
        1       c_Lossi(13)
       -1       c_objtest

V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, NA)
        1       c_Lossi(18)
       -1       c_objtest

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0.00999998413322615, 0.01, NA)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0.00999997844960458, 0.01, NA)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 1.58667738523637E-8, 0.01, NA)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 2.15503954171154E-8, 0.01, NA)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 92
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 2.60049925503664E-8, 0.01, NA)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0.00499998167944418, 0.01, NA)
        1       c_BalanceQ_solar(13)

V_q_over(18)
                (.LO, .L, .UP, .M = 0, 1.53299727769744E-8, 0.01, NA)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0.00999997399500745, 0.01, NA)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0.00500001832055582, 0.01, NA)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0.00999998467002722, 0.01, NA)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 4.19086038867919, +INF, NA)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 3381720.77733892, +INF, NA)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 6526547.90038664, +INF, NA)
        1       c_shuntSwitchingTotalPenaltyDef
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 93
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


     V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

       -1       c_objtest


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 198, 198, NA)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_objtest

V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 1.99, 1.99, NA)
        1       c_BalanceP_nosolar(18)
       -0.003   c_objtest

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0.004, 0.004, NA)
        1       c_BalanceP_nosolar(18)
       -3       c_objtest

REMAINING ENTRY SKIPPED

---- V_artup  artificial variablers

V_artup(149)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       v_generator_addup_arti(149)
  -100000       c_objtest


---- V_artlow  artificial variablers

V_artlow(149)
                (.LO, .L, .UP, .M = 0, 0.0275947133000001, +INF, 0)
        1       v_generator_addlow_arti(149)
  -100000       c_objtest


---- V_previous_solution_penalty  total penalty on deviation to previous solution

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 3055724.42173599, +INF, NA)
        1       c_previous_solution_penalty_def
       -1       c_objtest


---- V_objcosttest  Total cost of objective function

V_objcosttest
                (.LO, .L, .UP, .M = -INF, 30032.459651025, +INF, 0)
        1       c_objtest
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 94
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2111


     V_objcosttest  Total cost of objective function



---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0.389532835886861, +INF, NA)
       -1       p_generator_add(1)

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 95
display_start
Model Statistics    SOLVE acopf_check Using RMINLP From line 2111


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           73
BLOCKS OF VARIABLES          23     SINGLE VARIABLES           96
NON ZERO ELEMENTS           313     NON LINEAR N-Z            112
DERIVATIVE POOL              20     CONSTANT POOL              36
CODE LENGTH                 313


GENERATION TIME      =        0.011 SECONDS      3 MB  24.9.1 r63795 LEX-LEG


EXECUTION TIME       =        0.017 SECONDS      3 MB  24.9.1 r63795 LEX-LEG
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 96
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


               S O L V E      S U M M A R Y

     MODEL   acopf_check         OBJECTIVE  V_objcosttest
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2111

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE     672120894503.2363

 RESOURCE USAGE, LIMIT          0.247        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      

*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
*** Error Error code = 2; No such file or directory
Artelys Knitro Optimizer 10.3.0

=======================================
          Commercial License
         Artelys Knitro 10.3.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (28 variables).
Knitro fixing 3 variables eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                          95 (        87)
    bounded below only:                        6 (         6)
    bounded above only:                        0 (         0)
    bounded below and above:                  51 (        51)
    fixed:                                     0 (         0)
    free:                                     38 (        30)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 97
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


Number of constraints:                        72 (        62)
    linear equalities:                        32 (        24)
    nonlinear equalities:                     20 (        20)
    linear one-sided inequalities:             4 (         2)
    nonlinear one-sided inequalities:         16 (        16)
    linear two-sided inequalities:             0 (         0)
    nonlinear two-sided inequalities:          0 (         0)
Number of nonzeros in Jacobian:              295 (       278)
Number of nonzeros in Hessian:                77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0    9.686627e+06   1.964e+00
      10    1.036719e+07   1.015e+01   9.999e+01   8.113e+00        0
      20    2.080617e+07   8.784e-01   1.000e+02   3.648e+01        0
      30    2.179353e+07   8.778e-01   1.000e+02   1.388e+00        0
      40    2.239120e+07   8.779e-01   1.000e+02   1.207e+01        0
      50    2.478732e+07   8.776e-01   1.000e+02   4.754e-01        0
      60    2.502378e+07   8.759e-01   1.000e+02   3.165e+00        3
      70    1.054328e+11   8.751e-01   1.000e+02   7.439e+06        0
      79    6.721209e+11   8.751e-01   1.000e+02   2.688e+01        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =   6.72120894503236e+11
Final feasibility error (abs / rel) =   8.75e-01 / 4.46e-01
Final optimality error  (abs / rel) =   1.00e+02 / 1.00e+00
# of iterations                     =         79 
# of CG iterations                  =        293 
# of function evaluations           =        296
# of gradient evaluations           =         81
# of Hessian evaluations            =         80
Total program time (secs)           =       0.15490 (     0.148 CPU time)
Time spent in evaluations (secs)    =       0.01957

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            -6.3528      
13 .18.1          .              .              .           -29.4548      
13 .54.1          .              .              .           -29.4548      
149.7 .1          .              .              .       0.9990886E-7      
54 .57.1          .              .              .             0.6613      
54 .56.1          .              .              .             0.6613      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 98
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .           -29.4548      
13 .18.1          .              .              .            -3.9384      
13 .54.1          .              .              .             0.6613      
149.7 .1          .              .              .            -6.3528      
54 .57.1          .              .              .            19.6555      
54 .56.1          .              .              .            -0.3815      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            13.1061      
13 .18.1          .              .              .             5.4227      
13 .54.1          .              .              .             5.4227      
149.7 .1          .              .              .            -1.2900      
54 .57.1          .              .              .             1.2896      
54 .56.1          .              .              .             1.2896      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .             5.4227      
13 .18.1          .              .              .             7.6816      
13 .54.1          .              .              .             1.2896      
149.7 .1          .              .              .            13.1061      
54 .57.1          .              .              .           -51.0559      
54 .56.1          .              .              .            -1.6011      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.0850         0.1204      1000.0000 INFES
18        200.0917       200.0138       200.0917      1000.0000 INFES
149          .              .              .       -2.732049E-7      
54           .              .              .           146.0306      
56           .              .              .       4.6395356E-6      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .              .              .           258.9374      
57         0.2017         0.2017         0.2017       650.4385      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                     10/28/17 19:27:19 Page 99
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.1204         0.1204      -294.6400      
18          0.0281         0.0281         0.0281      -202.6779      
149          .              .              .            -3.5275      
54           .              .              .          -259.7772      
56           .              .              .          -287.0240      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .              .              .       -7.17046E-11      
57         0.0635         0.0635         0.0635   -7.30818E-12      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .       -1.36725E-18      
13 .18.1          .              .              .       -2.42043E-15      
13 .54.1          .              .              .       -1.24964E-16      
149.7 .1          .              .              .       3.614054E-16      
54 .57.1          .              .              .       2.721040E-19      
54 .56.1          .              .              .       -1.00649E-18      

---- EQU c_Lossi  Loss on lines connected with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .              .             1.0000      
13           .              .              .             1.0000      
18           .              .              .             1.0000      
149          .              .              .             1.0000      
54           .              .              .             1.0000      
57           .              .              .             1.0000      
56           .              .              .             1.0000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.0140         1.1500   -2.039959E-7      
13         -INF            0.1157         1.1500   -2.240536E-7      
18         -INF            0.0085         1.1500   -2.030115E-7      
149        -INF            0.3657         1.1500   -2.954776E-7      
54         -INF            0.0049         1.1500   -2.023737E-7      
57         -INF            0.0841         1.1500   -2.174208E-7      
56         -INF            0.0057         1.1500   -2.025282E-7      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 100
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- EQU v_generator_harddownl  bus voltage constraints lower bound

           LOWER          LEVEL          UPPER         MARGINAL

7           0.8800         0.0140        +INF         1000.0000 INFES
13          0.8800         0.1157        +INF         1000.0000 INFES
18          0.8800         0.0085        +INF         1000.0000 INFES
149         0.8800         0.3657        +INF         1000.0000 INFES
54          0.8800         0.0049        +INF         1000.0000 INFES
57          0.8800         0.0841        +INF         1000.0000 INFES
56          0.8800         0.0057        +INF         1000.0000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment from schedule

         LOWER          LEVEL          UPPER         MARGINAL

1         0.3000         0.3000         0.3000         EPS         

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE


---- EQU c_switchedshuntB_Def  defines total susceptance from switched shunts at bus i

                NONE


---- EQU c_shuntSwitchingDef1  defines number of steps switched - side 1

                NONE


---- EQU c_shuntSwitchingDef2  defines number of steps switched - side 2

                NONE


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_totalSh~          .             5.2914        +INF            EPS         

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - segment 1

                NONE

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 101
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_shuntTo~   -5.000000E+6    291440.9777        +INF      4.379984E-14      
---- EQU c_shuntSw~          .       4906487.8270        +INF      4.723917E-14      
---- EQU c_previou~          .       2527394.0904        +INF            EPS         

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switching
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt switching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup_arti  generator voltage up constraints added with artificial variables

           LOWER          LEVEL          UPPER         MARGINAL

149        -INF      -3.345658E+6         1.0000   -6.92952E-14      

---- EQU v_generator_addlow_arti  generator voltage low constraints added with artificial variables

           LOWER          LEVEL          UPPER         MARGINAL

149         1.0000   3375420.5944        +INF      6.868422E-14      

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_objtest        630.0000       630.0000       630.0000         1.0000      

  c_objtest  Objective function

---- VAR V_P  Real power generation of generator

         LOWER          LEVEL          UPPER         MARGINAL

1          .             0.6791         4.0860          NA         

---- VAR V_Q  Reactive power generation of generator

         LOWER          LEVEL          UPPER         MARGINAL

1       -60.0000       -60.0000        60.0000          NA         

---- VAR P_S  real power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13         0.0300         0.3000         0.3000          NA         
57         0.0200         0.2500         0.2500          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 102
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- VAR Q_S  reactive power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13      -300.0000       -13.8922       300.0000          NA         
57      -300.0000        -1.4189       300.0000          NA         

---- VAR V_real  Real part of bus voltage

           LOWER          LEVEL          UPPER         MARGINAL

7          -1.0500        -0.0023         1.0500          NA         
13         -1.0500        -0.1138         1.0500          NA         
18         -1.0500        -0.0023         1.0500          NA         
149        -1.0500        -0.3657         1.0500          NA         
54         -1.0500         0.0049         1.0500          NA         
57         -1.0500         0.0302         1.0500          NA         
56         -1.0500        -0.0056         1.0500          NA         

---- VAR V_imag  Imaginary part of bus voltage

          LOWER          LEVEL          UPPER         MARGINAL

7         -1.0500         0.0138         1.0500          NA         
13        -1.0500         0.0209         1.0500          NA         
18        -1.0500         0.0081         1.0500          NA         
54        -1.0500         0.0002         1.0500          NA         
57        -1.0500        -0.0785         1.0500          NA         
56        -1.0500         0.0013         1.0500          NA         

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -3.8682        +INF             NA         
7  .149.1        -INF           -4.4580        +INF             NA         
13 .7  .1        -INF           -7.4970        +INF             NA         
13 .18 .1        -INF          -11.6528        +INF             NA         
13 .54 .1        -INF           -5.2326        +INF             NA         
18 .13 .1        -INF           -4.0559        +INF             NA         
149.7  .1        -INF           -1.8570        +INF             NA         
54 .13 .1        -INF            0.7377        +INF             NA         
54 .57 .1        -INF            1.2455        +INF             NA         
54 .56 .1        -INF           -0.0072        +INF             NA         
57 .54 .1        -INF           16.6960        +INF             NA         
56 .54 .1        -INF           -0.4888        +INF             NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 103
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -2.3137        +INF             NA         
7  .149.1        -INF           -4.5152        +INF             NA         
13 .7  .1        -INF          -35.6684        +INF             NA         
13 .18 .1        -INF          -60.4623        +INF             NA         
13 .54 .1        -INF          -21.5068        +INF             NA         
18 .13 .1        -INF           -2.2056        +INF             NA         
149.7  .1        -INF         -164.1025        +INF             NA         
54 .13 .1        -INF           -1.6600        +INF             NA         
54 .57 .1        -INF            2.3523        +INF             NA         
54 .56 .1        -INF            1.4411        +INF             NA         
57 .54 .1        -INF            5.6847        +INF             NA         
56 .54 .1        -INF           -1.6762        +INF             NA         

---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1        -INF            0.5889        +INF             NA         
13 .18.1        -INF          181.3274        +INF             NA         
13 .54.1        -INF            9.2301        +INF             NA         
149.7 .1        -INF         1092.9169        +INF             NA         
54 .57.1        -INF            0.1437        +INF             NA         
54 .56.1        -INF            0.0602        +INF             NA         

---- VAR V_Lossi  Loss on lines connecting with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.5889        +INF             NA         
13         -INF          190.5576        +INF             NA         
18         -INF             .            +INF             NA         
149        -INF         1092.9169        +INF             NA         
54         -INF            0.2039        +INF             NA         
57         -INF             .            +INF             NA         
56         -INF             .            +INF             NA         

---- VAR V_p_over  real power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0100         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0100         0.0100          NA         
56           .             0.0052         0.0100          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 104
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


---- VAR V_p_under  real power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .             0.0100          NA         
13           .              .             0.0100          NA         
18           .              .             0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .              .             0.0100          NA         
57           .              .             0.0100          NA         
56           .             0.0048         0.0100          NA         

---- VAR V_q_over  reactive power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .             0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .              .             0.0100          NA         
149          .       6.9925853E-8         0.0100          NA         
54           .              .             0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .              .             0.0100          NA         

---- VAR V_q_under  reactive power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0100         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .             0.0100         0.0100          NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_totalSh~          .             5.2914        +INF             NA         
---- VAR V_shuntTo~          .       5582881.9553        +INF             NA         
---- VAR V_shuntSw~          .       1.0489370E+7        +INF             NA         

  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

         LOWER          LEVEL          UPPER         MARGINAL

2          .           198.0000       198.0000          NA         
3          .             1.9900         1.9900          NA         
4          .             0.0040         0.0040          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 105
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


     VAR V_dem_Load  demand load level

         LOWER          LEVEL          UPPER         MARGINAL

5          .             0.0011         0.0011          NA         

---- VAR V_artup  artificial variablers

           LOWER          LEVEL          UPPER         MARGINAL

149          .       3345658.5294        +INF             NA         

---- VAR V_artlow  artificial variablers

           LOWER          LEVEL          UPPER         MARGINAL

149          .       3375420.2287        +INF             NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_previou~          .       2527394.0904        +INF             NA         
---- VAR V_objcost~        -INF      6.721209E+11        +INF             .          
---- VAR V_P_syste~        -INF            0.3791        +INF             NA         

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcosttest  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule


**** REPORT SUMMARY :        0     NONOPT
                             9 INFEASIBLE (INFES)
                    SUM          5.6748
                    MAX          0.8751
                    MEAN         0.6305
                             0  UNBOUNDED
                             0     ERRORS
                            67  PROJECTED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 106
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=C
=0KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=1
=2
=1
=C*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
=C*** Error Error code = 2; No such file or directory
=2
=CArtelys Knitro Optimizer 10.3.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.3.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (28 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                          95 (        87)
?C    bounded below only:                        6 (         6)
?C    bounded above only:                        0 (         0)
?C    bounded below and above:                  51 (        51)
?C    fixed:                                     0 (         0)
?C    free:                                     38 (        30)
?CNumber of constraints:                        72 (        62)
?C    linear equalities:                        32 (        24)
?C    nonlinear equalities:                     20 (        20)
?C    linear one-sided inequalities:             4 (         2)
?C    nonlinear one-sided inequalities:         16 (        16)
?C    linear two-sided inequalities:             0 (         0)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 107
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2111


?C    nonlinear two-sided inequalities:          0 (         0)
?CNumber of nonzeros in Jacobian:              295 (       278)
?CNumber of nonzeros in Hessian:                77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0    9.686627e+06   1.964e+00
?C      10    1.036719e+07   1.015e+01   9.999e+01   8.113e+00        0
?C      20    2.080617e+07   8.784e-01   1.000e+02   3.648e+01        0
?C      30    2.179353e+07   8.778e-01   1.000e+02   1.388e+00        0
?C      40    2.239120e+07   8.779e-01   1.000e+02   1.207e+01        0
?C      50    2.478732e+07   8.776e-01   1.000e+02   4.754e-01        0
?C      60    2.502378e+07   8.759e-01   1.000e+02   3.165e+00        3
?C      70    1.054328e+11   8.751e-01   1.000e+02   7.439e+06        0
?C      79    6.721209e+11   8.751e-01   1.000e+02   2.688e+01        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =   6.72120894503236e+11
?CFinal feasibility error (abs / rel) =   8.75e-01 / 4.46e-01
?CFinal optimality error  (abs / rel) =   1.00e+02 / 1.00e+00
?C# of iterations                     =         79 
?C# of CG iterations                  =        293 
?C# of function evaluations           =        296
?C# of gradient evaluations           =         81
?C# of Hessian evaluations            =         80
?CTotal program time (secs)           =       0.15490 (     0.148 CPU time)
?CTime spent in evaluations (secs)    =       0.01957
?C
?C===============================================================================
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 108
display_start
E x e c u t i o n


----   2115 VARIABLE V_shunt.L  number of shunt steps switched on

                      ( ALL       0.000 )

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 109
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2127


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13) + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13) + V_LineIr(7,13,1) =E= 0 ; (LHS = 2.89919199758515E-11, INFES = 2.89919199758515E-11 ****)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13) + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13) + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ; (LHS = 3.95839805378273E-10, INFES = 3.95839805378273E-10 ****)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13) + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13) + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ; (LHS = 5.03979080690442E-11, INFES = 5.03979080690442E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13) + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13) + V_LineIr(13,7,1) =E= 0 ; (LHS = 1.35513822385747E-10, INFES = 1.35513822385747E-10 ****)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18) + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18) + V_LineIr(18,13,1) =E= 0 ; (LHS = 5.16671150307957E-11, INFES = 5.16671150307957E-11 ****)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54) + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54) + V_LineIr(54,13,1) =E= 0 ; (LHS = -1.13198339590781E-12, INFES = 1.13198339590781E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13) - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13) + V_LineIq(7,13,1) =E= 0 ; (LHS = -5.98867622159105E-11, INFES = 5.98867622159105E-11 ****)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13) - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13) + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ; (LHS = -7.11395387043012E-11, INFES = 7.11395387043012E-11 ****)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54) - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54) + V_LineIq(13,54,1) =E= 0 ; (LHS = -9.2512664195965E-12, INFES = 9.2512664195965E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13) + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13) + V_LineIq(13,7,1) =E= 0 ; (LHS = -2.47410980591667E-11, INFES = 2.47410980591667E-11 ****)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13) - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13) - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ; (LHS = -1.00892183496626E-10, INFES = 1.00892183496626E-10 ****)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54) + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54) + V_LineIq(54,13,1) =E= 0 ; (LHS = -2.19757545494303E-12, INFES = 2.19757545494303E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  (8.32617144855946)*V_real(7) + (6.82883086531242)*V_imag(7) + (0.00229220125469372)*V_LineIr(7,13,1) + (0.00229220125469372)*V_LineIr(7,149,1) - (0.0137814614164398)*V_LineIq(7,13,1) - (0.0137814614164398)*V_LineIq(7,149,1)
     
      + V_p_over(7) - V_p_under(7) =E= 0.1203998666672 ; (LHS = 0.0850260084485133, INFES = 0.0353738582186867 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 110
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2127


     c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(18)..  (4.05587481793514)*V_real(18) + (2.20561744320463)*V_imag(18) + (0.00228750030380844)*V_LineIr(18,13,1) - (0.00814524003680058)*V_LineIq(18,13,1) + V_p_over(18) - V_p_under(18) + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4)
     
      + V_dem_Load(5) =E= 200.091688342015 ; (LHS = 200.013787468626, INFES = 0.077900873388777 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) + (1.85704783823553)*V_real(149) + (0.365686164935028)*V_LineIr(149,7,1) + V_p_over(149) - V_p_under(149) =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) + (24.3824175093286)*V_real(13) + (117.637488202107)*V_imag(13) + (0.113752708770469)*V_LineIr(13,7,1) + (0.113752708770469)*V_LineIr(13,18,1) + (0.113752708770469)*V_LineIr(13,54,1) - (0.0209420149780428)*V_LineIq(13,7,1)
     
      - (0.0209420149780428)*V_LineIq(13,18,1) - (0.0209420149780428)*V_LineIq(13,54,1) + V_p_over(13) - V_p_under(13) =E= 0 ; (LHS = 1.84920784240816E-9, INFES = 1.84920784240816E-9 ****)
     
c_BalanceP_solar(57)..  P_S(57) - (16.6960075690448)*V_real(57) - (5.68466865148965)*V_imag(57) - (0.0302189191537077)*V_LineIr(57,54,1) + (0.0784945579149088)*V_LineIq(57,54,1) + V_p_over(57) - V_p_under(57) =E= 0.20168024925 ;
     
      (LHS = 0.201680249772764, INFES = 5.22763630994572E-10 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  - (6.82883086531242)*V_real(7) + (8.32617144855946)*V_imag(7) - (0.0137814614164398)*V_LineIr(7,13,1) - (0.0137814614164398)*V_LineIr(7,149,1) - (0.00229220125469372)*V_LineIq(7,13,1) - (0.00229220125469372)*V_LineIq(7,149,1)
     
      + V_q_over(7) - V_q_under(7) =E= 0.1203998666672 ; (LHS = 0.120399865242545, INFES = 1.42465469976649E-9 ****)
     
c_BalanceQ_nosolar(18)..  - (2.20561744320463)*V_real(18) + (4.05587481793514)*V_imag(18) - (0.00814524003680058)*V_LineIr(18,13,1) - (0.00228750030380844)*V_LineIq(18,13,1) + V_q_over(18) - V_q_under(18) =E= 0.0280814267144 ;
     
      (LHS = 0.0280814245227124, INFES = 2.19168760223765E-9 ****)
     
c_BalanceQ_nosolar(149)..  - (164.102461478464)*V_real(149) - (0.365686164935028)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149) =E= 60 ; (LHS = 59.9999999343094, INFES = 6.56905925211504E-8 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) - (117.637488202107)*V_real(13) + (24.3824175093286)*V_imag(13) - (0.0209420149780428)*V_LineIr(13,7,1) - (0.0209420149780428)*V_LineIr(13,18,1) - (0.0209420149780428)*V_LineIr(13,54,1)
     
      - (0.113752708770469)*V_LineIq(13,7,1) - (0.113752708770469)*V_LineIq(13,18,1) - (0.113752708770469)*V_LineIq(13,54,1) + V_q_over(13) - V_q_under(13) =E= 0 ; (LHS = 4.62563320979825E-12, INFES = 4.62563320979825E-12 ****)
     
c_BalanceQ_solar(57)..  Q_S(57) + (5.68466865148965)*V_real(57) - (16.6960075690448)*V_imag(57) + (0.0784945579149088)*V_LineIr(57,54,1) + (0.0302189191537077)*V_LineIq(57,54,1) + V_q_over(57) - V_q_under(57) =E= 0.063472985995 ;
     
      (LHS = 0.0634729865994831, INFES = 6.04483130217659E-10 ****)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 111
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2127


     c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  (0.224238485403241)*V_LineIr(7,13,1) + (0.134123423213413)*V_LineIq(7,13,1) + V_Lossijc(7,13,1) =E= 0 ; (LHS = -1.51323398256409E-13, INFES = 1.51323398256409E-13 ****)
     
c_Lossijc(13,18,1)..  (1.11459022987628)*V_LineIr(13,18,1) + (5.78321934013033)*V_LineIq(13,18,1) + V_Lossijc(13,18,1) =E= 0 ; (LHS = -6.17035311734071E-11, INFES = 6.17035311734071E-11 ****)
     
c_Lossijc(13,54,1)..  (0.197165595493984)*V_LineIr(13,54,1) + (0.810375276635191)*V_LineIq(13,54,1) + V_Lossijc(13,54,1) =E= 0 ; (LHS = -2.58637555816676E-12, INFES = 2.58637555816676E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ; (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  - (0.164071028770452)*V_real(7) + (0.986448527556408)*V_imag(7) =L= 1.15 ; (LHS = 0.0139707861398291)
     
v_generator_hardupl(13)..  - (0.983472331887007)*V_real(13) + (0.181058477881409)*V_imag(13) =L= 1.15 ; (LHS = 0.115664371108651)
     
v_generator_hardupl(18)..  - (0.27037878727126)*V_real(18) + (0.962754024345639)*V_imag(18) =L= 1.15 ; (LHS = 0.00846035418271729)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  - (0.164071028770452)*V_real(7) + (0.986448527556408)*V_imag(7) =G= 0.88 ; (LHS = 0.0139707861398291, INFES = 0.866029213860171 ****)
     
v_generator_harddownl(13)..  - (0.983472331887007)*V_real(13) + (0.181058477881409)*V_imag(13) =G= 0.88 ; (LHS = 0.115664371108651, INFES = 0.764335628891349 ****)
     
v_generator_harddownl(18)..  - (0.27037878727126)*V_real(18) + (0.962754024345639)*V_imag(18) =G= 0.88 ; (LHS = 0.00846035418271729, INFES = 0.871539645817283 ****)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.3)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 112
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2127


---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts at bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ; (LHS = 5.29144097766807)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - segment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - segment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = 291440.977667831)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by shunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 4906487.82702585)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation penalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ; (LHS = 2527394.09038261)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 113
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2127


---- v_generator_addup  =L=  generator voltage constraints added selectively

                NONE


---- v_generator_addlow  =G=  generator voltage constraints added

                NONE


---- c_obj  =E=  Objective function

c_obj..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13) - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56) - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2) - 0.00301507537688443*V_dem_Load(3)
     
      - 3*V_dem_Load(4) - 19.0909090909091*V_dem_Load(5) - V_previous_solution_penalty + V_objcost =E= 630 ; (LHS = -3433187.86615467, INFES = 3433817.86615467 ****)
     
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 114
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.679126175714386, 4.086, NA)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.3, 0.3, NA)
        1       c_BalanceP_solar(13)
      -15.6625  c_obj

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.25, 0.25, NA)
        1       c_BalanceP_solar(57)
      -29.7961  c_obj


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, -13.8921998808859, 300, NA)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, -1.41885728808337, 300, NA)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, -0.00229220125469372, 1.05, NA)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
       (8.3262) c_BalanceP_nosolar(7)
      (-6.8288) c_BalanceQ_nosolar(7)
      (-0.1641) v_generator_hardupl(7)
      (-0.1641) v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, -0.113752708770469, 1.05, NA)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 115
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


     V_real  Real part of bus voltage

      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
      (24.3824) c_BalanceP_solar(13)
    (-117.6375) c_BalanceQ_solar(13)
      (-0.9835) v_generator_hardupl(13)
      (-0.9835) v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, -0.00228750030380844, 1.05, NA)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
       (4.0559) c_BalanceP_nosolar(18)
      (-2.2056) c_BalanceQ_nosolar(18)
      (-0.2704) v_generator_hardupl(18)
      (-0.2704) v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, 0.0137814614164398, 1.05, NA)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
       (6.8288) c_BalanceP_nosolar(7)
       (8.3262) c_BalanceQ_nosolar(7)
       (0.9864) v_generator_hardupl(7)
       (0.9864) v_generator_harddownl(7)

V_imag(13)
                (.LO, .L, .UP, .M = -1.05, 0.0209420149780428, 1.05, NA)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 116
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


     V_imag  Imaginary part of bus voltage

        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
     (117.6375) c_BalanceP_solar(13)
      (24.3824) c_BalanceQ_solar(13)
       (0.1811) v_generator_hardupl(13)
       (0.1811) v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, 0.00814524003680058, 1.05, NA)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
       (2.2056) c_BalanceP_nosolar(18)
       (4.0559) c_BalanceQ_nosolar(18)
       (0.9628) v_generator_hardupl(18)
       (0.9628) v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, -3.86818156638332, +INF, NA)
        1       c_LineIrij(7,13,1)
       (0.0023) c_BalanceP_nosolar(7)
      (-0.0138) c_BalanceQ_nosolar(7)
       (0.2242) c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, -4.45798988217615, +INF, NA)
        1       c_LineIrji(149,7,1)
       (0.0023) c_BalanceP_nosolar(7)
      (-0.0138) c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
                (.LO, .L, .UP, .M = -INF, -7.4969858747483, +INF, NA)
        1       c_LineIrji(7,13,1)
       (0.1138) c_BalanceP_solar(13)
      (-0.0209) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 117
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, -2.31366953964831, +INF, NA)
        1       c_LineIqij(7,13,1)
      (-0.0138) c_BalanceP_nosolar(7)
      (-0.0023) c_BalanceQ_nosolar(7)
       (0.1341) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, -4.51516132566411, +INF, NA)
        1       c_LineIqji(149,7,1)
      (-0.0138) c_BalanceP_nosolar(7)
      (-0.0023) c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, -35.6684097362223, +INF, NA)
        1       c_LineIqji(7,13,1)
      (-0.0209) c_BalanceP_solar(13)
      (-0.1138) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 0.58885622727623, +INF, NA)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 181.327429778261, +INF, NA)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 9.23012687138887, +INF, NA)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED

---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 0.58885622727623, +INF, NA)
        1       c_Lossi(7)
       -1       c_obj

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 190.55755664965, +INF, NA)
        1       c_Lossi(13)
       -1       c_obj
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 118
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


     V_Lossi  Loss on lines connecting with bus i


V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, NA)
        1       c_Lossi(18)
       -1       c_obj

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0.00499999613276319, 0.01, NA)
        1       c_BalanceQ_solar(13)

V_q_over(18)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 119
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


     V_q_over  reactive power over

                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0.00500000386723681, 0.01, NA)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 5.29144097766807, +INF, NA)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 5582881.9553359, +INF, NA)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 10489369.7823617, +INF, NA)
        1       c_shuntSwitchingTotalPenaltyDef
       -1       c_obj


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 198, 198, NA)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_obj
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 120
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2127


     V_dem_Load  demand load level


V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 1.99, 1.99, NA)
        1       c_BalanceP_nosolar(18)
       -0.003   c_obj

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0.004, 0.004, NA)
        1       c_BalanceP_nosolar(18)
       -3       c_obj

REMAINING ENTRY SKIPPED

---- V_previous_solution_penalty  total penalty on deviation to previous solution

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 2527394.09038261, +INF, NA)
        1       c_previous_solution_penalty_def
       -1       c_obj


---- V_objcost  Total cost of objective function

V_objcost
                (.LO, .L, .UP, .M = -INF, 9584872.56562667, +INF, 0)
        1       c_obj


---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0.379126175714386, +INF, NA)
       -1       p_generator_add(1)

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 121
display_start
Model Statistics    SOLVE acopf Using RMINLP From line 2127


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           71
BLOCKS OF VARIABLES          20     SINGLE VARIABLES           93
NON ZERO ELEMENTS           306     NON LINEAR N-Z            110
DERIVATIVE POOL              20     CONSTANT POOL              35
CODE LENGTH                 303


GENERATION TIME      =        0.010 SECONDS      3 MB  24.9.1 r63795 LEX-LEG


EXECUTION TIME       =        0.016 SECONDS      3 MB  24.9.1 r63795 LEX-LEG
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 122
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


               S O L V E      S U M M A R Y

     MODEL   acopf               OBJECTIVE  V_objcost
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2127

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE         15219607.7505

 RESOURCE USAGE, LIMIT          0.113        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      

*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
*** Error Error code = 2; No such file or directory
Artelys Knitro Optimizer 10.3.0

=======================================
          Commercial License
         Artelys Knitro 10.3.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (26 variables).
Knitro fixing 3 variables eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                          92 (        84)
    bounded below only:                        4 (         4)
    bounded above only:                        0 (         0)
    bounded below and above:                  50 (        50)
    fixed:                                     0 (         0)
    free:                                     38 (        30)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 123
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


Number of constraints:                        70 (        60)
    linear equalities:                        32 (        24)
    nonlinear equalities:                     20 (        20)
    linear one-sided inequalities:             4 (         2)
    nonlinear one-sided inequalities:         14 (        14)
    linear two-sided inequalities:             0 (         0)
    nonlinear two-sided inequalities:          0 (         0)
Number of nonzeros in Jacobian:              290 (       273)
Number of nonzeros in Hessian:                77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0    1.301869e+07   1.975e+00
      10    1.301869e+07   1.513e+01   2.979e+01   5.657e+00        0
      20    1.098709e+08   8.762e-01   2.921e+01   2.245e+07        0
      30    6.439533e+07   8.755e-01   2.914e+01   3.845e+07        0
      40    2.106296e+07   8.751e-01   2.915e+01   2.143e+06        0
      49    1.521961e+07   8.751e-01   2.915e+01   7.182e+00        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =   1.52196077505010e+07
Final feasibility error (abs / rel) =   8.75e-01 / 4.43e-01
Final optimality error  (abs / rel) =   2.91e+01 / 9.78e-01
# of iterations                     =         49 
# of CG iterations                  =         29 
# of function evaluations           =         62
# of gradient evaluations           =         51
# of Hessian evaluations            =         50
Total program time (secs)           =       0.05638 (     0.052 CPU time)
Time spent in evaluations (secs)    =       0.00817

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            -0.0064      
13 .18.1          .              .              .            -0.0295      
13 .54.1          .              .              .            -0.0295      
149.7 .1          .              .              .       6.204902E-10      
54 .57.1          .              .              .             0.0007      
54 .56.1          .              .              .             0.0007      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 124
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .            -0.0295      
13 .18.1          .              .              .            -0.0039      
13 .54.1          .              .              .             0.0007      
149.7 .1          .              .              .            -0.0064      
54 .57.1          .              .              .             0.0197      
54 .56.1          .              .              .            -0.0004      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .             0.0131      
13 .18.1          .              .              .             0.0054      
13 .54.1          .              .              .             0.0054      
149.7 .1          .              .              .            -0.0013      
54 .57.1          .              .              .             0.0013      
54 .56.1          .              .              .             0.0013      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .             0.0054      
13 .18.1          .              .              .             0.0077      
13 .54.1          .              .              .             0.0013      
149.7 .1          .              .              .             0.0131      
54 .57.1          .              .              .            -0.0511      
54 .56.1          .              .              .            -0.0016      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.0850         0.1204         1.0000 INFES
18        200.0917       200.0138       200.0917         1.0000 INFES
149          .              .              .       -1.696783E-9      
54           .              .              .             0.1460      
56           .              .              .       2.8774764E-8      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .              .              .             0.2589      
57         0.2017         0.2017         0.2017         0.6504      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 125
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

           LOWER          LEVEL          UPPER         MARGINAL

7           0.1204         0.1204         0.1204        -0.2946      
18          0.0281         0.0281         0.0281        -0.2027      
149        60.0000        60.0000        60.0000        -0.0035      
54           .              .              .            -0.2598      
56           .              .              .            -0.2870      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

          LOWER          LEVEL          UPPER         MARGINAL

13          .              .              .       -4.45266E-13      
57         0.0635         0.0635         0.0635   -4.53800E-14      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1          .              .              .       -1.11192E-21      
13 .18.1          .              .              .       -2.78132E-21      
13 .54.1          .              .              .       -5.87139E-24      
149.7 .1          .              .              .       5.901040E-21      
54 .57.1          .              .              .       -7.94886E-22      
54 .56.1          .              .              .       -1.31953E-21      

---- EQU c_Lossi  Loss on lines connected with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .              .             1.0000      
13           .              .              .             1.0000      
18           .              .              .             1.0000      
149          .              .              .             1.0000      
54           .              .              .             1.0000      
57           .              .              .             1.0000      
56           .              .              .             1.0000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.0140         1.1500   -1.266891E-9      
13         -INF            0.1157         1.1500   -1.391449E-9      
18         -INF            0.0085         1.1500   -1.260775E-9      
149        -INF            0.3657         1.1500   -1.835012E-9      
54         -INF            0.0049         1.1500   -1.256815E-9      
57         -INF            0.0841         1.1500   -1.350257E-9      
56         -INF            0.0057         1.1500   -1.257772E-9      
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 126
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


---- EQU v_generator_harddownl  bus voltage constraints lower bound

           LOWER          LEVEL          UPPER         MARGINAL

7           0.8800         0.0140        +INF            1.0000 INFES
13          0.8800         0.1157        +INF            1.0000 INFES
18          0.8800         0.0085        +INF            1.0000 INFES
149         0.8800         0.3657        +INF            1.0000 INFES
54          0.8800         0.0049        +INF            1.0000 INFES
57          0.8800         0.0841        +INF            1.0000 INFES
56          0.8800         0.0057        +INF            1.0000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment from schedule

         LOWER          LEVEL          UPPER         MARGINAL

1         0.3000         0.3000         0.3000         EPS         

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE


---- EQU c_switchedshuntB_Def  defines total susceptance from switched shunts at bus i

                NONE


---- EQU c_shuntSwitchingDef1  defines number of steps switched - side 1

                NONE


---- EQU c_shuntSwitchingDef2  defines number of steps switched - side 2

                NONE


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_totalSh~          .             5.7450        +INF            EPS         

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - segment 1

                NONE

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 127
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_shuntTo~   -5.000000E+6    744957.2989        +INF      2.505197E-16      
---- EQU c_shuntSw~          .       5498383.2500        +INF      2.617542E-16      
---- EQU c_previou~          .       3229383.3438        +INF            EPS         

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switching
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt switching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup  generator voltage constraints added selectively

                NONE


---- EQU v_generator_addlow  generator voltage constraints added

                NONE


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU c_obj            630.0000       630.0000       630.0000         1.0000      

  c_obj  Objective function

---- VAR V_P  Real power generation of generator

         LOWER          LEVEL          UPPER         MARGINAL

1          .             0.6791         4.0860          NA         

---- VAR P_S  real power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13         0.0300         0.3000         0.3000          NA         
57         0.0200         0.2500         0.2500          NA         

---- VAR Q_S  reactive power generation of solar bus

          LOWER          LEVEL          UPPER         MARGINAL

13      -300.0000       -13.8922       300.0000          NA         
57      -300.0000        -1.4189       300.0000          NA         

---- VAR V_real  Real part of bus voltage

           LOWER          LEVEL          UPPER         MARGINAL

7          -1.0500        -0.0023         1.0500          NA         
13         -1.0500        -0.1138         1.0500          NA         
18         -1.0500        -0.0023         1.0500          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 128
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


     VAR V_real  Real part of bus voltage

           LOWER          LEVEL          UPPER         MARGINAL

149        -1.0500        -0.3657         1.0500          NA         
54         -1.0500         0.0049         1.0500          NA         
57         -1.0500         0.0302         1.0500          NA         
56         -1.0500        -0.0056         1.0500          NA         

---- VAR V_imag  Imaginary part of bus voltage

          LOWER          LEVEL          UPPER         MARGINAL

7         -1.0500         0.0138         1.0500          NA         
13        -1.0500         0.0209         1.0500          NA         
18        -1.0500         0.0081         1.0500          NA         
54        -1.0500         0.0002         1.0500          NA         
57        -1.0500        -0.0785         1.0500          NA         
56        -1.0500         0.0013         1.0500          NA         

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -3.8682        +INF             NA         
7  .149.1        -INF           -4.4580        +INF             NA         
13 .7  .1        -INF           -7.4970        +INF             NA         
13 .18 .1        -INF          -11.6528        +INF             NA         
13 .54 .1        -INF           -5.2326        +INF             NA         
18 .13 .1        -INF           -4.0559        +INF             NA         
149.7  .1        -INF           -1.8570        +INF             NA         
54 .13 .1        -INF            0.7377        +INF             NA         
54 .57 .1        -INF            1.2455        +INF             NA         
54 .56 .1        -INF           -0.0072        +INF             NA         
57 .54 .1        -INF           16.6960        +INF             NA         
56 .54 .1        -INF           -0.4888        +INF             NA         

---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

                 LOWER          LEVEL          UPPER         MARGINAL

7  .13 .1        -INF           -2.3137        +INF             NA         
7  .149.1        -INF           -4.5152        +INF             NA         
13 .7  .1        -INF          -35.6684        +INF             NA         
13 .18 .1        -INF          -60.4623        +INF             NA         
13 .54 .1        -INF          -21.5068        +INF             NA         
18 .13 .1        -INF           -2.2056        +INF             NA         
149.7  .1        -INF         -164.1025        +INF             NA         
54 .13 .1        -INF           -1.6600        +INF             NA         
54 .57 .1        -INF            2.3523        +INF             NA         
54 .56 .1        -INF            1.4411        +INF             NA         
57 .54 .1        -INF            5.6847        +INF             NA         
56 .54 .1        -INF           -1.6762        +INF             NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 129
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

                LOWER          LEVEL          UPPER         MARGINAL

7  .13.1        -INF            0.5889        +INF             NA         
13 .18.1        -INF          181.3274        +INF             NA         
13 .54.1        -INF            9.2301        +INF             NA         
149.7 .1        -INF         1092.9169        +INF             NA         
54 .57.1        -INF            0.1437        +INF             NA         
54 .56.1        -INF            0.0602        +INF             NA         

---- VAR V_Lossi  Loss on lines connecting with bus i

           LOWER          LEVEL          UPPER         MARGINAL

7          -INF            0.5889        +INF             NA         
13         -INF          190.5575        +INF             NA         
18         -INF             .            +INF             NA         
149        -INF         1092.9169        +INF             NA         
54         -INF            0.2039        +INF             NA         
57         -INF             .            +INF             NA         
56         -INF             .            +INF             NA         

---- VAR V_p_over  real power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0100         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0100         0.0100          NA         
56           .             0.0052         0.0100          NA         

---- VAR V_p_under  real power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .             0.0100          NA         
13           .              .             0.0100          NA         
18           .              .             0.0100          NA         
149          .             0.0050         0.0100          NA         
54           .              .             0.0100          NA         
57           .              .             0.0100          NA         
56           .             0.0048         0.0100          NA         
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 130
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


---- VAR V_q_over  reactive power over

           LOWER          LEVEL          UPPER         MARGINAL

7            .              .             0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .              .             0.0100          NA         
149          .       4.0797922E-7         0.0100          NA         
54           .              .             0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .              .             0.0100          NA         

---- VAR V_q_under  reactive power under

           LOWER          LEVEL          UPPER         MARGINAL

7            .             0.0100         0.0100          NA         
13           .             0.0050         0.0100          NA         
18           .             0.0100         0.0100          NA         
149          .             0.0100         0.0100          NA         
54           .             0.0100         0.0100          NA         
57           .             0.0050         0.0100          NA         
56           .             0.0100         0.0100          NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_totalSh~          .             5.7450        +INF             NA         
---- VAR V_shuntTo~          .       6489914.5978        +INF             NA         
---- VAR V_shuntSw~          .       1.1988298E+7        +INF             NA         

  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

         LOWER          LEVEL          UPPER         MARGINAL

2          .           198.0000       198.0000          NA         
3          .             1.9900         1.9900          NA         
4          .             0.0040         0.0040          NA         
5          .             0.0011         0.0011          NA         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR V_previou~          .       3229383.3438        +INF             NA         
---- VAR V_objcost         -INF      1.5219608E+7        +INF             .          
---- VAR V_P_syste~        -INF            0.3791        +INF             NA         

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcost  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 131
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


**** REPORT SUMMARY :        0     NONOPT
                             9 INFEASIBLE (INFES)
                    SUM          5.6748
                    MAX          0.8751
                    MEAN         0.6305
                             0  UNBOUNDED
                             0     ERRORS
                            61  PROJECTED
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 132
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=C
=0KNITRO           24.9.1 r63795 Released Aug 30, 2017 LEG x86 64bit/Linux      
=1
=2
=1
=C*** Error Cannot open parameter file "/home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/knitro.opt"
=C*** Error Error code = 2; No such file or directory
=2
=CArtelys Knitro Optimizer 10.3.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.3.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (26 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                          92 (        84)
?C    bounded below only:                        4 (         4)
?C    bounded above only:                        0 (         0)
?C    bounded below and above:                  50 (        50)
?C    fixed:                                     0 (         0)
?C    free:                                     38 (        30)
?CNumber of constraints:                        70 (        60)
?C    linear equalities:                        32 (        24)
?C    nonlinear equalities:                     20 (        20)
?C    linear one-sided inequalities:             4 (         2)
?C    nonlinear one-sided inequalities:         14 (        14)
?C    linear two-sided inequalities:             0 (         0)
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 133
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2127


?C    nonlinear two-sided inequalities:          0 (         0)
?CNumber of nonzeros in Jacobian:              290 (       273)
?CNumber of nonzeros in Hessian:                77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0    1.301869e+07   1.975e+00
?C      10    1.301869e+07   1.513e+01   2.979e+01   5.657e+00        0
?C      20    1.098709e+08   8.762e-01   2.921e+01   2.245e+07        0
?C      30    6.439533e+07   8.755e-01   2.914e+01   3.845e+07        0
?C      40    2.106296e+07   8.751e-01   2.915e+01   2.143e+06        0
?C      49    1.521961e+07   8.751e-01   2.915e+01   7.182e+00        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =   1.52196077505010e+07
?CFinal feasibility error (abs / rel) =   8.75e-01 / 4.43e-01
?CFinal optimality error  (abs / rel) =   2.91e+01 / 9.78e-01
?C# of iterations                     =         49 
?C# of CG iterations                  =         29 
?C# of function evaluations           =         62
?C# of gradient evaluations           =         51
?C# of Hessian evaluations            =         50
?CTotal program time (secs)           =       0.05638 (     0.052 CPU time)
?CTime spent in evaluations (secs)    =       0.00817
?C
?C===============================================================================
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 134
display_start
E x e c u t i o n


----   2194 PARAMETER TotalLoss            =     1284.267   Total Loss of all the lines
            PARAMETER infeas               =        9.000  Number of infeasibilities from model solve

----   2258 PARAMETER Pmax  gen maximum real power output

1 4.086


----   2258 PARAMETER Pmin  gen minimum real power output

                      ( ALL       0.000 )


----   2258 PARAMETER ratio  transformer tap ratio

                  1

7  .13        1.000
7  .149       1.000
13 .7         1.000
13 .18        1.000
13 .54        1.000
18 .13        1.000
149.7         1.000
54 .13        1.000
54 .57        1.000
54 .56        1.000
57 .54        1.000
56 .54        1.000


----   2258 PARAMETER switchedShuntB_init  initial value of switched shunt susceptance

                      ( ALL       0.000 )


----   2258 VARIABLE V_dem_Load.L  demand load level

2 198.000,    3   1.990,    4   0.004,    5   0.001


----   2258 VARIABLE V_switchedshuntB.L  total susceptance from switched shunts connected to bus i

                      ( ALL       0.000 )


----   2258 VARIABLE V_P.L  Real power generation of generator

1 0.679

GAMS 24.9.1  r63795 Released Aug 30, 2017 LEX-LEG x86 64bit/Linux                                                                                                                                                                    10/28/17 19:27:19 Page 135
display_start
E x e c u t i o n


----   2258 VARIABLE V_P.Up (+INF) Real power generation of generator

1 4.086


----   2258 VARIABLE V_P.Lo (-INF) Real power generation of generator

1 0.000


----   2258 VARIABLE V_Q.L  Reactive power generation of generator

1 -60.000


----   2258 VARIABLE V_Q.Up (+INF) Reactive power generation of generator

1 -60.000


----   2258 VARIABLE V_Q.Lo (-INF) Reactive power generation of generator

1 -60.000


----   2258 PARAMETER Qmax  gen maximum reactive power output

1 60.000


----   2258 PARAMETER Qmin  gen minimum reactive power output

1 -60.000


**** REPORT FILE SUMMARY

report_file /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/report.txt


EXECUTION TIME       =        0.005 SECONDS      3 MB  24.9.1 r63795 LEX-LEG


USER: GAMS Development Corporation, USA              G871201/0000CA-ANY
      Free Demo, +1 202-342-0180, support@gams.com, www.gams.com DC0000


**** FILE SUMMARY

Input      /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/iv_acopf_reformulation_lop_adj.gms
Output     /home/yingying/git/volttron/TransactiveEnergy/CoordinatorAgent/coordinator/_gams_py_gjo0.lst
