GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 1
"AC optimal power flow model, rectangular current-voltage formulation"
C o m p i l a t i o n


   2  *this file is modified by Xinda Ke from Wisconsin university IV_acopf.gms
   3  *updated by xinda ke in 8/1/2016
   4  *_________________________________________________________________________
      ______
   5  * Filename: iv_acopf.gms
   6  * Description: AC optimal power flow model, rectangular current-voltage fo
      rmulation
   7  *
   8  * Usage: gams iv_acopf.gms --case=/path/case.gdx
   9  *
  10  * Options:
  11  * --timeperiod: Select time period to solve. Default=1
  12  * --obj: Objective function, piecewise linear or quadratic. Default="quad"
  13  * --obj: Objective function, the default is to minimize for voltage deviat
      ion Default="v_dev"
  14  * --linelimits: Type of line limit data to use. Default="given"
  15  * --genPmin: Data for Generator lower limit. Default="given"
  16  * --allon: Option to turn on all gens or lines during solve. Default=none
  17  * --savesol: Turn on save solution option(1). Default=0
  18  * --verbose: Supresses printout(0). Default=1
  19  *_________________________________________________________________________
      ______
  20   
  21   
  22   
  23   
  24   
  25   
  26   
  27  *===== SECTION: USER PARAMETERS
  28  *$include user_params.gms
  29   
  30  * switched shunt user parameters
  31  * later these will be passed in from Python
  37   
  38  * other penalty parameters
  46   
  47  * load bus voltage goal point
  48  * TODO: replace this with a gdx file containing individual goal
  49  * values for the buses
  51   
  53   
  55   
  56  * disable solar ?
  58   
  60   
  61  * disable demand response?
  63  * disable controllable solar q limit
  65  * disable solar reactive power?
  67   
  68  * disable switched shunts?
  70   
  71  * start optimization algorithm at previous solution?
  73   
  74  * initial starting point
  76   
  77  * quadratic penalty on distance to previous solution
  79   
  80  * use constraints in addition to variable bounds
  82   
  83  * append to report file
  85   
  86  * use pv/pq smoothing approach
  88   
  89  * pv/pq smoothing parameter
  91   
  92  * report file
  94   
  95  * write excel reports
  97   
  98  * use soft constraints for power balance
 100   
 101  * penalty parameter for soft power balance constraints
 103   
 104  *===== SECTION: DEVELOPER PARAMETERS
 105  *$include developer_params.gms
 106   
 107  * System dependence
 110   
 111  *define the path and name of case to be used
 113  *$if not set case $set  case "Dukeare342.gdx"
 114   
 115  * Printout options
 117  * Define filepath, name and extension.
 119  * Define input case
 120   
 123   
 124  *$set obj "pwl"
 125   
 126  * Default: timeperiod = 1
 128  * Default: allon=0
 130  * Default: Quadratic objective function
 132  * Default: Ignore D-curve constraints
 133  *$if not set qlim $set qlim 0
 134  * Default: elastic demand bidding does not apply here
 136  * Default: Use provided line limits (as opposed to uwcalc)
 138  * Default: Use provided generator lower limit
 140  * Default: Save solution option turned off
 142   
 144   
 145  *===== SECTION: EXTRACT DATA
 146  *$batinclude "%filepath%excel2gdx4ACOPF.gms"  excelpath solar_rp demand_P 
      demand_Q gen_status geni_psch
BATINCLUDE C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\extract_data_SunLamp_newformulation_cle.gms
 148  *Created by xinda ke in 7/20/2016
 149  * this code is to extract data from gdx
 150  *updated by xinda ke in 7/24/2016
 151   
 152  *==== SECTION: Data (pre) declaration
 153  sets
 154  * New sets
 155      conj /real,imag/
 156      costcoefset "Placeholder set for quadratic function coefficients (0,1,
      2)" /0*2/
 157      costptset "Placeholder set for pwl function pieces"  /1*40/
 158   
 159  * Timeperiod
 160      t /1/,
 161  * Dataset sets
 162      bus, gen, circuit, nongen, solarbus,
 163      interface, interfacemap (interface,bus,bus),
 164      demandbid, demandbidmap,
 165      fuel_t, fuel_s, prime_mover,
 166      bus_t, bus_s,
 167      gen_t, gen_s,
 168      branch_t, branch_s,
 169   
 170      interface_t,
 171      line(bus,bus,circuit),
 172      transformer(bus,bus,circuit),
 173      monitored_lines(bus,bus,circuit)
 174  ;
 175  set demanStep  "demandresponse-steps"  /1 * 5/;
 176  set demanRang  "demandresponse-steps"  /1 * 4/;
 177  alias(bus,i,j);
 178  alias(circuit,c);
 179  alias(gen,gen1);
 180  alias(bus_s,bus_s_0,bus_s_1,bus_s_2);
 181  parameters
 182      version, baseMVA, total_cost,Nb,
 183  * Domain info not stated because of how we iterate through data
 184       businfo(*,*,*),
 185       geninfo(*,*,*),
 186       fuelinfo(*,*),
 187       branchinfo(*,*,*,*,*),
 188       interfaceinfo(*,*,*)
 189  ;
 190  *-- Specially handled data (option specific)
 192  sets
 193    demandbid_t(*) / /
 194    demandbid_s(*) / /
 195    demandbid(*) / /
 196    demandbidmap (*,*) / /
 197  ;
 198   
 199  parameters
 200    demandbidinfo(*,*,*,*) / /
 201  ;
 203  *==== SECTION: Data read-in from input file
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\7bus.gdx
--- LOAD  version = 1:version
--- LOAD  baseMVA = 3:baseMVA
--- LOAD  total_cost = 2:total_cost
--- LOAD  bus = 6:bus
--- LOAD  gen = 7:gen
--- LOAD  circuit = 8:circuit
--- LOAD  bus_s = 17:bus_s
--- LOAD  line = 9:line
--- LOAD  transformer = 10:transformer
--- LOAD  bus_t = 16:bus_t
--- LOAD  gen_t = 18:gen_t
--- LOAD  branch_t = 20:branch_t
--- LOAD  branch_s = 21:branch_s
 208  *$LOAD fuel_t, fuel_s, prime_mover
--- LOAD  businfo = 28:businfo
--- LOAD  geninfo = 29:geninfo
--- LOAD  branchinfo = 30:branchinfo
--- LOAD  fuelinfo = 33:fuelinfo
--- LOAD  interface = 14:interface
--- LOAD  interfacemap = 15:interfacemap
--- LOAD  interfaceinfo = 32:interfaceinfo
 211  *$load bus_s, gen_s,
 212  *susceptance of switched shunt
 214   
 215   
 216  set pq  "real and reactive"  /1 * 2/;
 217  *$call 'GDXXRW input=solarbus.xlsx output=solarbus.gdx set=solarbus rng=Sh
      eet1!A1:CX1 Cdim=1';
 218   
 219   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\solarbus2.gdx
--- LOAD  solarbus = 1:solarbus
 223   
 224  * Option to use elastic demand bidding turned on
 227  *==== SECTION: Validity of options
 228  * linelimits, case insensitive
 229   
 230   
 231   
 232   
 233  * allon, case insensitive
 234  * this will allow u to turn on certain bus or circuit selectively
 237   
 238  *==== SECTION: Data Declaration (extracted/manipulated from datafile)
 239  *-- All OPF models
 240  parameters
 241    type(bus)         "bus type (probably irrelevant, but gives reference bu
      s[es])"
 242    pf(bus)           "bus demand power factor"
 243    Pd(bus)           "bus real power demand"
 244    Pd_respon_p_up(bus)   "the upper cap of real power of demand response"
 245    Pd_respon_p_down(bus)   "the downer cap of real power of demand response
      "
 246    Pd_respon_q_up(bus)   "the upper cap of reactive power of demand respons
      e"
 247    Pd_respon_q_down(bus)   "the downer cap of reactive power of demand resp
      onse"
 248    Pd_respon_location(bus) "the location of demandresponse bus, equals 1 if
       that bus has this solar"
 249    gentype(gen)      "generator if equals 1 or slack bus equals 0"
 250    Pg(gen)           "gen real power output"
 251    PgSch(gen)        "gen scheduled power output"
 252    Pmax(gen)         "gen maximum real power output"
 253    Pmin(gen)         "gen minimum real power output"
 254    Va(bus)           "bus voltage angle"
 255    Vm(bus)           "bus voltage magnitude"
 256    MaxVm(bus)        "maximum bus voltage magnitude"
 257    MinVm(bus)        "minimum bus voltage magnitude"
 258    Gs(bus)           "bus shunt conductance"
 259    solar_r(bus)  "solar real power"
 260    dis_gen_par1(bus)      "distributed generator parameter 1"
 261    dis_gen_par2(bus)      "distributed generator parameter 1"
 262    dis_gen_par3(bus)      "distributed generator parameter 1"
 263    atBus(gen,bus)    "Location of generator"
 264    status(gen)       "generator status"
 265    status2(gen,bus)   "Online generator status marked for all bus"
 266    Vsch(bus)          "generator voltage schedule"
 267    r(i,j,c)          "line resistance"
 268    x(i,j,c)          "line reactance"
 269    B(i,j,c)          "line susceptance"
 270    ratio(i,j,c)      "transformer tap ratio",
 271    angle(i,j,c)      "transformer tap angle",
 272    rateA(i,j,c)      "line power limits (MW)",
 273    currentrate(i,j,c)  "line current limits",
 274    branchstatus(i,j,c) "line status",
 275    interfaceLimit(interface) "Limit on power across each interface"
 276    solarlocation(solarbus,bus)  "the location of solar bus"
 277    contro_solar_location(bus) "the location of controllable solar bus, equa
      ls 1 if that bus has this solar"
 278    csolar_Q_limit_up(bus) "the location of controllable solar bus, equals 1
       if that bus has this solar"
 279    csolar_Q_limit_down(bus) "the location of controllable solar bus, equals
       1 if that bus has this solar"
 280    contro_solar_pout(bus)   "the real power output of curtailable solar bus
      "
 281    Qd(bus)           "bus reactive power demand"
 282    Qg(gen)           "gen reactive power output"
 283    Qmax(gen)         "gen maximum reactive power output"
 284    Qmin(gen)         "gen minimum reactive power output"
 285    Bs(bus)           "bus shunt susceptance"
 286    yb(i,j,conj)      "Bus admittance matrix, Ybus"
 287    g(i,j,c)          "line conductance"
 288    bc(i,j,c)         "line charging susceptance"
 289    Bswitched(bus,bus_s)     "susceptance of switched shunts",
 290    numBswitched(bus,bus_s)  "number of each type of switched shunt elements
       at each bus"
 291  *  switchedShuntB_init(bus,bus_s) "initial value of switched shunt suscept
      ance"
 292    switchedShuntB_init(bus) "initial value of switched shunt susceptance"
 293    numShuntStepsOn_init(bus,bus_s) "initial number of switched shunt steps 
      on"
 294    demLoad(demanStep) "demandresponse load"
 295    demPrice(demanStep) "demandresponse price"
 296    demSlope(demanStep) "slope"
 297    demLocation(bus)      "location of demand response"
 298  ;
 299   
 300   
 301   
 302   
 303  *r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
 304  *x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
 305  *branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','%timep
      eriod%');
 306   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\geni_st.gdx
--- LOAD  status = 1:status
 310   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demand_response.gdx
--- LOAD  Pd_respon_location = 5:Pd_respon_location
--- LOAD  Pd_respon_p_down = 2:Pd_respon_p_down
--- LOAD  Pd_respon_q_down = 4:Pd_respon_q_down
--- LOAD  Pd_respon_p_up = 1:Pd_respon_p_up
--- LOAD  Pd_respon_q_up = 3:Pd_respon_q_up
 314   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demandresponseload.gdx
--- LOAD  demLoad = 1:demLoad
 318   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\demandresponseprice.gdx
--- LOAD  demPrice = 1:demPrice
 322  demLocation('18')=1;
 323   
 324  demLoad(demanStep)=demLoad(demanStep)/baseMVA;
 325  demSlope(demanStep)$(ord(demanStep) > 1)= -(demPrice(demanStep)-demPrice(d
      emanStep-1) ) /(demLoad(demanStep)-demLoad(demanStep-1) )
 326   
 327   
 328   
 329  display demLoad,demPrice,demLocation,demSlope;
 330  dis_gen_par1('13')=0.25;
 331  dis_gen_par1('57')=0.31;
 332  dis_gen_par2('13')=15.6;
 333  dis_gen_par2('57')=29.7;
 334  dis_gen_par3('13')=330;
 335  dis_gen_par3('57')=300;
 336   
 338  Pd_respon_p_down(bus)=0;
 339  Pd_respon_q_down(bus)=0;
 340  Pd_respon_p_up(bus)=0;
 341  Pd_respon_q_up(bus)=0;
 343   
 344   
 345   
 347  contro_solar_pout(bus)=0;
 348  contro_solar_location(bus)=0;
 350   
 352  csolar_Q_limit_up(bus)=0;
 353  csolar_Q_limit_down(bus)=0;
 354  contro_solar_location(bus)=0;
 356  *to per unit
 357  csolar_Q_limit_up(bus) =csolar_Q_limit_up(bus)/baseMVA;
 358  csolar_Q_limit_down(bus) =csolar_Q_limit_down(bus)/baseMVA;
 359   
 360  * trying to replace the input file in the gdx above using wisconsin gdx
 361  *solar section
 362  *$call 'GDXXRW input=solar_s.xlsx output=solar_s.gdx par=solar_s rng=Sheet
      1!B1:CX2 Cdim=1';
 363  *$call 'GDXXRW input=solarindex.xlsx output=solarlocation.gdx par=solarloc
      ation rng=Sheet1!B1:CX3 Cdim=2 ';
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\solarlocation.gdx
--- LOAD  solarlocation = 1:solarlocation
 367  * Bus type
 368  type(bus) = businfo(bus,'type','given');
 369  atBus(gen,bus)$geninfo(gen,'atBus',bus) = 1;
 370  Pmax(gen) = geninfo(gen,'Pmax','given')/baseMVA;
 371  Pmin(gen) = geninfo(gen,'Pmin','given')/baseMVA;
 372  Qmax(gen) = geninfo(gen,'Qmax','given')/baseMVA;
 373  Qmin(gen) = geninfo(gen,'Qmin','given')/baseMVA;
 374   
 375   
 376  *gentype  generator if equals 1 or slack bus equals 0
 377  gentype(gen)=1$(sum(bus$(atBus(gen,bus)), type(bus) eq 2));
 378  Vsch(bus)$(sum(gen,atBus(gen,bus)) > 0)=sum(gen$(atBus(gen,bus)), geninfo(
      gen,'Vg','given'))/ sum(gen, atBus(gen,bus));
 379  * Line resistance (r) and reactance (x)
 380  r(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'r','given');
 381  x(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'x','given');
 382  r(j,i,c)$r(i,j,c) = r(i,j,c);
 383  x(j,i,c)$x(i,j,c) = x(i,j,c);
 384  * line charging conductance
 385  bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
 386  bc(j,i,c)$(bc(i,j,c)) = bc(i,j,c);
 387  * transformer tap ratios and angles
 388  ratio(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'ratio','given');
 389  ratio(j,i,c)$(ratio(i,j,c)) =  1/ratio(i,j,c);
 390  * TODO is this right?
 391  * should we have 1/ratio and -angle? or
 392  * ratio and angle?
 393  * original was ratio and -angle, which makes no sense
 394  *CHECK the angle is all zero in 118 system, should be checked in other sys
      tem
 395  angle(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'angle','given') * pi/180;
 396  * TODO is this right?
 397  angle(j,i,c)$(angle(i,j,c)) = -angle(i,j,c);
 398  *TODO the time step for branchstatus
 399  *time step has checked with Sidhart
 400  branchstatus(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'branchstatus','1');
 401  * Bus shunt conductance and susceptance
 402  * in the 118 system fixed shunt elements all got replaced by switched shun
      t elements
 403  Gs(bus) = businfo(bus,'Gs','given')/baseMVA;
 404  Bs(bus) = businfo(bus,'Bs','given')/baseMVA;
 405   
 406  * add the input replacement above
 407   
 408  status2(gen,bus) = 1$(atBus(gen,bus) and status(gen) eq 1 );
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\UC_OPF_load_elwi_BV.gdx
--- LOAD  Pd = 1:Pd
 412   
 413  Pd(bus) =Pd(bus)/baseMVA;
 414   
 415   
 416  * Voltage angle
 417  Va(bus) = businfo(bus,'Va','1')*pi/180;
 418  *Va(bus) = 0;
 419  *Voltage magnitude information
 420  Vm(bus) = businfo(bus,'Vm','1');
 421  *Vm(bus) = 1;
 422  maxVm(bus) = businfo(bus,'maxVm','given');
 423  minVm(bus) = businfo(bus,'minVm','given');
 424   
 425  * Initial branch status (active/not connected)
 426   
 427  * Define original cost model in dataset
 428  * If linelimits=inf, no monitored lines
 430   
 431  * Limit on power across each interface
 432  *interfaceLimit(interface) = interfaceinfo(interface,'%timeperiod%','rateA
      ')/baseMVA;
 433   
 434  * Line current
 435  *currentrate(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'currentrateA','%lineli
      mits%');
 436  *currentrate(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'currentrateA','%line
      limits%');
 437   
 438  * Take down all lines to buses marked as "isolated"
 439  branchstatus(i,j,c)$(type(i) eq 4 or type(j) eq 4) = 0;
 440   
 441  * Line susceptance
 442  B(i,j,c)$line(i,j,c) = -x(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
 443  B(j,i,c)$(b(i,j,c)) = b(i,j,c);
 444   
 445   
 446   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\geni_p.gdx
--- LOAD  PgSch = 1:PgSch
 450  PgSch(gen) =PgSch(gen)/baseMVA;
 451  *starting searching point of generator real power output, might need obtai
      ned from input data
 452  Pg(gen)=PgSch(gen);
 453  *generator scheduled volage output
 454   
 455   
 456  * Line limit (active power)
 457  *line limit is disabled to match Matpower
 458  *rateA(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'rateA','%linelimits%')/baseM
      VA;
 459  *rateA(j,i,c)$(line(i,j,c)) = branchinfo(i,j,c,'rateA','%linelimits%')/bas
      eMVA;
 460   
 461   
 462   
GDXIN   C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribution_
        ACOPF\UC_OPF_load_elwi_Q.gdx
--- LOAD  Qd = 1:Qd
 466  Qd(bus) =Qd(bus)/baseMVA;
 467   
 468   
 469   
 470   
 471  *$GDXIN geni_q.gdx
 472  *$LOAD Qg
 473  *$GDXIN
 474  *Qg(gen) =Qg(gen)/baseMVA;
 475  *Qg is zero from gdx.
 476  Qg(gen)=geninfo(gen,'Qg','1')/baseMVA;
 477   
 478  * Bus shunt conductance and susceptance
 479   
 480   
 481  * line conductance
 482  g(i,j,c)$line(i,j,c) =  r(i,j,c)/(sqr(r(i,j,c))+sqr(x(i,j,c)));
 483  g(j,i,c)$(g(i,j,c)) = g(i,j,c);
 484   
 485   
 486   
 487   
 488  * line charging conductance
 489  *bc(i,j,c)$line(i,j,c) = branchinfo(i,j,c,'bc','given');
 490   
 491   
 492  * number and susceptance of switched shunt element data
 493  * number of steps in each switched shunt
 494  numBswitched(bus,bus_s) =
 495    businfo(bus,'switchedelements',bus_s)
 496  *  $(
 497  *    businfo(bus,'SwSh_Stat','given') = 1 and
 498  *    businfo(bus,'MODSW','given') = 1 and
 499  *    businfo(bus,'SwSh_RMPCT','given') = 100)
 500      ;
 501  * step size in each switched shunt
 502  Bswitched(bus,bus_s)$numBswitched(bus,bus_s) =
 503    businfo(bus,'switchedBs',bus_s)/baseMVA;
 504  * switched shunt susceptance in a prior solution
 505  switchedShuntB_init(bus)$(sum(bus_s,numBswitched(bus,bus_s))) =
 506    businfo(bus,'SwSh_Stat','given')* businfo(bus,'BINIT','given')/baseMVA;
 507  *switchedShuntB_init('307723')=0;
 508  * not sure if there is any better way to set this
 509  * but we only need it for the first time step
 510  numShuntStepsOn_init(bus,bus_s)$numBswitched(bus,bus_s)
 511    = switchedshuntB_init(bus) * numBswitched(bus,bus_s)
 512    / sum(bus_s_1, numBswitched(bus,bus_s_1) * Bswitched(bus,bus_s_1));
 513   
 514  * ==== SECTION: Additional Model Options
 515  *-- Elastic demand bidding turned on/off
 517   
 518  *-- %allon% options
 520  *branchstatus(j,i,c)$(branchstatus(i,j,c)) =  branchstatus(i,j,c);
 521  * filepath is not coming in from batinclude from iv_acopf correctly
 522  * use setnames to get it
 523  * temp_solution.gdx not found. is that OK?
 525  * load prior sol switched shunt settings if this is not the first time ste
      p
 527  execute_load 'switched_shunt_current.gdx', numShuntStepsOn_init=numShuntSt
      epsOn;
 529   
 530  *===== SECTION: PARAMETERS FROM USER
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\params_from_user.gms
 532   
 533  * switched shunt penalty parameters
 534  parameter
 535    shuntSwitchingPenalty1 /1e-3/
 536    shuntSwitchingPenalty2 /1e6/
 537    shuntSwitchingTolerance /1e0/
 538    shuntSwitchingBudgetPenalty /1e6/
 539    shuntSwitchingBudget /5e0/;
 540   
 541  * other penalty parameters
 542  parameter
 543    load_bus_volt_pen_coeff_1 /1/
 544    load_bus_volt_pen_coeff_2 /0/
 545    demand_response_decrease_penalty /10/
 546    demand_response_increase_penalty /10/
 547    solar_curtail_penalty /50/
 548    generator_voltage_deviation_penalty /1e5/
 549    previous_solution_penalty_2 /0/;
 550   
 551  * other parameters
 552  parameter
 553    previous_solution_as_start_point /0/
 554    load_bus_volt_dead_band /1e-2/
 555    load_bus_voltage_goal /1.0/
 556    use_constrs /0/
 557    use_pv_pq_smoothing /0/
 558    pv_pq_smoothing_param /0.001/;
 559   
 560   
 561  *===== SECTION: MODEL PARAMETERS
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\model_params.gms
 563   
 564   
 565  * generator participation in system adjustment from real generation schedu
      le
 566  parameter
 567    gen_participation_factor(gen);
 568   
 569  sets
 570      load(bus) "Load buses"
 571      isGen(bus) "Generator buses"
 572      activeGen(bus) "Active generator buses"
 573      isLine(i,j) "Active (i,j) line"
 574      isSolar(bus) "solar bus";
 575   
 576  * prior variable values
 577  * penalize the distance of the new solution to
 578  * these prior variables in order to promote
 579  * continuity
 580  parameter
 581      V_P_prior(gen)           "Real power generation of generator",
 582      V_Q_prior(gen)           "Reactive power generation of generator",
 583      P_S_prior(i)      "real power generation of solar bus"
 584      Q_S_prior(i)      "reactive power generation of solar bus"
 585      V_real_prior(i)          "Real part of bus voltage",
 586      V_imag_prior(i)          "Imaginary part of bus voltage",
 587      Solar_p_curtail_prior(i)    "the amount of real power cutailed from co
      ntrollable",
 588      De_response_Dec_P_prior(i)         "the decrease in demand response",
 589      De_response_Inc_P_prior(i)         "the increment in demand response"
 590      balance_real_bound
 591      balance_react_bound
 592  ;
 593   
 594  parameters
 595    saturaup(bus) "the saturation status of generator bus"
 596    saturalow(bus) "the saturation status of generator bus"
 597    genQtemp(gen)      "the reactive of generator ";
 598   
 599  scalar voltageran_low,voltageran_high,step_leng;
 600   
 601  * bus voltage target info
 602  set
 603      bus_penalize_volt_mag_target(bus) "yes if the voltage magnitude target
       penalty should be assessed for this bus"
 604  parameter
 605      volt_mag_target(bus) ideal voltage magnitude for each bus;
 606   
 607  * variable values, constraint violation, and objective. at start point
 608  parameter
 609  * control variables
 610      V_P_start(gen)
 611      V_Q_start(gen)
 612      P_S_start(i)
 613      Q_S_start(i)
 614      V_real_start(i)
 615      V_imag_start(i)
 616      Solar_p_curtail_start(i)
 617      De_response_Dec_P_start(i)
 618      De_response_Inc_P_start(i)
 619      V_shunt_start(bus,bus_s)
 620      V_P_system_deviation_start
 621      V_switchedshuntB_start(i)
 622  * current
 623      V_LineIr_start(i,j,c)
 624      V_LineIr_start(j,i,c)
 625      V_LineIq_start(i,j,c)
 626      V_LineIq_start(j,i,c)
 627  * losses
 628      V_Lossijc_start(i,j,c)
 629      V_Lossi_start(i)
 630  * penalties and objectives
 631      V_load_bus_volt_pen_dev_start
 632      V_load_bus_volt_pen_start
 633      V_shuntSwitching_start(i,bus_s)
 634      V_totalShuntSwitching_start
 635      V_shuntSwitchingPenalty_start(i,bus_s)
 636      V_shuntTotalSwitchingPenalty_start
 637      V_shuntSwitchingTotalPenalty_start
 638      V_previous_solution_penalty_start
 639      V_objcost_start
 640  * variable bound violations
 641      gen_p_lo_viol_start(gen)
 642      gen_p_up_viol_start(gen)
 643      gen_q_lo_viol_start(gen)
 644      gen_q_up_viol_start(gen)
 645      solar_p_fx_viol_start(i)
 646      solar_q_up_viol_start(i)
 647      solar_q_lo_viol_start(i)
 648      solar_p_curtail_up_viol_start(bus)
 649      De_response_Inc_P_up_viol_start(bus)
 650      De_response_dec_P_lo_viol_start(bus)
 651      v_shunt_up_viol_start(bus,bus_s)
 652  * constraint violations
 653      balance_p_viol_start(i)
 654      balance_q_viol_start(i)
 655      p_generator_add_viol_start(gen)
 656      c_I_limit_viol_start(i,j,c)
 657      c_V_limit_lo_viol_start(i)
 658      c_V_limit_up_viol_start(i)
 659      v_generator_hardupl_viol_start(i)
 660      v_generator_harddownl_viol_start(i)
 661      v_under_q_up_slack_viol_start(gen)
 662      v_over_q_lo_slack_viol_start(gen)
 663  * summaries
 664      p_load_start
 665      p_gen_start
 666      p_shunt_start
 667      p_solar_start
 668      p_dr_start
 669      p_imbalance_start
 670      min_p_shortfall
 671      sum_loss_start
 672  *    v_load_bus_volt_pen_start
 673  *    v_total_shunt_switching_start
 674  *    v_shunt_switching_total_penalty_start
 675  *    v_previous_solution_penalty_start
 676  *    v_objcost_start
 677      max_gen_p_lo_viol_start
 678      max_gen_p_up_viol_start
 679      max_gen_q_lo_viol_start
 680      max_gen_q_up_viol_start
 681      max_solar_p_fx_viol_start
 682      max_solar_q_up_viol_start
 683      max_solar_q_lo_viol_start
 684      max_solar_p_curtail_up_viol_start
 685      max_De_response_Inc_P_up_viol_start
 686      max_De_response_dec_P_lo_viol_start
 687      max_v_shunt_up_viol_start
 688      max_balance_p_viol_start
 689      max_balance_q_viol_start
 690      max_p_generator_add_viol_start
 691      max_c_I_limit_viol_start
 692      max_c_V_limit_lo_viol_start
 693      max_c_V_limit_up_viol_start
 694      max_v_generator_hardupl_viol_start
 695      max_v_generator_harddownl_viol_start
 696      max_v_under_q_up_slack_viol_start
 697      max_v_over_q_lo_slack_viol_start;
 698   
 699  * variable values, constraint violation, and objective. at solution point
 700  parameter
 701  * control variables
 702      V_P_sol(gen)
 703      V_Q_sol(gen)
 704      P_S_sol(i)
 705      Q_S_sol(i)
 706      V_real_sol(i)
 707      V_imag_sol(i)
 708      Solar_p_curtail_sol(i)
 709      De_response_Dec_P_sol(i)
 710      De_response_Inc_P_sol(i)
 711      V_shunt_sol(bus,bus_s)
 712      V_P_system_deviation_sol
 713      V_switchedshuntB_sol(i)
 714  * current
 715      V_LineIr_sol(i,j,c)
 716      V_LineIr_sol(j,i,c)
 717      V_LineIq_sol(i,j,c)
 718      V_LineIq_sol(j,i,c)
 719  * losses
 720      V_Lossijc_sol(i,j,c)
 721      V_Lossi_sol(i)
 722  * penalties and objectives
 723      V_shuntSwitching_sol(i,bus_s)
 724      V_totalShuntSwitching_sol
 725      V_shuntSwitchingPenalty_sol(i,bus_s)
 726      V_shuntTotalSwitchingPenalty_sol
 727      V_shuntSwitchingTotalPenalty_sol
 728      V_previous_solution_penalty_sol
 729      V_objcost_sol
 730  * variable bound violations
 731      gen_p_lo_viol_sol(gen)
 732      gen_p_up_viol_sol(gen)
 733      gen_q_lo_viol_sol(gen)
 734      gen_q_up_viol_sol(gen)
 735      solar_p_fx_viol_sol(i)
 736      solar_q_up_viol_sol(i)
 737      solar_q_lo_viol_sol(i)
 738      solar_p_curtail_up_viol_sol(bus)
 739      De_response_Inc_P_up_viol_sol(bus)
 740      De_response_dec_P_lo_viol_sol(bus)
 741      v_shunt_up_viol_sol(bus,bus_s)
 742  * constraint violations
 743      balance_p_viol_sol(i)
 744      balance_q_viol_sol(i)
 745      p_generator_add_viol_sol(gen)
 746      c_I_limit_viol_sol(i,j,c)
 747      c_V_limit_lo_viol_sol(i)
 748      c_V_limit_up_viol_sol(i)
 749      v_generator_hardupl_viol_sol(i)
 750      v_generator_harddownl_viol_sol(i)
 751      v_under_q_up_slack_viol_sol(gen)
 752      v_over_q_lo_slack_viol_sol(gen)
 753  * summaries
 754      sum_loss_sol
 755  *    v_load_bus_volt_pen_sol
 756  *    v_total_shunt_switching_sol
 757  *    v_shunt_switching_total_penalty_sol
 758  *    v_previous_solution_penalty_sol
 759  *    v_objcost_sol
 760      max_gen_p_lo_viol_sol
 761      max_gen_p_up_viol_sol
 762      max_gen_q_lo_viol_sol
 763      max_gen_q_up_viol_sol
 764      max_solar_p_fx_viol_sol
 765      max_solar_q_up_viol_sol
 766      max_solar_q_lo_viol_sol
 767      max_solar_p_curtail_up_viol_sol
 768      max_De_response_Inc_P_up_viol_sol
 769      max_De_response_dec_P_lo_viol_sol
 770      max_v_shunt_up_viol_sol
 771      max_balance_p_viol_sol
 772      max_balance_q_viol_sol
 773      max_p_generator_add_viol_sol
 774      max_c_I_limit_viol_sol
 775      max_c_V_limit_lo_viol_sol
 776      max_c_V_limit_up_viol_sol
 777      max_v_generator_hardupl_viol_sol
 778      max_v_generator_harddownl_viol_sol
 779      max_v_under_q_up_slack_viol_sol
 780      max_v_over_q_lo_slack_viol_sol;
 781   
 782  * files for output
 783  file report_file /'report.txt'/;
 784  report_file.nr = 2;
 785  report_file.nd = 6;
 786  report_file.pc = 5;
 788  put report_file;
 789  put 'sunlamp crest-vct prototype acopf model' /;
 790  put 'start run' /;
 791  putclose;
 792   
 793  *===== SECTION: DATA MANIPULATION
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\data_manipulation.gms
 795   
 796  gen_participation_factor(gen)
 797    = 1$(sum(bus$(atBus(gen,bus) and businfo(bus,'type','given') eq 3),1) > 
      0);
 798   
 799  * set shunt penalties to 0
 800  * if this is the first time step
 802   
 803  display Bswitched;
 804   
 805  *--- Define load, gen buses and active lines
 806  file fx;
 807  put fx;
 808   
 809  load(bus)$(type(bus) eq 1)  = 1;
 810  isSolar(bus)$(sum(solarbus, solarlocation(solarbus,bus)) eq 1) = 1;
 811  isGen(bus)$(not(load(bus))) = 1;
 812  activeGen(bus)$(isGen(bus) and (sum(gen$atBus(gen,bus), status(gen))>0) ) 
      = 1;
 813  option isLine < branchstatus;
 814   
 815  * disable solar
 817   
 818  saturaup(bus)=0;
 819   saturalow(bus)=0;
 820  genQtemp(gen)=0;
 821  *voltageran_low=0.999;
 822  *voltageran_high=1.001;
 823  voltageran_low=1;
 824  voltageran_high=1;
 825  step_leng=0.1;
 826   
 827  * voltage magnitude target will be loaded from a file
 828  * for now set it as the scalar voltage goal
 829   
 830  * load from a gdx file if desired
 831  * this gdx file can be written in the Python simulation code
 832  * after reading from csv
 833  * or else we can read from csv and construct a gdx file in the Gams code
 834  * for now we assume the gdx file is constructed externally to the Gams cod
      e
 835  volt_mag_target(bus) = load_bus_voltage_goal;
 836   
 837  * which buses should be subject to a voltage magnitude target deviation pe
      nalty?
 838  * for any given bus, if the real power load has a nonzero value,
 839  * then we should penalize the deviation from the voltage magnitude target
 840  bus_penalize_volt_mag_target(bus) = yes$(abs(pd(bus)) > 0 and abs(volt_mag
      _target(bus)) > 0);
 841   
 842  *===== SECTION: VARIABLE DEFINITION
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\var_declaration.gms
 844  free variables
 845      V_P(gen)           "Real power generation of generator",
 846      V_Q(gen)           "Reactive power generation of generator",
 847      P_S(i)      "real power generation of solar bus"
 848      Q_S(i)      "reactive power generation of solar bus"
 849      V_real(i)          "Real part of bus voltage",
 850      V_imag(i)          "Imaginary part of bus voltage",
 851   
 852      V_LineIr(i,j,c)    "Real current flowing from bus i towards bus j on l
      ine c",
 853      V_LineIq(i,j,c)    "Reactive current flowing from bus i towards bus j 
      on line c"
 854   
 855      V_Lossijc(i,j,c)      "Loss on line c connecting bus i and bus j"
 856      V_Lossi(i)         "Loss on lines connecting with bus i"
 857      V_switchedshuntB(i) "total susceptance from switched shunts connected 
      to bus i"
 858  ;
 859   
 860  integer variables
 861      V_shunt(bus,bus_s)    "number of shunt steps switched on"
 862  ;
 863   
 864  negative variables
 865      De_response_Dec_P(bus)         "the decrease in demand response"
 866  ;
 867   
 868  positive variables
 869      V_p_over(bus) "real power over"
 870      V_p_under(bus) "real power under"
 871      V_q_over(bus) "reactive power over"
 872      V_q_under(bus) "reactive power under"
 873      Solar_p_curtail(bus)    "the amount of real power cutailed from contro
      llable solar bus"
 874      De_response_Inc_P(bus)         "the increment in demand response"
 875      controlLoad(bus)       "controllableload"
 876      V_load_bus_volt_pen "total penalty from load bus voltage deviation"
 877      V_load_bus_volt_pen_dev(i) "penalized load bus voltage deviation - i.e
      . deviation less dead band radius"
 878      V_shuntSwitching(i,bus_s) "number of steps switched"
 879      V_totalShuntSwitching "total number of steps switched"
 880      V_shuntSwitchingPenalty(i,bus_s) "defines local shunt switching"
 881      V_shuntTotalSwitchingPenalty "penalty incurred by total shunt switchin
      g"
 882      V_shuntSwitchingTotalPenalty "total penalty incurrent by shunt switchi
      ng"
 883      V_devi(bus)          "absolute value of voltage deviation"
 884      V_pw_cost(gen)    "Generator piecewise cost"
 885      V_dem_Load(demanStep)        "demand load level"
 886  *    V_Pd_elastic(demandbid)     "Elastic incremental demand"
 887  *    V_demandbid_rev(demandbid)  "Revenue from elastic incremental demand"
 888      V_artup(bus)       "artificial variablers"
 889      V_artlow(bus)       "artificial variablers"
 890      V_previous_solution_penalty "total penalty on deviation to previous so
      lution"
 891  ;
 892  * these are not necessary as the vars are defined as positive variables
 893  *V_artup.l(bus)=0;
 894  *V_artlow.l(bus)=0;
 895   
 896  free variable
 897  V_objcost  "Total cost of objective function"
 898  V_objcosttest  "Total cost of objective function"
 899  V_P_system_deviation "system total adjustment from real generation schedul
      e"
 900  ;
 901  *display  V_real.l;
 902  *===== SECTION: EQUATION DECLARATION
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\eqn_declaration.gms
 904  equations
 905      c_load_bus_volt_pen_def "defines total load bus voltage deviation pena
      lty"
 906      c_load_bus_volt_pen_dev_def1(i) "first constraint defining penalized l
      oad bus voltage deviation"
 907      c_load_bus_volt_pen_dev_def2(i) "second constraint defining penalized 
      load bus voltage deviation"
 908   
 909      c_switchedshuntB_Def(i) "defines total susceptance from switched shunt
      s at bus i"
 910      c_shuntSwitchingDef1(i,bus_s) "defines number of steps switched - side
       1"
 911      c_shuntSwitchingDef2(i,bus_s) "defines number of steps switched - side
       2"
 912      c_totalShuntSwitchingDef "defines total number of steps switched"
 913      c_shuntSwitchingPenaltyDef1(i,bus_s) "defines local shunt switching pe
      nalty - segment 1"
 914      c_shuntSwitchingPenaltyDef2(i,bus_s) "defines local shunt switching pe
      nalty - segment 2"
 915      c_shuntTotalSwitchingPenalty "defines penalty incurred by total shunt 
      switching"
 916      c_shuntSwitchingTotalPenaltyDef " defines total penalty incurrent by s
      hunt switching"
 917   
 918      c_I_limit(i,j,c)     "Limit apparent current on a line"
 919      c_V_limit_lo(i)      "Limit voltage magnitude on a line"
 920      c_V_limit_up(i)      "Limit voltage magnitude on a line"
 921      c_LineIrij(i,j,c)    "Real current flowing from bus i into bus j along
       line c"
 922      c_LineIrji(i,j,c)    "Real  current flowing from bus j into bus i alon
      g line c"
 923      c_LineIqij(i,j,c)    "Reactive current  flowing from bus i into bus j 
      along line c"
 924      c_LineIqji(i,j,c)    "Reactive current flowing from bus j into bus i a
      long line c"
 925   
 926      c_Lossijc(i,j,c)     "Loss on line c connecting bus i and bus j"
 927      c_Lossi(i)           "Loss on lines connected with bus i"
 928   
 929      c_BalanceP_nosolar(bus)      "Balance of real power for bus without so
      lar"
 930      c_BalanceP_solar(bus)      "Balance of real power for bus with solar"
 931      c_BalanceP_control_solar(bus)        "balance of real power for contro
      llable solar"
 932      c_BalanceQ_nosolar(bus)      "Balance of reactive power for bus withou
      t solar"
 933      c_BalanceQ_solar(bus)      "Balance of reactive power for bus with sol
      ar"
 934      v_generator_addup(bus) "generator voltage constraints added selectivel
      y"
 935      v_generator_addlow(bus) "generator voltage constraints added"
 936      v_generator_addup_arti(bus)  "generator voltage up constraints added w
      ith artificial variables"
 937      v_generator_addlow_arti(bus)  "generator voltage low constraints added
       with artificial variables"
 938      v_generator_hardupl(bus) "bus voltage constraints upper bound"
 939      v_generator_harddownl(bus) "bus voltage constraints lower bound"
 940      p_generator_add(gen) "enforces generator participation factor in adjus
      tment from schedule"
 941      p_generator_addup(gen) "generator real power constraints added"
 942      p_generator_addlow(gen) "generator real power constraints added"
 943      c_obj  "Objective function"
 944      c_objtest  "Objective function"
 945      c_previous_solution_penalty_def "defines previous solution deviation p
      enalty"
 946      c_gen_q_arctan_v(gen) "smooth arctan formulation of pv/pq complementar
      ity constraint"
 947  ;
 948  *display V_P.l,V_P.up, V_P.lo;
 949  *===== SECTION: EQUATION DEFINITION
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\eqn_definition.gms
 951   
 952  * defines previous solution deviation penalty
 953  c_previous_solution_penalty_def..
 954      V_previous_solution_penalty
 955        =g=
 956      previous_solution_penalty_2 * (
 957          sum(gen, sqr(V_P_prior(gen) - V_P(gen)))
 958        + sum(gen, sqr(V_Q_prior(gen) - V_Q(gen)))
 959        + sum(i, sqr(P_S_prior(i) - P_S(i)))
 960        + sum(i, sqr(Q_S_prior(i) - Q_S(i)))
 961        + sum(i, sqr(V_real_prior(i) - V_real(i)))
 962        + sum(i, sqr(V_imag_prior(i) - V_imag(i)))
 963        + sum(i, sqr(Solar_p_curtail_prior(i) - Solar_p_curtail(i)))
 964        + sum(i, sqr(De_response_Inc_P_prior(i) - De_response_Inc_P(i)))
 965        + sum(i, sqr(De_response_Dec_P_prior(i) - De_response_Dec_P(i))));
 966   
 967  * defines total load bus voltage deviation penalty
 968  c_load_bus_volt_pen_def..
 969      V_load_bus_volt_pen
 970        =g=
 971      sum(i$(bus_penalize_volt_mag_target(i) and type(i) eq 1),
 972            load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev(i)
 973          + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev(i)))
 974  ;
 975   
 976   
 977   
 978  * defines total susceptance from switched shunts connected to a bus
 979  c_switchedshuntB_def(i)$sum(bus_s$numBswitched(i, bus_s), 1)..
 980      V_switchedshuntB(i)
 981        =e=
 982      sum(bus_s$numBswitched(i,bus_s), Bswitched(i,bus_s) * V_shunt(i,bus_s)
      );
 983   
 984  * defines number of steps switched - side 1
 985  c_shuntSwitchingDef1(i,bus_s)$numBswitched(i,bus_s)..
 986      V_shuntSwitching(i,bus_s)
 987        =g=
 988      V_shunt(i,bus_s) - numShuntStepsOn_init(i,bus_s)
 989  ;
 990   
 991  * defines number of steps switched - side 2
 992  c_shuntSwitchingDef2(i,bus_s)$numBswitched(i,bus_s)..
 993      V_shuntSwitching(i,bus_s)
 994        =g=
 995      numShuntStepsOn_init(i,bus_s) - V_shunt(i,bus_s)
 996  ;
 997   
 998  * defines total number of steps switched
 999  c_totalShuntSwitchingDef..
1000      V_totalShuntSwitching
1001        =g=
1002      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching(i,bus_s))
1003  ;
1004   
1005  * defines local shunt switching penalty - segment 1
1006  c_shuntSwitchingPenaltyDef1(i,bus_s)$numBswitched(i,bus_s)..
1007      V_shuntSwitchingPenalty(i,bus_s)
1008        =g=
1009      shuntSwitchingPenalty1 * V_shuntSwitching(i,bus_s)
1010  ;
1011   
1012  * defines local shunt switching penalty - segment 2
1013  c_shuntSwitchingPenaltyDef2(i,bus_s)$numBswitched(i,bus_s)..
1014      V_shuntSwitchingPenalty(i,bus_s)
1015        =g=
1016      shuntSwitchingPenalty2 * (V_shuntSwitching(i,bus_s) - shuntSwitchingTo
      lerance)
1017  ;
1018   
1019  * defines penalty incurred by total shunt switching
1020  c_shuntTotalSwitchingPenalty..
1021      V_shuntTotalSwitchingPenalty
1022        =g=
1023      shuntSwitchingBudgetPenalty * (V_totalShuntSwitching - shuntSwitchingB
      udget)
1024  ;
1025   
1026  * defines total penalty incurrent by shunt switching
1027  c_shuntSwitchingTotalPenaltyDef..
1028      V_shuntSwitchingTotalPenalty
1029        =g=
1030      V_shuntTotalSwitchingPenalty +
1031      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty(i,bus_s))
1032  ;
1033   
1034  * Limit apparent current on a line
1035  c_I_limit(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c))..
1036      sqr(V_LineIr(i,j,c)) + sqr(V_LineIq(i,j,c))
1037        =l=
1038      sqr(currentrate(i,j,c))
1039  ;
1040   
1041  *Limit voltage magnitude on a line
1042  c_V_limit_lo(i)..
1043      sqr(V_real(i)) + sqr(V_imag(i)) =g= sqr(minVm(i))
1044  ;
1045   
1046  *Limit voltage magnitude on a line
1047  c_V_limit_up(i)..
1048      sqr(V_real(i)) + sqr(V_imag(i)) =l= sqr(maxVm(i))
1049  ;
1050   
1051  *Real current flowing from bus i into bus j along line c
1052  c_LineIrij(i,j,c)$(branchstatus(i,j,c))..
1053           V_LineIr(i,j,c) =e=
1054              1/sqr(ratio(i,j,c))
1055                  * (g(i,j,c)*V_real(i) - (b(i,j,c) + bc(i,j,c)/2)*V_imag(i)
      )
1056              - 1/ratio(i,j,c)
1057                  * (  (g(i,j,c)*V_real(j) - b(i,j,c)*V_imag(j))*cos(angle(i
      ,j,c))
1058                     - (g(i,j,c)*V_imag(j) + b(i,j,c)*V_real(j))*sin(angle(i
      ,j,c))
1059                    )
1060  ;
1061   
1062  *Real current flowing from bus j into bus i along line c
1063  c_LineIrji(i,j,c)$(branchstatus(i,j,c))..
1064           V_LineIr(j,i,c) =e=
1065              (g(i,j,c)*V_real(j) - (b(i,j,c) + bc(i,j,c)/2)*V_imag(j))
1066              - 1/ratio(i,j,c)
1067                  * (  (g(i,j,c)*V_real(i) - b(i,j,c)*V_imag(i))*cos(-angle(
      i,j,c))
1068                     - (g(i,j,c)*V_imag(i) + b(i,j,c)*V_real(i))*sin(-angle(
      i,j,c))
1069                    )
1070  ;
1071   
1072  *Reactive current flowing from bus i into bus j along line c
1073  c_LineIqij(i,j,c)$(branchstatus(i,j,c))..
1074           V_LineIq(i,j,c) =e=
1075              1/sqr(ratio(i,j,c))
1076                  * (g(i,j,c)*V_imag(i) + (b(i,j,c) + bc(i,j,c)/2)*V_real(i)
      )
1077              - 1/ratio(i,j,c)
1078                  * (  (g(i,j,c)*V_imag(j) + b(i,j,c)*V_real(j))*cos(angle(i
      ,j,c))
1079                     + (g(i,j,c)*V_real(j) - b(i,j,c)*V_imag(j))*sin(angle(i
      ,j,c))
1080                    )
1081  ;
1082   
1083  *Reactive current flowing from bus j into bus i along line c
1084  c_LineIqji(i,j,c)$(branchstatus(i,j,c))..
1085           V_LineIq(j,i,c) =e=
1086              (g(i,j,c)*V_imag(j) + (b(i,j,c) + bc(i,j,c)/2)*V_real(j))
1087              - 1/ratio(i,j,c)
1088                  * (  (g(i,j,c)*V_imag(i) + b(i,j,c)*V_real(i))*cos(-angle(
      i,j,c))
1089                     + (g(i,j,c)*V_real(i) - b(i,j,c)*V_imag(i))*sin(-angle(
      i,j,c))
1090                    )
1091  ;
1092   
1093  *Balance of real power for bus without solar
1094  c_BalanceP_nosolar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarb
      us,i)) eq 0))..
1095          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1096          - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem_
      Load(demanStep))$(demLocation(i) eq 1)+ De_response_Inc_P(i)$(Pd_respon_lo
      cation(i)) + De_response_Dec_P(i)$(Pd_respon_location(i))   )
1097          + V_p_over(i)
1098          - V_p_under(i)
1099              =e=
1100            V_real(i) *
1101          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1102            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIr(i,j,c)) )
1103          + V_imag(i) *
1104           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1105            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIq(i,j,c)))
1106          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1107  ;
1108  *Balance of real power for bus with uncontrollable solar installed
1109  c_BalanceP_solar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus
      ,i)) ne 0) and contro_solar_location(i) eq 0)..
1110          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1111           - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem
      _Load(demanStep))$(demLocation(i) eq 1)- P_S(i)+De_response_Inc_P(i)$(Pd_r
      espon_location(i)) + De_response_Dec_P(i)$(Pd_respon_location(i)))
1112          + V_p_over(i)
1113          - V_p_under(i)
1114              =e=
1115            V_real(i) *
1116          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1117            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIr(i,j,c)) )
1118          + V_imag(i) *
1119           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1120            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIq(i,j,c)))
1121          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1122  ;
1123   
1124  c_BalanceP_control_solar(i)$(type(i) ne 4 and  contro_solar_location(i) ne
       0)..
1125          sum(gen$(atBus(gen,i) and status(gen)), V_P(gen))
1126           - (Pd(i)+ demLoad('1')$(demLocation(i) eq 1)-sum(demanStep ,V_dem
      _Load(demanStep))$(demLocation(i) eq 1)+ De_response_Inc_P(i)$(Pd_respon_l
      ocation(i))+ De_response_Dec_P(i)$(Pd_respon_location(i)) - (P_S(i)-Solar_
      p_curtail(i) ))
1127          + V_p_over(i)
1128          - V_p_under(i)
1129              =e=
1130            V_real(i) *
1131          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1132            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIr(i,j,c)) )
1133          + V_imag(i) *
1134           (sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1135            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIq(i,j,c)))
1136          + Gs(i) * (sqr(V_real(i)) + sqr(V_imag(i)))
1137  ;
1138  * Balance of reactive power for bus without solar
1139  c_BalanceQ_nosolar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarb
      us,i)) eq 0))..
1140          sum(gen$(atBus(gen,i) and status(gen)), V_Q(gen))
1141          - (Qd(i)+Pd_respon_q_up(i)*De_response_Inc_P(i)$(Pd_respon_locatio
      n(i)) + Pd_respon_q_down(i)*De_response_Dec_P(i)$(Pd_respon_location(i))  
      )
1142          + V_q_over(i)
1143          - V_q_under(i)
1144              =e=
1145          - V_real(i) *
1146          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1147            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIq(i,j,c)))
1148          + V_imag(i) *
1149          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1150            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIr(i,j,c)))
1151          - (Bs(i) + V_switchedshuntB(i)$sum(bus_s$numbswitched(i, bus_s), 1
      )) * (sqr(V_real(i)) + sqr(V_imag(i)));
1152  ;
1153  * Balance of reactive power for bus with solar
1154  c_BalanceQ_solar(i)$(type(i) ne 4 and (sum(solarbus,solarlocation(solarbus
      ,i)) ne 0))..
1155          sum(gen$(atBus(gen,i) and status(gen)), V_Q(gen))
1156          - ( Qd(i)+ Pd_respon_q_up(i)*De_response_Inc_P(i)$(Pd_respon_locat
      ion(i)) + Pd_respon_q_down(i)*De_response_Dec_P(i)$(Pd_respon_location(i))
       - Q_S(i) )
1157          + V_q_over(i)
1158          - V_q_under(i)
1159              =e=
1160          - V_real(i) *
1161          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIq(i,j,c))
1162            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIq(i,j,c)))
1163          + V_imag(i) *
1164          ( sum((j,c)$(branchstatus(i,j,c) ), V_LineIr(i,j,c))
1165            + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  )
      , V_LineIr(i,j,c)))
1166          - (Bs(i) + V_switchedshuntB(i)$sum(bus_s$numbswitched(i, bus_s), 1
      )) * (sqr(V_real(i)) + sqr(V_imag(i)));
1167  ;
1168   
1169  * Loss on line c connecting bus i and bus j
1170  c_Lossijc(i,j,c)$(branchstatus(i,j,c))..
1171            V_Lossijc(i,j,c) =e=
1172                 g(i,j,c)/( sqr(b(i,j,c))+ sqr(g(i,j,c)) ) * (  sqr(V_LineIr
      (i,j,c))+ sqr(V_LineIq(i,j,c)) )
1173  ;
1174   
1175  *Loss on lines connected with bus i
1176  c_Lossi(i)..
1177         V_Lossi(i) =e=
1178                sum((j,c)$(branchstatus(i,j,c)),V_Lossijc(i,j,c))
1179  ;
1180   
1181  * generator bus voltage set points enforced with violation variables
1182  v_generator_addup(i)$(sum(gen,status2(gen,i)) eq 1 and saturaup(i) eq 0)..
1183           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= voltageran_high*Vsch(i)
1184  ;
1185  v_generator_addlow(i)$(sum(gen,status2(gen,i)) eq 1 and saturalow(i) eq 0)
      ..
1186           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= voltageran_low*Vsch(i)
1187  ;
1188   
1189   
1190  v_generator_addup_arti(i)$(sum(gen,status2(gen,i)) eq 1 )..
1191           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= voltageran_high*Vsch(i)
       + V_artup(i)
1192  ;
1193  v_generator_addlow_arti(i)$(sum(gen,status2(gen,i)) eq 1 )..
1194           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= voltageran_low*Vsch(i) 
      - V_artlow(i)
1195  ;
1196   
1197  v_generator_hardupl(i)..
1198           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =l= 1.15
1199  ;
1200   
1201  v_generator_harddownl(i)..
1202           sqrt(sqr(V_real(i)) + sqr(V_imag(i))) =g= 0.88
1203  ;
1204   
1205  * enforces generator participation factor in adjustment from schedule
1206  p_generator_add(gen)$(status(gen) eq 1 and abs(gen_participation_factor(ge
      n)))..
1207           V_P(gen) =e= PgSch(gen) + gen_participation_factor(gen) * V_P_sys
      tem_deviation
1208  ;
1209   
1210  p_generator_addup(gen)$(status(gen) eq 1 and gentype(gen) eq 1)..
1211           V_P(gen) =l= 1.001*PgSch(gen)
1212  ;
1213  p_generator_addlow(gen)$(status(gen) eq 1 and gentype(gen) eq 1 and PgSch(
      gen) > 0 )..
1214           V_P(gen) =g= 0.999*PgSch(gen)
1215   
1216  ;
1217  *solar bus active power constraints uppr bound
1218  ;
1219  * WARNING TODO JH this equation has an error
1220  * causes infeasibility
1221  * e.g. 0 =g= 1e-6
1222  *
1223  * fixed it
1224  * Xinda can you check that this is correct?
1225  * am I understanding the data and model correctly?
1226  *solar bus  power constraints lower bound
1227  ;
1228   
1229   
1230  * Objective functions and pwl costs are listed in a separate file
1231  *$batinclude "%filepath%objective_voltage_stability_addterm.gms" obj deman
      dbids
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 2
Cost objective calculations for OPF models
C o m p i l a t i o n


1233  *this file is modified by Xinda Ke from Wisconsin university IV_acopf.gms
1234  *updated by Xinda ke in 7/26/2016
1235   
      * Set costmodel variable
      costmodel(gen)= 2;
       
      *-- Convexity Check
      * Not part of system of equations
      * LP/QCP/NLP can't handle nonconvex piecewise linear cost functions
      set thisgen(gen);
       
      parameters cur_slope, next_slope;
      loop(gen$(status(gen) and (costmodel(gen) eq 1) and (numcostpts(gen) > 2))
      ,
          next_slope = (costpts_y(gen,'2') - costpts_y(gen,'1'))
                       / (costpts_x(gen,'2') - costpts_x(gen,'1'));
          loop(costptset$(ord(costptset) < numcostpts(gen) - 1),
              cur_slope = next_slope;
              if((ord(costptset) < numcostpts(gen) - 2) and (costpts_x(gen,costp
      tset+2) eq costpts_x(gen,costptset+1)),
                  abort "Zero-length piecewise segment detected";
              );
              next_slope = (costpts_y(gen,costptset+2) - costpts_y(gen,costptset
      +1))
                           / (costpts_x(gen,costptset+2) - costpts_x(gen,costpts
      et+1))
       
              if(cur_slope - next_slope > 1e-8,
                  thisgen(gen1)=no; thisgen(gen)=yes;
                  display thisgen;
                  abort "Nonconvex piecewise linear costs not supported";
              );
          );
      );
1265   
1266  *===== SECTION: EQUATIONS PART 2
1267  * Defining piecewise linear generator cost curves
1268  * P is in per-unit, costpts_x is in MW, and costpts_y is in $/hr
1269   
1270   
1272   
1273   
1274   
1275   
1276  c_obj..
1277      V_objcost =e=
1278             V_shuntSwitchingTotalPenalty
1279  *penalty for contro_solar_pout
1280           +sum(demanStep ,demSlope(demanStep)*V_dem_Load(demanStep))
1281           + sum(i,P_S(i)*sqr(dis_gen_par1(i))+P_S(i)*dis_gen_par2(i)+dis_ge
      n_par3(i))
1282           + solar_curtail_penalty * sum(i,Solar_p_curtail(i))
1283           + demand_response_increase_penalty * sum(i,De_response_Inc_P(i))
1284           - demand_response_decrease_penalty * sum(i,De_response_Dec_P(i))
1285  *the demand response q is comment out because it change with respose to p
1286  *+5*sum(i,De_response_Inc_Q(i))-5*sum(i,De_response_Dec_Q(i))
1287  *the term of line losses. tobe checked, tobe verified
1288           + sum(i,V_Lossi(i))
1289           + V_previous_solution_penalty
1290  *the penalty for power balancing relaxation
1291  *         + %balance_constr_penalty% * (
1292  *               sum(i,V_p_over(i))
1293  *             + sum(i,V_p_under(i))
1294  *             + sum(i,V_q_over(i))
1295  *             + sum(i,V_q_under(i)))
1296  ;
1297   
1298  c_objtest..
1299      V_objcosttest =e=
1300             V_shuntSwitchingTotalPenalty
1301           +sum(demanStep ,demSlope(demanStep)*V_dem_Load(demanStep))
1302           + sum(i,P_S(i)*sqr(dis_gen_par1(i))+P_S(i)*dis_gen_par2(i)+dis_ge
      n_par3(i))
1303  *penalty for contro_solar_pout
1304           + solar_curtail_penalty * sum(i,Solar_p_curtail(i))
1305           + demand_response_increase_penalty * sum(i,De_response_Inc_P(i))
1306           - demand_response_decrease_penalty * sum(i,De_response_Dec_P(i))
1307  *the demand response q is comment out because it change with respose to p
1308  *+5*sum(i,De_response_Inc_Q(i))-5*sum(i,De_response_Dec_Q(i))
1309  *the term of line losses. tobe checked, tobe verified
1310           + sum(i,V_Lossi(i))
1311  * artificial variables is included in objective function with high penalty
       cost
1312           + generator_voltage_deviation_penalty
1313               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artup(bus))
1314           + generator_voltage_deviation_penalty
1315               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artlow(bus))
1316           + V_previous_solution_penalty
1317  *the penalty for power balancing relaxation
1318  *         + %balance_constr_penalty% * (
1319  *               sum(i,V_p_over(i))
1320  *             + sum(i,V_p_under(i))
1321  *             + sum(i,V_q_over(i))
1322  *             + sum(i,V_q_under(i)))
1323  ;
1324   
1325  c_gen_q_arctan_v(gen)$status(gen)..
1326      v_q(gen) =e=
1327      qmin(gen) +
1328      (qmax(gen) - qmin(gen))
1329      * (0.5 -
1330         (1 / pi) *
1331         arctan(
1332             sum(bus$atbus(gen,bus),
1333                 sqrt(sqr(v_real(bus)) + sqr(v_imag(bus))) - vsch(bus)) /
1334             pv_pq_smoothing_param));
1335  *display Pmax, Pmin, V_P.l;
1336  *===== SECTION: MODEL DEFINITION
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\mod_definition.gms
1338   
1339  model base_model /
1341  **    c_I_limit
1342  **    c_V_limit_lo
1343  **    c_V_limit_up
1344      c_LineIrij
1345      c_LineIrji
1346      c_LineIqij
1347      c_LineIqji
1348      c_BalanceP_nosolar
1349      c_BalanceP_solar
1350      c_BalanceQ_nosolar
1351      c_BalanceQ_solar
1352      c_Lossijc
1353      c_Lossi
1354      v_generator_hardupl
1355      v_generator_harddownl
1356      p_generator_add
1357      c_BalanceP_control_solar
1358      c_switchedshuntB_def
1359      c_shuntSwitchingDef1
1360      c_shuntSwitchingDef2
1361      c_totalShuntSwitchingDef
1362      c_shuntSwitchingPenaltyDef1
1363      c_shuntSwitchingPenaltyDef2
1364      c_shuntTotalSwitchingPenalty
1365      c_shuntSwitchingTotalPenaltyDef
1366      c_previous_solution_penalty_def
1367      /;
1368  model feas /
1369      base_model
1370      v_generator_addup
1371      v_generator_addlow
1372      /;
1373  model test /
1374      base_model
1375      v_generator_addup_arti
1376      v_generator_addlow_arti
1377      /;
1378  model acopf /
1379      feas
1380      c_obj
1381      /;
1382  model acopf_check /
1383      test
1384      c_objtest
1385      /;
1386  model acopf_arctan /
1387      base_model
1388      c_gen_q_arctan_v
1389      c_obj /;
1390  display Pmax, Pmin, Pd, Va, Vm, Qg;
1391  *===== SECTION: VARIABLE BOUNDS
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\var_bounds.gms
1393   
1394  * shunt switching
1395  V_shunt.lo(bus,bus_s)$numBswitched(bus,bus_s) = 0;
1396  V_shunt.up(bus,bus_s)$numBswitched(bus,bus_s) = numBswitched(bus,bus_s);
1398  V_shunt.fx(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_init(bus,b
      us_s);
1400   
1401  * Generator active power generation limits
1402  V_P.lo(gen)$(status(gen) and abs(gen_participation_factor(gen))) = Pmin(ge
      n);
1403  V_P.up(gen)$(status(gen) and abs(gen_participation_factor(gen))) = Pmax(ge
      n);
1404  V_P.fx(gen)$(status(gen) and not abs(gen_participation_factor(gen))) = PgS
      ch(gen);
1405  V_P.fx(gen)$(not status(gen)) = 0;
1406   
1407   
1409  Solar_p_curtail.fx(bus)=0;
1410  contro_solar_location(bus) = 0;
1412   
1413   
1414   
1415  V_dem_Load.up(demanStep)$(ord(demanStep) > 1)=  demLoad(demanStep-1)-demLo
      ad(demanStep);
1416  V_dem_Load.fx('1')=0;
1417  Q_s.lo('13')=-300;
1418  Q_s.lo('57')=-300;
1419  Q_s.up('13')=300;
1420  Q_s.up('57')=300;
1421   
1422   
1423  P_S.lo('13')=0.03;
1424  P_S.lo('57')=0.02;
1425  P_S.up('13')=0.3;
1426  P_S.up('57')=0.25;
1427   
1428   
1429   
1430   
1431  De_response_Inc_P.up(bus)$(Pd_respon_location(bus))=Pd_respon_p_up(bus);
1432  De_response_Inc_P.lo(bus)$(Pd_respon_location(bus))=0;
1433  De_response_Inc_P.fx(bus)$(not Pd_respon_location(bus))=0;
1434   
1435  De_response_Dec_P.lo(bus)$(Pd_respon_location(bus))=Pd_respon_p_down(bus);
1436  De_response_Dec_P.up(bus)$(Pd_respon_location(bus))=0;
1437  De_response_Dec_P.fx(bus)$(not Pd_respon_location(bus))=0;
1438   
1439   
1440   
1441  * disable demand response
1443  Pd_respon_location(bus) = 0;
1444  De_response_Dec_P.fx(bus) = 0;
1445  De_response_Inc_P.fx(bus) = 0;
1447   
1448  * Generator reactive power generation limits
1449  * Does not impose Qmax, Qmin limits when the D-curve contraint is applied
1450  *$ifthen %qlim% == 0
1451  V_Q.lo(gen)$status(gen) = Qmin(gen);
1452  V_Q.up(gen)$status(gen) = Qmax(gen);
1453  *$endif
1454  V_Q.fx(gen)$(not status(gen)) = 0;
1455  *display V_Q.l, V_Q.up, V_Q.lo;
1456  * Bus voltage magnitude limits
1457  * Note these bounds are numerically helpful
1458  * even if they are not necessary for the correctness
1459  * of the formulation
1460  V_real.lo(bus) = -MaxVm(bus); V_real.up(bus) = MaxVm(bus);
1461  V_imag.lo(bus) = -MaxVm(bus); V_imag.up(bus) = MaxVm(bus);
1462  V_imag.fx(bus)$(type(bus) eq 3) = 0;
1463   
1464  * disable solar q
1466   
1467   
1468  * soft power balance constraints
1469  balance_real_bound=0.01;
1470  balance_react_bound=0.01;
1472  V_p_over.up(i) = balance_real_bound;
1473  V_p_under.up(i) = balance_real_bound;
1474  V_q_over.up(i) = balance_react_bound;
1475  V_q_under.up(i) = balance_react_bound;
1476   
1478   
1479  *===== SECTION: VARIABLE START VALUES
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\start_point.gms
1481   
1482  * Set initial conditions
BATINCLUDE C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\ic_iv\preset.gms
      sets values for some variables that might not otherwise be set
1487   
1488  V_P.l(gen) = 0;
1489  V_Q.l(gen) = 0;
1490  V_LineIr.l(i,j,c) = 0;
1491  V_LineIq.l(i,j,c) = 0;
1492  V_P_system_deviation.l = 0;
1493  V_switchedshuntB.l(i)$sum(bus_s$numBswitched(i,bus_s), 1) = 0;
1494  V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = 0;
1495  *P_S.l(i)$(isSolar(i) and contro_solar_location(i) ne 1) = solar_r(i);
1496  *P_S.l(i)$(isSolar(i) and contro_solar_location(i) eq 1) = contro_solar_po
      ut(i);
1497  Q_S.l(i)$isSolar(i) = 0;
1498  solar_p_curtail.l(bus)$contro_solar_location(bus) = 0;
1499  de_response_dec_p.l(bus)$pd_respon_location(bus) = 0;
1500  de_response_inc_p.l(bus)$pd_respon_location(bus) = 0;
1501   
BATINCLUDE C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\ic_iv\given.gms
      Use given initial conditions for Polar ACOPF.
1506   
1508   
1509  V_P.l(gen) = Pg(gen)$status(gen);
1510  V_Q.l(gen) = Qg(gen)$status(gen);
1511  V_real.l(bus) = Vm(bus)*cos(Va(bus));
1512  V_imag.l(bus) = Vm(bus)*sin(Va(bus));
1513  V_switchedshuntB.l(i)$sum(bus_s$numBswitched(i,bus_s), 1) = switchedshuntB
      _init(i);
1514  V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s)
1515    = switchedshuntB_init(bus) * numBswitched(bus,bus_s)
1516    / sum(bus_s_1, numBswitched(bus,bus_s_1) * Bswitched(bus,bus_s_1));
1517   
1518  *Parameter Bs_solved(bus);
1519  *Bs_solved(bus) = businfo(bus,'switchedBsSolved','%timeperiod%')/baseMVA;
1520  *loop((bus,bus_s)$((not sameas(bus_s,'given') and (Bswitched(bus,bus_s) ne
       0)) and (abs(Bs_solved(bus)) > 1e-6)),
1521  *    V_shunt.l(bus,bus_s) = min(Bs_solved(bus)/Bswitched(bus,bus_s), V_shu
      nt.up(bus,bus_s));
1522  *    Bs_solved(bus) = Bs_solved(bus) - V_shunt.l(bus,bus_s)*Bswitched(bus,
      bus_s);
1523  *);
1524   
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\ic_iv\calc_derived_vars.gms
      independent variables V_real and V_imag are set prior to this code
      other independent variables are set here
      then dependent variables are computed here - including objective
      finally we could check constraint violations - e.g. balance constraints
1532   
1533  *--------------------
1534  * derived variables -
1535  *--------------------
1536   
1537           V_LineIr.l(i,j,c)$(branchstatus(i,j,c)) =
1538              1/sqr(ratio(i,j,c))
1539                  * (g(i,j,c)*V_real.l(i) - (b(i,j,c) + bc(i,j,c)/2)*V_imag.
      l(i))
1540              - 1/ratio(i,j,c)
1541                  * (  (g(i,j,c)*V_real.l(j) - b(i,j,c)*V_imag.l(j))*cos(ang
      le(i,j,c))
1542                     - (g(i,j,c)*V_imag.l(j) + b(i,j,c)*V_real.l(j))*sin(ang
      le(i,j,c)));
1543   
1544           V_LineIr.l(j,i,c)$(branchstatus(i,j,c)) =
1545              (g(i,j,c)*V_real.l(j) - (b(i,j,c) + bc(i,j,c)/2)*V_imag.l(j))
1546              - 1/ratio(i,j,c)
1547                  * (  (g(i,j,c)*V_real.l(i) - b(i,j,c)*V_imag.l(i))*cos(-an
      gle(i,j,c))
1548                     - (g(i,j,c)*V_imag.l(i) + b(i,j,c)*V_real.l(i))*sin(-an
      gle(i,j,c)));
1549   
1550           V_LineIq.l(i,j,c)$(branchstatus(i,j,c)) =
1551              1/sqr(ratio(i,j,c))
1552                  * (g(i,j,c)*V_imag.l(i) + (b(i,j,c) + bc(i,j,c)/2)*V_real.
      l(i))
1553              - 1/ratio(i,j,c)
1554                  * (  (g(i,j,c)*V_imag.l(j) + b(i,j,c)*V_real.l(j))*cos(ang
      le(i,j,c))
1555                     + (g(i,j,c)*V_real.l(j) - b(i,j,c)*V_imag.l(j))*sin(ang
      le(i,j,c)));
1556   
1557           V_LineIq.l(j,i,c)$(branchstatus(i,j,c)) =
1558              (g(i,j,c)*V_imag.l(j) + (b(i,j,c) + bc(i,j,c)/2)*V_real.l(j))
1559              - 1/ratio(i,j,c)
1560                  * (  (g(i,j,c)*V_imag.l(i) + b(i,j,c)*V_real.l(i))*cos(-an
      gle(i,j,c))
1561                     + (g(i,j,c)*V_real.l(i) - b(i,j,c)*V_imag.l(i))*sin(-an
      gle(i,j,c)));
1562   
1563      V_devi.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1564      abs(sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))) - Vsch(i));
1565   
1566      V_artup.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1567      max(0,
1568      sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))) - voltageran_high*Vsch(i));
1569   
1570      V_artlow.l(i)$(sum(gen,status2(gen,i)) eq 1 ) =
1571      max(0,
1572      voltageran_low*Vsch(i) - sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i))));
1573   
1574      V_Lossijc.l(i,j,c)$(branchstatus(i,j,c)) =
1575      g(i,j,c) / (sqr(b(i,j,c)) + sqr(g(i,j,c))) *
1576      (sqr(V_LineIr.l(i,j,c)) + sqr(V_LineIq.l(i,j,c)));
1577   
1578      V_Lossi.l(i) =
1579      sum((j,c)$(branchstatus(i,j,c)),V_Lossijc.l(i,j,c));
1580   
1581      V_load_bus_volt_pen_dev.l(i)$bus_penalize_volt_mag_target(i) =
1582      max(
1583        sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i)))
1584      - load_bus_voltage_goal
1585      - load_bus_volt_dead_band,
1586        load_bus_voltage_goal
1587      - sqrt(sqr(V_real.l(i)) + sqr(V_imag.l(i)))
1588      - load_bus_volt_dead_band);
1589   
1590      V_load_bus_volt_pen.l =
1591      max(0,
1592      sum(i$bus_penalize_volt_mag_target(i),
1593            load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev.l(i)
1594          + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev.l(i))));
1595   
1596      V_shuntSwitching.l(i,bus_s)$numBswitched(i,bus_s) =
1597      abs(V_shunt.l(i,bus_s) - numShuntStepsOn_init(i,bus_s));
1598   
1599      V_shuntSwitchingPenalty.l(i,bus_s)$numBswitched(i,bus_s) =
1600      max(0,
1601      shuntSwitchingPenalty1 * V_shuntSwitching.l(i,bus_s),
1602      shuntSwitchingPenalty2 * (V_shuntSwitching.l(i,bus_s) - shuntSwitching
      Tolerance));
1603   
1604      V_totalShuntSwitching.l =
1605      max(0,
1606      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching.l(i,bus_s)));
1607   
1608      V_shuntTotalSwitchingPenalty.l =
1609      max(0,
1610      shuntSwitchingBudgetPenalty * (V_totalShuntSwitching.l - shuntSwitchin
      gBudget));
1611   
1612      V_shuntSwitchingTotalPenalty.l =
1613      max(0,
1614      V_shuntTotalSwitchingPenalty.l +
1615      sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty.l(i,bus_s)
      ));
1616   
1617      V_previous_solution_penalty.l = 0;
1618   
1619      V_objcost.l =
1620             V_shuntSwitchingTotalPenalty.l
1621           + V_load_bus_volt_pen.l
1622           + solar_curtail_penalty * sum(i,Solar_p_curtail.l(i))
1623           + demand_response_increase_penalty * sum(i,De_response_Inc_P.l(i)
      )
1624           - demand_response_decrease_penalty * sum(i,De_response_Dec_P.l(i)
      )
1625           + sum(i,V_Lossi.l(i))
1626           + V_previous_solution_penalty.l;
1627   
1628      V_objcosttest.l =
1629             V_objcost.l
1630           + generator_voltage_deviation_penalty
1631               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artup.l(bus))
1632           + generator_voltage_deviation_penalty
1633               * sum(bus$(sum(gen,status2(gen,bus)) eq 1),  V_artlow.l(bus))
      ;
1634   
1636   
1637  * set prior values of distance-penalized variables
1638  * to their current levels.
1639  V_P_prior(gen) = V_P.l(gen);
1640  V_Q_prior(gen) = V_Q.l(gen);
1641  P_S_prior(i) = P_S.l(i);
1642  Q_S_prior(i) = Q_S.l(i);
1643  V_real_prior(i) = V_real.l(i);
1644  V_imag_prior(i) = V_imag.l(i);
1645  Solar_p_curtail_prior(i) = Solar_p_curtail.l(i);
1646  De_response_Inc_P_prior(i) = De_response_Inc_P.l(i);
1647  De_response_Dec_P_prior(i) = De_response_Dec_P.l(i);
1648   
1649  display V_real.l, V_imag.l, Vm;
1650   
1651   
1652  *===== SECTION: COMPUTE START METRICS
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\compute_start_metrics.gms
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 3
compute_start_metrics
C o m p i l a t i o n


      evaluate individual componenets of feasibility and optimality for the star
      t point
1658   
1659  * set these from variable levels
1660      V_P_start(gen) = V_P.l(gen);
1661      V_Q_start(gen) = V_Q.l(gen);
1662      P_S_start(i) = P_S.l(i);
1663      Q_S_start(i) = Q_S.l(i);
1664      V_real_start(i) = V_real.l(i);
1665      V_imag_start(i) = V_imag.l(i);
1666      Solar_p_curtail_start(i) = solar_p_curtail.l(i);
1667      De_response_Dec_P_start(i) = de_response_dec_p.l(i);
1668      De_response_Inc_P_start(i) = de_response_inc_p.l(i);
1669      V_switchedshuntB_start(i)$sum(bus_s$numBswitched(i,bus_s), 1) = V_swit
      chedshuntB.l(i);
1670      V_shunt_start(bus,bus_s) = v_shunt.l(bus,bus_s);
1671      V_P_system_deviation_start = v_p_system_deviation.l;
1672      V_LineIr_start(i,j,c)$(branchstatus(i,j,c)) = V_LineIr.l(i,j,c);
1673      V_LineIr_start(j,i,c)$(branchstatus(i,j,c)) = V_LineIr.l(j,i,c);
1674      V_LineIq_start(i,j,c)$(branchstatus(i,j,c)) = V_LineIq.l(i,j,c);
1675      V_LineIq_start(j,i,c)$(branchstatus(i,j,c)) = V_LineIq.l(j,i,c);
1676   
1677  * compute losses
1678      V_Lossijc_start(i,j,c)$(branchstatus(i,j,c)) =
1679                 g(i,j,c)/( sqr(b(i,j,c))+ sqr(g(i,j,c)) ) * (  sqr(V_LineIr
      _start(i,j,c))+ sqr(V_LineIq_start(i,j,c)) );
1680      V_Lossi_start(i) = sum((j,c)$(branchstatus(i,j,c)),V_Lossijc_start(i,j
      ,c));
1681   
1682  * compute penalties and objectives
1683      V_load_bus_volt_pen_dev_start(i)$bus_penalize_volt_mag_target(i) = abs
      (
1684            sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i)))
1685          - volt_mag_target(i)
1686          - load_bus_volt_dead_band);
1687      V_load_bus_volt_pen_start =
1688          sum(i$bus_penalize_volt_mag_target(i),
1689                load_bus_volt_pen_coeff_1 * V_load_bus_volt_pen_dev_start(i)
1690              + load_bus_volt_pen_coeff_2 * sqr(V_load_bus_volt_pen_dev_star
      t(i)));
1691      V_shuntSwitching_start(i,bus_s)$numBswitched(i,bus_s) =
1692          abs(V_shunt_start(i,bus_s) - numShuntStepsOn_init(i,bus_s));
1693      V_totalShuntSwitching_start =
1694          sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitching_start(i,bus_s
      ));
1695      V_shuntSwitchingPenalty_start(i,bus_s)$numBswitched(i,bus_s) = max(0,
1696          shuntSwitchingPenalty1 * V_shuntSwitching_start(i,bus_s),
1697          shuntSwitchingPenalty2 * (V_shuntSwitching_start(i,bus_s) - shuntS
      witchingTolerance));
1698      V_shuntTotalSwitchingPenalty_start =
1699          shuntSwitchingBudgetPenalty * max(0, V_totalShuntSwitching_start -
       shuntSwitchingBudget);
1700      V_shuntSwitchingTotalPenalty_start =
1701            V_shuntTotalSwitchingPenalty_start
1702          + sum((i,bus_s)$numBswitched(i,bus_s),V_shuntSwitchingPenalty_star
      t(i,bus_s));
1703      V_previous_solution_penalty_start =
1704        previous_solution_penalty_2 * (
1705            sum(gen, sqr(V_P_prior(gen) - V_P_start(gen)))
1706          + sum(gen, sqr(V_Q_prior(gen) - V_Q_start(gen)))
1707          + sum(i, sqr(P_S_prior(i) - P_S_start(i)))
1708          + sum(i, sqr(Q_S_prior(i) - Q_S_start(i)))
1709          + sum(i, sqr(V_real_prior(i) - V_real_start(i)))
1710          + sum(i, sqr(V_imag_prior(i) - V_imag_start(i)))
1711          + sum(i, sqr(Solar_p_curtail_prior(i) - Solar_p_curtail_start(i)))
1712          + sum(i, sqr(De_response_Inc_P_prior(i) - De_response_Inc_P_start(
      i)))
1713          + sum(i, sqr(De_response_Dec_P_prior(i) - De_response_Dec_P_start(
      i))));
1714      V_objcost_start =
1715             V_shuntSwitchingTotalPenalty_start
1716           + V_load_bus_volt_pen_start
1717           + solar_curtail_penalty * sum(i,Solar_p_curtail_start(i))
1718           + demand_response_increase_penalty * sum(i,De_response_Inc_P_star
      t(i))
1719           - demand_response_decrease_penalty * sum(i,De_response_Dec_P_star
      t(i))
1720           + sum(i,V_Lossi_start(i))
1721           + V_previous_solution_penalty_start;
1722   
1723  * compute variable bound violations
1724      gen_p_lo_viol_start(gen)$status(gen) =
1725          max(0, pmin(gen) - v_p_start(gen));
1726      gen_p_up_viol_start(gen)$status(gen) =
1727          max(0, v_p_start(gen) - pmax(gen));
1728      gen_q_lo_viol_start(gen)$status(gen) =
1729          max(0, qmin(gen) - v_q_start(gen));
1730      gen_q_up_viol_start(gen)$status(gen) =
1731          max(0, v_q_start(gen) - qmax(gen));
1732      De_response_Inc_P_up_viol_start(bus)$(Pd_respon_location(bus)) =
1733          max(0, de_response_inc_p_start(bus) - Pd_respon_p_up(bus));
1734      De_response_dec_P_lo_viol_start(bus)$(Pd_respon_location(bus)) =
1735          max(0, Pd_respon_p_down(bus) - de_response_dec_p_start(bus));
1736      v_shunt_up_viol_start(bus,bus_s)$numbswitched(bus,bus_s) =
1737          max(0, v_shunt_start(bus,bus_s) - numbswitched(bus,bus_s));
1738   
1739  * compute constraint violations
1740      balance_p_viol_start(i)$(type(i) ne 4) =
1741            sum(gen$(atBus(gen,i) and status(gen)), V_P_start(gen))
1742          - Pd(i)
1743          - De_response_Inc_P_start(i)$Pd_respon_location(i)
1744          - De_response_Dec_P_start(i)$Pd_respon_location(i)
1745          + P_S_start(i)$sum(solarbus,solarlocation(solarbus,i))
1746          - Solar_p_curtail_start(i)$contro_solar_location(i)
1747          - V_real_start(i) *
1748            (  sum((j,c)$(branchstatus(i,j,c)), V_LineIr_start(i,j,c))
1749             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  
      ), V_LineIr_start(i,j,c)) )
1750          - V_imag_start(i) *
1751            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIq_start(i,j,c))
1752             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  
      ), V_LineIq_start(i,j,c)))
1753          - Gs(i) * (sqr(V_real_start(i)) + sqr(V_imag_start(i)));
1754      balance_q_viol_start(i)$(type(i) ne 4) =
1755            sum(gen$(atBus(gen,i) and status(gen)), V_Q_start(gen))
1756          - Qd(i)
1757          - Pd_respon_q_up(i)*De_response_Inc_P_start(i)$Pd_respon_location(
      i)
1758          - Pd_respon_q_down(i)*De_response_Dec_P_start(i)$Pd_respon_locatio
      n(i)
1759          + Q_S_start(i)$sum(solarbus,solarlocation(solarbus,i))
1760          + V_real_start(i) *
1761            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIq_start(i,j,c))
1762             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  
      ), V_LineIq_start(i,j,c)))
1763          - V_imag_start(i) *
1764            (  sum((j,c)$(branchstatus(i,j,c) ), V_LineIr_start(i,j,c))
1765             + sum((j,c)$(branchstatus(j,i,c) and not(branchstatus(i,j,c))  
      ), V_LineIr_start(i,j,c)))
1766          + (Bs(i) + V_switchedShuntB_start(i)$sum(bus_s$numBswitched(i,bus_
      s), 1)) * (sqr(V_real_start(i)) + sqr(V_imag_start(i)));
1767      p_generator_add_viol_start(gen)$(status(gen) eq 1) =
1768            V_P_start(gen)
1769          - PgSch(gen)
1770          - gen_participation_factor(gen) * V_P_system_deviation_start;
1771      c_I_limit_viol_start(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c
      )) =
1772  *        max(0,  sqrt(sqr(V_LineIr_start(i,j,c)) + sqr(V_LineIq_start(i,j,
      c)))
1773  *              - currentrate(i,j,c));
1774  0;
1775  * NOTE: currentrate apparently is not defined and we are not enforcing thi
      s constraint
1776      c_V_limit_lo_viol_start(i) =
1777          max(0, minVm(i) - sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))
      ));
1778      c_V_limit_up_viol_start(i) =
1779          max(0, sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))) - maxVm(i
      ));
1780      v_generator_hardupl_viol_start(i) =
1781          max(0, sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))) - 1.15);
1782      v_generator_harddownl_viol_start(i) =
1783          max(0, 0.88 - sqrt(sqr(V_real_start(i)) + sqr(V_imag_start(i))));
1784      v_under_q_up_slack_viol_start(gen)$status(gen) =
1785          sum(i$atbus(gen,i),
1786              min(max(0, vsch(i) - sqrt(sqr(v_real_start(i)) + sqr(v_imag_st
      art(i)))),
1787                  max(0, qmax(gen) - v_q_start(gen))));
1788      v_over_q_lo_slack_viol_start(gen)$status(gen) =
1789          sum(i$atbus(gen,i),
1790              min(max(0, sqrt(sqr(v_real_start(i)) + sqr(v_imag_start(i))) -
       vsch(i)),
1791                  max(0, v_q_start(gen) - qmin(gen))));
1792   
1793  * compute summaries
1794      p_load_start = sum(i, pd(i));
1795      p_gen_start = sum(gen$status(gen), V_P_start(gen));
1796      p_shunt_start = sum(i, Gs(i) * (sqr(V_real_start(i)) + sqr(V_imag_star
      t(i))));
1797      p_solar_start
1798        = sum(i$sum(solarbus,solarlocation(solarbus,i)), P_S_start(i))
1799        - sum(i$contro_solar_location(i), Solar_p_curtail_start(i));
1800      p_dr_start
1801        = sum(i$Pd_respon_location(i), De_response_Inc_P_start(i))
1802        + sum(i$Pd_respon_location(i), De_response_Dec_P_start(i));
1803      p_imbalance_start
1804        = p_gen_start
1805        - p_load_start
1806        - p_shunt_start
1807        + p_solar_start
1808        - p_dr_start;
1809      sum_loss_start = sum(i,v_lossi_start(i));
1810  *    v_load_bus_volt_pen_start
1811  *    v_totalshuntswitching_start
1812  *    v_shuntswitchingtotalpenalty_start
1813  *    v_previous_solution_penalty_start
1814  *    v_objcost_start
1815      max_gen_p_lo_viol_start = smax(gen$status(gen), gen_p_lo_viol_start(ge
      n));
1816      max_gen_p_up_viol_start = smax(gen$status(gen), gen_p_up_viol_start(ge
      n));
1817      max_gen_q_lo_viol_start = smax(gen$status(gen), gen_q_lo_viol_start(ge
      n));
1818      max_gen_q_up_viol_start = smax(gen$status(gen), gen_q_up_viol_start(ge
      n));
1819      max_De_response_Inc_P_up_viol_start = smax(bus$Pd_respon_location(bus)
      , de_response_inc_p_up_viol_start(bus));
1820      max_De_response_dec_P_lo_viol_start = smax(bus$Pd_respon_location(bus)
      , de_response_dec_p_lo_viol_start(bus));
1821      max_v_shunt_up_viol_start = smax((bus,bus_s)$numbswitched(bus,bus_s), 
      v_shunt_up_viol_start(bus,bus_s));
1822      max_balance_p_viol_start = smax(i$(type(i) ne 4), abs(balance_p_viol_s
      tart(i)));
1823      max_balance_q_viol_start = smax(i$(type(i) ne 4), abs(balance_q_viol_s
      tart(i)));
1824      max_p_generator_add_viol_start = smax(gen$(status(gen) eq 1), abs(p_ge
      nerator_add_viol_start(gen)));
1825      max_c_I_limit_viol_start = smax((i,j,c)$(branchstatus(i,j,c) or branch
      status(j,i,c)), c_i_limit_viol_start(i,j,c));
1826      max_c_V_limit_lo_viol_start = smax(i, c_v_limit_lo_viol_start(i));
1827      max_c_V_limit_up_viol_start = smax(i, c_v_limit_up_viol_start(i));
1828      max_v_generator_hardupl_viol_start = smax(i, v_generator_hardupl_viol_
      start(i));
1829      max_v_generator_harddownl_viol_start = smax(i, v_generator_harddownl_v
      iol_start(i));
1830      max_v_under_q_up_slack_viol_start = smax(gen$status(gen), v_under_q_up
      _slack_viol_start(gen));
1831      max_v_over_q_lo_slack_viol_start = smax(gen$status(gen), v_over_q_lo_s
      lack_viol_start(gen));
1832   
1833  *===== SECTION: DISPLAY START METRICS
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\display_start.gms
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 4
display_start
C o m p i l a t i o n


      Display variable values, constraint violations, bound violations, penaltie
      s, objectives, and summaries at the start point
1839   
1840  display
1841      "display start"
1842  * data
1843      Pd
1844      Qd
1845  * control variables
1846      V_P_start
1847      V_Q_start
1848      P_S_start
1849      Q_S_start
1850      V_real_start
1851      V_imag_start
1852      Solar_p_curtail_start
1853      De_response_Dec_P_start
1854      De_response_Inc_P_start
1855      V_switchedshuntB_start
1856      V_shunt_start
1857      V_P_system_deviation_start
1858  * current
1859      V_LineIr_start
1860      V_LineIq_start
1861  * losses
1862      V_Lossijc_start
1863      V_Lossi_start
1864  * penalties and objectives
1865      V_load_bus_volt_pen_dev_start
1866      V_load_bus_volt_pen_start
1867      V_shuntSwitching_start
1868      V_totalShuntSwitching_start
1869      V_shuntSwitchingPenalty_start
1870      V_shuntTotalSwitchingPenalty_start
1871      V_shuntSwitchingTotalPenalty_start
1872      V_previous_solution_penalty_start
1873      V_objcost_start
1874  * variable bound violations
1875      gen_p_lo_viol_start
1876      gen_p_up_viol_start
1877      gen_q_lo_viol_start
1878      gen_q_up_viol_start
1879      De_response_Inc_P_up_viol_start
1880      De_response_dec_P_lo_viol_start
1881      v_shunt_up_viol_start
1882  * constraint violations
1883      balance_p_viol_start
1884      balance_q_viol_start
1885      p_generator_add_viol_start
1886      c_I_limit_viol_start
1887      c_V_limit_lo_viol_start
1888      c_V_limit_up_viol_start
1889      v_generator_hardupl_viol_start
1890      v_generator_harddownl_viol_start
1891      v_under_q_up_slack_viol_start
1892      v_over_q_lo_slack_viol_start
1893  * summaries
1894      "display start summary"
1895      p_load_start
1896      p_gen_start
1897      p_shunt_start
1898      sum_loss_start
1899      v_load_bus_volt_pen_start
1900      v_totalshuntswitching_start
1901      v_shuntswitchingtotalpenalty_start
1902      v_previous_solution_penalty_start
1903      v_objcost_start
1904      max_gen_p_lo_viol_start
1905      max_gen_p_up_viol_start
1906      max_gen_q_lo_viol_start
1907      max_gen_q_up_viol_start
1908      max_De_response_Inc_P_up_viol_start
1909      max_De_response_dec_P_lo_viol_start
1910      max_v_shunt_up_viol_start
1911      max_balance_p_viol_start
1912      max_balance_q_viol_start
1913      max_p_generator_add_viol_start
1914      max_c_I_limit_viol_start
1915      max_c_V_limit_lo_viol_start
1916      max_c_V_limit_up_viol_start
1917      max_v_generator_hardupl_viol_start
1918      max_v_generator_harddownl_viol_start
1919      max_v_under_q_up_slack_viol_start
1920      max_v_over_q_lo_slack_viol_start;
1921   
1923   
1924  put report_file;
1925  report_file.ap = 1;
1926  put
1927      'start point summary' /
1928      'p_load'
1929      p_load_start /
1930      'p_gen'
1931      p_gen_start /
1932      'p_shunt'
1933      p_shunt_start /
1934      'p_solar'
1935      p_solar_start /
1936      'p_dr'
1937      p_dr_start /
1938      'p_imbalance'
1939      p_imbalance_start /
1940      'sum_loss'
1941      sum_loss_start /
1942      'v_load_bus_volt_pen'
1943      v_load_bus_volt_pen_start /
1944      'v_totalshuntswitching'
1945      v_totalshuntswitching_start /
1946      'v_shuntswitchingtotalpenalty'
1947      v_shuntswitchingtotalpenalty_start /
1948      'v_previous_solution_penalty'
1949      v_previous_solution_penalty_start /
1950      'v_objcost'
1951      v_objcost_start /
1952      'max_gen_p_lo_viol'
1953      max_gen_p_lo_viol_start /
1954      'max_gen_p_up_viol'
1955      max_gen_p_up_viol_start /
1956      'max_gen_q_lo_viol'
1957      max_gen_q_lo_viol_start /
1958      'max_gen_q_up_viol'
1959      max_gen_q_up_viol_start /
1960      'max_De_response_Inc_P_up_viol'
1961      max_De_response_Inc_P_up_viol_start /
1962      'max_De_response_dec_P_lo_viol'
1963      max_De_response_dec_P_lo_viol_start /
1964      'max_v_shunt_up_viol'
1965      max_v_shunt_up_viol_start /
1966      'max_balance_p_viol'
1967      max_balance_p_viol_start /
1968      'max_balance_q_viol'
1969      max_balance_q_viol_start /
1970      'max_p_generator_add_viol'
1971      max_p_generator_add_viol_start /
1972      'max_c_I_limit_viol'
1973      max_c_I_limit_viol_start /
1974      'max_c_V_limit_lo_viol'
1975      max_c_V_limit_lo_viol_start /
1976      'max_c_V_limit_up_viol'
1977      max_c_V_limit_up_viol_start /
1978      'max_v_generator_hardupl_viol'
1979      max_v_generator_hardupl_viol_start /
1980      'max_v_generator_harddownl_viol'
1981      max_v_generator_harddownl_viol_start /
1982      'max_v_under_q_up_slack_viol'
1983      max_v_under_q_up_slack_viol_start /
1984      'max_v_over_q_lo_slack_viol'
1985      max_v_over_q_lo_slack_viol_start /;
1986  putclose;
1987   
1988  *===== SECTION: MODEL OPTIONS AND SOLVE
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\solve_procedure.gms
1991   
1992  *nlpfile knitroset.opt
1993  option  nlp = KNITRO;
1994  option  rminlp = KNITRO;
1995  option  minlp = knitro;
1996  option SysOut = On;
1997  *feastol =1e-7
1998   
2015   
2032   
2033  acopf.optfile=1;
2034  acopf.optca = 0;
2035  *acopf.optcr = 1e-8;
2036  acopf.reslim = 60;
2037  acopf.holdfixed = 1;
2038  acopf_check.optfile=1;
2039  acopf_check.optca = 0;
2040  *acopf_check.optcr = 1e-8;
2041  acopf_check.reslim = 60;
2042  acopf_check.holdfixed = 1;
2043   
      * TODO JH remove this solve
      * initial solve with penalty model
      * we seem to have significant difficulty solving a minlp problem,
      * at some time steps, even if we provide a feasible solution.
      * this is a problem with the knitro solver.
      *display "foo", numShuntStepsOn_init;
      V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_init(bus,bu
      s_s);
      solve acopf_check min V_objcosttest using rminlp;
      V_shunt.fx(bus,bus_s)$numBswitched(bus,bus_s) = round(V_shunt.l(bus,bus_s)
      );
      solve acopf_check min V_objcosttest using rminlp;
      *solve acopf_check min V_objcosttest using minlp;
      V_shunt.lo(bus,bus_s)$numBswitched(bus,bus_s) = 0;
      V_shunt.up(bus,bus_s)$numBswitched(bus,bus_s) = numBswitched(bus,bus_s);
      *solve acopf_check min V_objcosttest using minlp;
      * PHASE 3:
      * set voltage penalty parameters to 0
      * fix voltage magnitude deviations to 0 for buses already achieving 0 devi
      ation
      * fix reactive power (to what value?) for buses with nonzero deviation
      *   specifically,
      *     if deviation > 0 fix q to qlo
      *     if deviation < 0 fix q to qup
      *   what if deviation is nonzero but q is not at a bound already?
      *   this procedure risks infeasibility. Instead we could do:
      *     if deviation <> fix q to q.l
      *   or
      *     if deviation > 0 require q <= q.l
      *     if deviation < 0 require q >= q.l
      parameter
          sstat "final solver status"
          mstat "final model status"
          infeas "Number of infeasibilities from model solve"
          sumInf "SUM OF infeasibility";
      sstat=acopf_check.solvestat;
      mstat=acopf_check.modelstat;
      infeas = acopf_check.numInfes;
      sumInf = acopf_check.sumInfes;
2082   
2083  * TODO JH - feasibility problems with these solves
2084  * need to fix this
2085  *$ontext
2086   
2087  *==== SECTION: Solution Analysis
2088  * See if model is solved
2089  parameter
2090      sstat "final solver status"
2091      mstat "final model status"
2092      infeas "Number of infeasibilities from model solve"
2093      sumInf "SUM OF infeasibility";
2094   
2095  * for test to evaluate quality of start point
2096  * remove these lines for a real run
2097  *option rminlp=examiner;
2098  *solve acopf min V_objcost using rminlp;
2099  *$exit
2100   
2101  *** solve the model (phase 1)
2102  solve acopf min V_objcost using rminlp;
2103  **$exit
2104  **OPTION NLP=GAMSCHK;
2105  **solve acopf min V_objcost using rminlp;
2106  *
2107  *
2108  *
2109  infeas = acopf.numInfes;
2110  sumInf = acopf.sumInfes;
2111  sstat=acopf.solvestat;
2112  mstat=acopf.modelstat;
2113  *display infeas,sumInf;
2114   
2115  if(infeas ne 0,
2116  *        solve phase 2
2117  *        what is the best shunt starting point?
2118  *        does it matter?
2119           display  V_shunt.l;
2120           V_shunt.l(bus,bus_s)$numBswitched(bus,bus_s) = numShuntStepsOn_in
      it(bus,bus_s);
2121           solve acopf_check min V_objcosttest using rminlp;
2122  *         if(acopf_check.modelstat ne 2 or acopf_check.modelstat ne 7,
2123  *            abort "failed to solve acopf_check with relaxed shunt setting
      s";);
2125           display  V_shunt.l;
2126  *         if(acopf_check.modelstat ne 2 or acopf_check.modelstat ne 7,
2127  *            abort "failed to solve scopf_check after fixing shunts";);
2128           infeas = acopf_check.numInfes;
2129           sstat=acopf_check.solvestat;
2130           mstat=acopf_check.modelstat;
2131           saturaup(i)=V_artup.l(i);
2132           saturalow(i)=V_artlow.l(i);
2133  *        solve phase 3
2134           V_Q.fx(gen)$((sum(bus$atBus(gen,bus),saturaup(bus)) ne 0) or (sum
      (bus$atBus(gen,bus),saturalow(bus)) ne 0)) =V_Q.l(gen);
2135  *        V_Q.fx(gen)$(genQtemp(gen) ne 0 )=genQtemp(gen);
2136  *         acopf.optfile=2;
2137           solve acopf min V_objcost using rminlp;
2138  *         if(acopf.modelstat ne 2,
2139  *            abort "failed to solve acopf after fixing V at saturated buse
      s";);
2140           infeas = acopf.numInfes;
2141           sstat=acopf.solvestat;
2142           mstat=acopf.modelstat;
2143  *        solve acopf_resolve min V_objcosttest using rminlp;
2144  );
2145   
2146  *$batinclude "%filepath%objective_voltage_stability_addterm.gms" obj deman
      dbids
2147   
2148  * TODO - need to fix above solves
2149  *$offtext
2150   
2151  *while((infeas ne 0),
2152  *   voltageran_low=voltageran_low-step_leng;
2153  *   voltageran_high=voltageran_high+step_leng;
2154  *   display voltageran_low,voltageran_high;
2155  *   solve acopf min V_objcost using minlp;
2156  *);
2158   
2159   
2160   
2161  *===== SECTION: SOLUTION ANALYSIS
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\solution_analysis.gms
2163   
2164  * Declaration needs to be made outside loop
2165  set
2166      lines_at_limit(i,j,c) "lines at their bound"
2167  ;
2168  parameters
2169      total_cost "Cost of objective function"
2170      LMP(bus) "Locational marginal price"
2171      LineSP(i,j,c) "Marginal price of active power on line (i,j,c)"
2172      shuntB(i)
2173      TotalLoss         " Total Loss of all the lines"
2174      TotalSwitches "number of shunt switches used"
2175      RMSVoltageDeviation "root mean square of load bus voltage deviations"
2176      AverageLoadBusVoltageDeviation "average of load bus voltage deviations
      "
2177      VoltageDevNongen(bus) "voltage deviation in percentage"
2178      vmgen(gen) "generator voltage magnitude"
2179      vmgenBus(bus) "generator voltage magnitude at bus, consider multiple g
      en at same bus"
2180      vmnongen(bus) "nongenerator voltage magnitude"
2181      Totalvgendev "total gen voltage deviation from schedule"
2182      Totalvnongendev "total nongen voltage deviation from schedule"
2183      genbusid(gen)
2184      solarQupperlimit(bus)
2185      solarQlowerlimit(bus)
2186  ;
2187   
2188      TotalLoss=sum(i,V_Lossi.l(i));
2189  *     TotalLoss=0;
2190      TotalSwitches = sum((i,bus_s)$numBswitched(i,bus_s),abs(V_shunt.l(i,bu
      s_s) - numShuntStepsOn_init(i,bus_s)));
2191  *    RMSVoltageDeviation=sqrt(sum(bus$load(bus), sqr(load_bus_voltage_goal
       - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus))))) / max(sum(bus$load(bus)
      ,1),1));
2192      AverageLoadBusVoltageDeviation = sum(bus$load(bus), abs(load_bus_volta
      ge_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus))))) / max(sum(bus$lo
      ad(bus),1),1);
2193      VoltageDevNongen(bus)$(bus_penalize_volt_mag_target(bus) and type(bus)
       eq 1)=  load_bus_voltage_goal - sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bu
      s)));
2194  *calculate the total voltage deviation of generator bus and nongenerator b
      us
2195      Totalvnongendev= sum(bus$load(bus), abs(load_bus_voltage_goal - sqrt(s
      qr(V_real.l(bus)) + sqr(V_imag.l(bus)))));
2196      Totalvgendev= sum(bus$isGen(bus), abs(Vsch(bus) - sqrt(sqr(V_real.l(bu
      s)) + sqr(V_imag.l(bus)))));
2197   
2198   
2199   
2200   
2201  *    Totalvgendev
2202   
2203   
2204  display  TotalLoss, infeas;
2205   
2206  ** switched shunt solution values
2207  parameter
2208    numShuntStepsOn_final(bus,bus_s)
2209    switched_shunt_susceptance_final(bus,bus_s);
2210  set
2211    switched_shunt_susceptance_keys(bus,bus_s);
2212  switched_shunt_susceptance_keys(bus,bus_s) = yes$numBswitched(bus,bus_s);
2213  numShuntStepsOn_final(i,bus_s)$numBswitched(i,bus_s) = V_shunt.l(i,bus_s);
2214  switched_shunt_susceptance_final(bus,bus_s)$numBswitched(bus,bus_s) = V_sh
      unt.l(bus,bus_s) * Bswitched(bus,bus_s);
2215  execute_unload 'switched_shunt_current.gdx', numShuntStepsOn_final=numShun
      tStepsOn;
2216  *display switched_shunt_susceptance_keys;
2217  if(infeas eq 0,
2218  * Final Objective function value
2219      total_cost = V_objcost.l;
2220  * Generator real power solution
2221      Pg(gen) = V_P.l(gen);
2222  * Generator reactive power solution
2223      Qg(gen) = V_Q.l(gen);
2224  * Voltage magnitude solution
2225      Vm(bus) = sqrt(sqr(V_real.l(bus)) + sqr(V_imag.l(bus)));
2226      vmgen(gen) =sum(bus$(atBus(gen,bus)), Vm(bus));
2227      vmgenBus(bus)$(sum(gen,atBus(gen,bus)) > 0)= Vm(bus);
2228      vmnongen(bus)=Vm(bus)$(load(bus))
2229      display Vm;
2230  * Voltage angle solution
2231  *    Va(bus) = arctan2(V_imag.l(bus),V_real.l(bus)) * 180 / pi;
2232      loop(bus,
2233      if(V_real.l(bus) > 0,
2234          Va(bus) = arctan(V_imag.l(bus)/V_real.l(bus)) * 180/pi;
2235      else
2236          Va(bus) = arctan(V_imag.l(bus)/V_real.l(bus)) * 180/pi + 180;
2237      );
2238      );
2239  * Bus shunt solution
2240      shuntB(i) = sum(bus_s$numBswitched(i,bus_s), V_shunt.l(i,bus_s)*Bswitc
      hed(i,bus_s));
2241  * Locational marginal price of bus at time t
2242  *    LMP(bus) = c_BalanceP_nosolar.m(bus);
2243   
2244  * Marginal for active power on a line
2245  *    LineSP(i,j,c)$branchstatus(i,j,c) = c_I_Limit.m(i,j,c);
2246  *    LineSP(j,i,c)$branchstatus(i,j,c) = c_I_Limit.m(j,i,c);
2247   
2248  * Find which lines are at their limits
2249  *lines_at_limit(i,j,c)$(branchstatus(i,j,c) or branchstatus(j,i,c)) = yes$
2250  *     (sqr(currentrate(i,j,c)) - sqr(V_LineIr.L(i,j,c)) - sqr(V_LineIq.L(i
      ,j,c)) le 1e-4);
2251  *display lines_at_limit;
2252   
2253  *==== SECTION: SOLUTION SAVE
INCLUDE    C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\solution_save.gms
2255  *file filename;
2256  *put_utility filename 'Exec' / 'results_' i.tl:0 '.gdx';
2257   
2258   
2259   
2260   
2261   
2262   
2263  *put_utilities  'gdxout' / 'out' Nb:0:0;
2264   
2266  );
2267   
2268  display Pmax, Pmin,ratio,switchedShuntB_init, V_dem_Load.l, V_switchedshun
      tB.l,V_P.l,V_P.up, V_P.lo, V_Q.l, V_Q.up, V_Q.lo, Qmax, Qmin;

**** LIST OF STRAY NAMES - CHECK DECLARATIONS FOR SPURIOUS COMMAS
**** STRAY NAME nongen OF TYPE SET  
**** STRAY NAME fuel_t OF TYPE SET  
**** STRAY NAME fuel_s OF TYPE SET  
**** STRAY NAME prime_mover OF TYPE SET  
**** STRAY NAME gen_s OF TYPE SET  
**** STRAY NAME interface_t OF TYPE SET  
**** STRAY NAME Nb OF TYPE PARAM
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 5
display_start
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\iv_acopf_reformulation_lop_adj.gms
     2      147 BATINCLUDE     1     151  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\extract_data_SunLamp_newformulati
                                           on_cle.gms
     3      204 GDXIN          2      57  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\7bus.gdx
     4      220 GDXIN          2      73  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\solarbus2.gdx
     5      307 GDXIN          2     164  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\geni_st.gdx
     6      311 GDXIN          2     168  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\demand_response.gdx
     7      315 GDXIN          2     172  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\demandresponseload.gdx
     8      319 GDXIN          2     176  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\demandresponseprice.gdx
     9      364 GDXIN          2     244  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\solarlocation.gdx
    10      409 GDXIN          2     289  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\UC_OPF_load_elwi_BV.gdx
    11      447 GDXIN          2     327  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\geni_p.gdx
    12      463 GDXIN          2     343  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\UC_OPF_load_elwi_Q.gdx
    13      526 IF EXIST       1     153  C:\Users\kexi955\SyncDrive\PNNL_Projec
                                          t\Trasactive_control\Distribution_ACOP
                                          F\switched_shunt_current.gdx
    14      531 INCLUDE        1     158  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\params_from_user.gms
    15      562 INCLUDE        1     161  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\model_params.gms
    16      794 INCLUDE        1     164  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\data_manipulation.gms
    17      801 IF EXIST      16       7  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\switched_shunt_current.gdx
    18      843 INCLUDE        1     167  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\var_declaration.gms
    19      903 INCLUDE        1     170  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\eqn_declaration.gms
    20      950 INCLUDE        1     173  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\eqn_definition.gms
    21     1337 INCLUDE        1     176  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\mod_definition.gms
    22     1392 INCLUDE        1     179  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\var_bounds.gms
    23     1480 INCLUDE        1     182  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\start_point.gms
    24     1483 BATINCLUDE    23       3  ..C:\Users\kexi955\SyncDrive\PNNL_Proj
                                            ect\Trasactive_control\Distribution_
                                            ACOPF\ic_iv\preset.gms
    25     1502 BATINCLUDE    23      12  ..C:\Users\kexi955\SyncDrive\PNNL_Proj
                                            ect\Trasactive_control\Distribution_
                                            ACOPF\ic_iv\given.gms
    26     1525 INCLUDE       25      23  ...C:\Users\kexi955\SyncDrive\PNNL_Pro
                                             ject\Trasactive_control\Distributio
                                             n_ACOPF\ic_iv\calc_derived_vars.gms
    27     1653 INCLUDE        1     184  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\compute_start_metrics.gms
    28     1834 INCLUDE        1     187  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\display_start.gms
    29     1990 INCLUDE        1     193  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\solve_procedure.gms
    30     2162 INCLUDE        1     199  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\solution_analysis.gms
    31     2254 INCLUDE        1     202  .C:\Users\kexi955\SyncDrive\PNNL_Proje
                                           ct\Trasactive_control\Distribution_AC
                                           OPF\solution_save.gms


COMPILATION TIME     =        0.094 SECONDS      3 MB  24.8.5 r61358 WEX-WEI
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 6
display_start
E x e c u t i o n


----    329 PARAMETER demLoad  demandresponse load

1 200.000,    2   2.000,    3   0.010,    4   0.006,    5   0.005


----    329 PARAMETER demPrice  demandresponse price

2 0.105,    3 0.111,    4 0.123,    5 0.144


----    329 PARAMETER demLocation  location of demand response

18 1.000


----    329 PARAMETER demSlope  slope

2 5.303030E-4,    3       0.003,    4       3.000,    5      19.091


----    803 PARAMETER Bswitched  susceptance of switched shunts

                      ( ALL       0.000 )


----   1390 PARAMETER Pmax  gen maximum real power output

1 4.086


----   1390 PARAMETER Pmin  gen minimum real power output

                      ( ALL       0.000 )


----   1390 PARAMETER Pd  bus real power demand

7  0.067,    18 0.076,    57 0.157


----   1390 PARAMETER Va  bus voltage angle

                      ( ALL       0.000 )


----   1390 PARAMETER Vm  bus voltage magnitude

7   1.000,    13  1.000,    18  1.000,    149 1.000,    54  1.000,    57  1.000
56  1.000


----   1390 PARAMETER Qg  gen reactive power output

1 0.085


----   1649 VARIABLE V_real.L  Real part of bus voltage

7   1.000,    13  1.000,    18  1.000,    149 1.000,    54  1.000,    57  1.000
56  1.000


----   1649 VARIABLE V_imag.L  Imaginary part of bus voltage

                      ( ALL       0.000 )


----   1649 PARAMETER Vm  bus voltage magnitude

7   1.000,    13  1.000,    18  1.000,    149 1.000,    54  1.000,    57  1.000
56  1.000


----   1841 display start

----   1841 PARAMETER Pd  bus real power demand

7  0.067,    18 0.076,    57 0.157


----   1841 PARAMETER Qd  bus reactive power demand

7  0.020,    18 0.020,    57 0.044


----   1841 PARAMETER V_P_start  

1 0.300


----   1841 PARAMETER V_Q_start  

1 0.085


----   1841 PARAMETER P_S_start  

                      ( ALL       0.000 )


----   1841 PARAMETER Q_S_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_real_start  

7   1.000,    13  1.000,    18  1.000,    149 1.000,    54  1.000,    57  1.000
56  1.000


----   1841 PARAMETER V_imag_start  

                      ( ALL       0.000 )


----   1841 PARAMETER Solar_p_curtail_start  

                      ( ALL       0.000 )


----   1841 PARAMETER De_response_Dec_P_start  

                      ( ALL       0.000 )


----   1841 PARAMETER De_response_Inc_P_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_switchedshuntB_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_shunt_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_P_system_deviation_start =        0.000  

----   1841 PARAMETER V_LineIr_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_LineIq_start  

                  1

7  .13      327.305
7  .149     458.227
13 .7       327.305
13 .18      540.053
13 .54      212.748
18 .13      540.053
149.7       458.227
54 .13      212.748
54 .57      229.113
54 .56      327.305
57 .54      229.113
56 .54      327.305


----   1841 PARAMETER V_Lossijc_start  

                 1

7  .13    3105.121
13 .18   13948.533
13 .54     852.733
149.7     8520.453
54 .57    1065.083
54 .56    3105.121


----   1841 PARAMETER V_Lossi_start  

7    3105.121,    13  14801.266,    149  8520.453,    54   4170.204


----   1841 PARAMETER V_load_bus_volt_pen_dev_start  

7  0.010,    18 0.010,    57 0.010


----   1841 PARAMETER V_load_bus_volt_pen_start =        0.030  

----   1841 PARAMETER V_shuntSwitching_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_totalShuntSwitching_start =        0.000  

----   1841 PARAMETER V_shuntSwitchingPenalty_start  

                      ( ALL       0.000 )


----   1841 PARAMETER V_shuntTotalSwitchingPenalty_start =        0.000  
            PARAMETER V_shuntSwitchingTotalPenalty_start =        0.000  
            PARAMETER V_previous_solution_penalty_start =        0.000  
            PARAMETER V_objcost_start      =    30597.075  

----   1841 PARAMETER gen_p_lo_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER gen_p_up_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER gen_q_lo_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER gen_q_up_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER De_response_Inc_P_up_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER De_response_dec_P_lo_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER v_shunt_up_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER balance_p_viol_start  

7   -0.067,    18  -0.076,    149  0.300,    57  -0.157


----   1841 PARAMETER balance_q_viol_start  

7    785.512,    13  1080.107,    18   540.034,    149  458.312,    54   769.167
57   229.070,    56   327.305


----   1841 PARAMETER p_generator_add_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER c_I_limit_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER c_V_limit_lo_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER c_V_limit_up_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER v_generator_hardupl_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER v_generator_harddownl_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER v_under_q_up_slack_viol_start  

                      ( ALL       0.000 )


----   1841 PARAMETER v_over_q_lo_slack_viol_start  

                      ( ALL       0.000 )


----   1841 display start summary
            PARAMETER p_load_start         =        0.300  
            PARAMETER p_gen_start          =        0.300  
            PARAMETER p_shunt_start        =        0.000  
            PARAMETER sum_loss_start       =    30597.045  
            PARAMETER V_load_bus_volt_pen_start =        0.030  
            PARAMETER V_totalShuntSwitching_start =        0.000  
            PARAMETER V_shuntSwitchingTotalPenalty_start =        0.000  
            PARAMETER V_previous_solution_penalty_start =        0.000  
            PARAMETER V_objcost_start      =    30597.075  
            PARAMETER max_gen_p_lo_viol_start =        0.000  
            PARAMETER max_gen_p_up_viol_start =        0.000  
            PARAMETER max_gen_q_lo_viol_start =        0.000  
            PARAMETER max_gen_q_up_viol_start =        0.000  
            PARAMETER max_De_response_Inc_P_up_viol_start =         -INF  
            PARAMETER max_De_response_dec_P_lo_viol_start =         -INF  
            PARAMETER max_v_shunt_up_viol_start =         -INF  
            PARAMETER max_balance_p_viol_start =        0.300  
            PARAMETER max_balance_q_viol_start =     1080.107  
            PARAMETER max_p_generator_add_viol_start =        0.000  
            PARAMETER max_c_I_limit_viol_start =        0.000  
            PARAMETER max_c_V_limit_lo_viol_start =        0.000  
            PARAMETER max_c_V_limit_up_viol_start =        0.000  
            PARAMETER max_v_generator_hardupl_viol_start =        0.000  
            PARAMETER max_v_generator_harddownl_viol_start =        0.000  
            PARAMETER max_v_under_q_up_slack_viol_start =        0.000  
            PARAMETER max_v_over_q_lo_slack_viol_start =        0.000  

**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET


**** PUT ERROR FOR FILE report_file AT LINE 1926: 
NOT ENOUGH SPACE FOR E-FORMAT - RESET

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 7
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2102


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13)
     
      + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13)
     
      + V_LineIr(7,13,1) =E= 0 ; (LHS = 0)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13)
     
      + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13)
     
      + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ; (LHS = 0)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13)
     
      + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13)
     
      + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13)
     
      + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13)
     
      + V_LineIr(13,7,1) =E= 0 ; (LHS = 0)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18)
     
      + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18)
     
      + V_LineIr(18,13,1) =E= 0 ; (LHS = 0)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54)
     
      + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54)
     
      + V_LineIr(54,13,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line
                      c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13)
     
      - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13)
     
      + V_LineIq(7,13,1) =E= 0 ; (LHS = 0)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13)
     
      - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13)
     
      + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ; (LHS = 0)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54)
     
      - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54)
     
      + V_LineIq(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line 
                      c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13)
     
      + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13)
     
      + V_LineIq(13,7,1) =E= 0 ; (LHS = 0)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13)
     
      - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13)
     
      - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ; (LHS = 0)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54)
     
      + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54)
     
      + V_LineIq(54,13,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  (0)*V_real(7) - (785.532)*V_imag(7)
     
      - (1)*V_LineIr(7,13,1) - (1)*V_LineIr(7,149,1) + (0)*V_LineIq(7,13,1)
     
      + (0)*V_LineIq(7,149,1) + V_p_over(7) - V_p_under(7) =E= 0.0674 ;
     
      (LHS = 0, INFES = 0.0674 ****)
     
c_BalanceP_nosolar(18)..  (0)*V_real(18) - (540.0535)*V_imag(18)
     
      - (1)*V_LineIr(18,13,1) + (0)*V_LineIq(18,13,1) + V_p_over(18)
     
      - V_p_under(18) + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4)
     
      + V_dem_Load(5) =E= 200.076 ; (LHS = 0, INFES = 200.076 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) + (0)*V_real(149) - (1)*V_LineIr(149,7,1)
     
      + V_p_over(149) - V_p_under(149) =E= 0 ; (LHS = 0.3, INFES = 0.3 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) + (0)*V_real(13) - (1080.10675)*V_imag(13)
     
      - (1)*V_LineIr(13,7,1) - (1)*V_LineIr(13,18,1) - (1)*V_LineIr(13,54,1)
     
      + (0)*V_LineIq(13,7,1) + (0)*V_LineIq(13,18,1) + (0)*V_LineIq(13,54,1)
     
      + V_p_over(13) - V_p_under(13) =E= 0 ; (LHS = 0.03, INFES = 0.03 ****)
     
c_BalanceP_solar(57)..  P_S(57) + (0)*V_real(57) - (229.1135)*V_imag(57)
     
      - (1)*V_LineIr(57,54,1) + (0)*V_LineIq(57,54,1) + V_p_over(57)
     
      - V_p_under(57) =E= 0.1566 ; (LHS = 0.02, INFES = 0.1366 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  (785.532)*V_real(7) + (0)*V_imag(7)
     
      + (0)*V_LineIr(7,13,1) + (0)*V_LineIr(7,149,1) + (1)*V_LineIq(7,13,1)
     
      + (1)*V_LineIq(7,149,1) + V_q_over(7) - V_q_under(7) =E= 0.02 ;
     
      (LHS = 785.532, INFES = 785.512 ****)
     
c_BalanceQ_nosolar(18)..  (540.0535)*V_real(18) + (0)*V_imag(18)
     
      + (0)*V_LineIr(18,13,1) + (1)*V_LineIq(18,13,1) + V_q_over(18)
     
      - V_q_under(18) =E= 0.0196 ; (LHS = 540.0535, INFES = 540.0339 ****)
     
c_BalanceQ_nosolar(149)..  V_Q(1) + (458.227)*V_real(149)
     
      + (1)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149) =E= 0 ;
     
      (LHS = 458.3122, INFES = 458.3122 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) + (1080.10675)*V_real(13) + (0)*V_imag(13)
     
      + (0)*V_LineIr(13,7,1) + (0)*V_LineIr(13,18,1) + (0)*V_LineIr(13,54,1)
     
      + (1)*V_LineIq(13,7,1) + (1)*V_LineIq(13,18,1) + (1)*V_LineIq(13,54,1)
     
      + V_q_over(13) - V_q_under(13) =E= 0 ;
     
      (LHS = 1080.10675, INFES = 1080.10675 ****)
     
c_BalanceQ_solar(57)..  Q_S(57) + (229.1135)*V_real(57) + (0)*V_imag(57)
     
      + (0)*V_LineIr(57,54,1) + (1)*V_LineIq(57,54,1) + V_q_over(57)
     
      - V_q_under(57) =E= 0.0436 ; (LHS = 229.1135, INFES = 229.0699 ****)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  (0)*V_LineIr(7,13,1) - (18.97387085)*V_LineIq(7,13,1)
     
      + V_Lossijc(7,13,1) =E= 0 ; (LHS = 0)
     
c_Lossijc(13,18,1)..  (0)*V_LineIr(13,18,1) - (51.656117275)*V_LineIq(13,18,1)
     
      + V_Lossijc(13,18,1) =E= 0 ; (LHS = 0)
     
c_Lossijc(13,54,1)..  (0)*V_LineIr(13,54,1) - (8.01635406)*V_LineIq(13,54,1)
     
      + V_Lossijc(13,54,1) =E= 0 ; (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ;
     
      (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  (1)*V_real(7) + (0)*V_imag(7) =L= 1.15 ; (LHS = 1)
     
v_generator_hardupl(13)..  (1)*V_real(13) + (0)*V_imag(13) =L= 1.15 ; (LHS = 1)
     
v_generator_hardupl(18)..  (1)*V_real(18) + (0)*V_imag(18) =L= 1.15 ; (LHS = 1)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  (1)*V_real(7) + (0)*V_imag(7) =G= 0.88 ; (LHS = 1)
     
v_generator_harddownl(13)..  (1)*V_real(13) + (0)*V_imag(13) =G= 0.88 ;
     
      (LHS = 1)
     
v_generator_harddownl(18)..  (1)*V_real(18) + (0)*V_imag(18) =G= 0.88 ;
     
      (LHS = 1)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment
                           from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.3)
     

---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts a
                                t bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ; (LHS = 0)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - s
                                       egment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - s
                                       egment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt 
                                        switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching
     
      + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = 0)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by s
                                           hunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty
     
      + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 0)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation p
                                           enalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ; (LHS = 0)
     

---- v_generator_addup  =L=  generator voltage constraints added selectively

v_generator_addup(149)..  (1)*V_real(149) =L= 1 ; (LHS = 1)
     

---- v_generator_addlow  =G=  generator voltage constraints added

v_generator_addlow(149)..  (1)*V_real(149) =G= 1 ; (LHS = 1)
     

---- c_obj  =E=  Objective function

c_obj..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13)
     
      - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56)
     
      - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2)
     
      - 0.00301507537688443*V_dem_Load(3) - 3*V_dem_Load(4)
     
      - 19.0909090909091*V_dem_Load(5) - V_previous_solution_penalty + V_objcost
      =E= 630 ; (LHS = -1.06579699999929, INFES = 631.065796999999 ****)
     
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 8
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2102


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.3, 4.086, 0)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- V_Q  Reactive power generation of generator

V_Q(1)
                (.LO, .L, .UP, .M = -60, 0.0852, 60, 0)
        1       c_BalanceQ_nosolar(149)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.03, 0.3, 0)
        1       c_BalanceP_solar(13)
      -15.6625  c_obj
        0       (OLD LEVEL ****)

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.02, 0.25, 0)
        1       c_BalanceP_solar(57)
      -29.7961  c_obj
        0       (OLD LEVEL ****)


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, 0, 300, 0)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, 0, 300, 0)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, 1, 1.05, 0)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
       (0)      c_BalanceP_nosolar(7)
     (785.532)  c_BalanceQ_nosolar(7)
       (1)      v_generator_hardupl(7)
       (1)      v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, 1, 1.05, 0)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
       (0)      c_BalanceP_solar(13)
    (1080.1068) c_BalanceQ_solar(13)
       (1)      v_generator_hardupl(13)
       (1)      v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, 1, 1.05, 0)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
       (0)      c_BalanceP_nosolar(18)
     (540.0535) c_BalanceQ_nosolar(18)
       (1)      v_generator_hardupl(18)
       (1)      v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, 0, 1.05, 0)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
    (-785.532)  c_BalanceP_nosolar(7)
       (0)      c_BalanceQ_nosolar(7)
       (0)      v_generator_hardupl(7)
       (0)      v_generator_harddownl(7)

V_imag(13)
                (.LO, .L, .UP, .M = -1.05, 0, 1.05, 0)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
   (-1080.1068) c_BalanceP_solar(13)
       (0)      c_BalanceQ_solar(13)
       (0)      v_generator_hardupl(13)
       (0)      v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, 0, 1.05, 0)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
    (-540.0535) c_BalanceP_nosolar(18)
       (0)      c_BalanceQ_nosolar(18)
       (0)      v_generator_hardupl(18)
       (0)      v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       c_LineIrij(7,13,1)
      (-1)      c_BalanceP_nosolar(7)
       (0)      c_BalanceQ_nosolar(7)
       (0)      c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       c_LineIrji(149,7,1)
      (-1)      c_BalanceP_nosolar(7)
       (0)      c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       c_LineIrji(7,13,1)
      (-1)      c_BalanceP_solar(13)
       (0)      c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, 327.305, +INF, 0)
        1       c_LineIqij(7,13,1)
       (0)      c_BalanceP_nosolar(7)
       (1)      c_BalanceQ_nosolar(7)
     (-18.9739) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, 458.227, +INF, 0)
        1       c_LineIqji(149,7,1)
       (0)      c_BalanceP_nosolar(7)
       (1)      c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, 327.305, +INF, 0)
        1       c_LineIqji(7,13,1)
       (0)      c_BalanceP_solar(13)
       (1)      c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 3105.12139927963, +INF, 0)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 13948.5334653871, +INF, 0)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 852.732648822698, +INF, 0)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED

---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 3105.12139927963, +INF, 0)
        1       c_Lossi(7)
       -1       c_obj

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 14801.2661142098, +INF, 0)
        1       c_Lossi(13)
       -1       c_obj

V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       c_Lossi(18)
       -1       c_obj

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_solar(13)

V_q_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, 0)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_shuntSwitchingTotalPenaltyDef
       -1       c_obj


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 0, 198, 0)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_obj

V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 0, 1.99, 0)
        1       c_BalanceP_nosolar(18)
       -0.003   c_obj

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0, 0.004, 0)
        1       c_BalanceP_nosolar(18)
       -3       c_obj

REMAINING ENTRY SKIPPED

---- V_previous_solution_penalty  total penalty on deviation to previous solutio
                                  n

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       c_previous_solution_penalty_def
       -1       c_obj


---- V_objcost  Total cost of objective function

V_objcost
                (.LO, .L, .UP, .M = -INF, 30597.0449188432, +INF, 0)
        1       c_obj


---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       -1       p_generator_add(1)

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 9
display_start
Model Statistics    SOLVE acopf Using RMINLP From line 2102


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           73
BLOCKS OF VARIABLES          21     SINGLE VARIABLES           94  2 projected
NON ZERO ELEMENTS           309     NON LINEAR N-Z            112
DERIVATIVE POOL              20     CONSTANT POOL              23
CODE LENGTH                 313


GENERATION TIME      =        0.032 SECONDS      4 MB  24.8.5 r61358 WEX-WEI


EXECUTION TIME       =        0.047 SECONDS      4 MB  24.8.5 r61358 WEX-WEI
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 10
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2102


               S O L V E      S U M M A R Y

     MODEL   acopf               OBJECTIVE  V_objcost
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2102

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE          7202321.3842

 RESOURCE USAGE, LIMIT          0.171        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 

Reading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_co
                                            ntrol\Distribution_ACOPF\knitro.opt"
>>  honorbnds = 1
>>  *outlev = 6
>>  *mip_heuristic 1
>>  *mip_heuristic_maxit 1
>>  *mip_method = 2
>>  mip_rounding = 4
>>  *infeastol=  1.0e-10
>>  *ms_enable=1
>>  *feastol=1.0e-7
>>  presolve=1
>>  *algorithm=3
>>  *bar_penaltycons = 2
>>  *bar_feasible = 1
>>  *bar_relaxcons = 3
Finished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_contro
                                                l\Distribution_ACOPF\knitro.opt"
Artelys Knitro Optimizer 10.2.0

=======================================
          Commercial License
         Artelys Knitro 10.2.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
honorbnds:               1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (38 variables).
Knitro fixing 3 variables eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                    93 (        85)
    bounded below:                       4 (         4)
    bounded above:                       0 (         0)
    bounded below and above:            51 (        51)
    fixed:                               0 (         0)
    free:                               38 (        30)
Number of constraints:                  72 (        62)
    linear equalities:                  32 (        24)
    nonlinear equalities:               20 (        20)
    linear inequalities:                 4 (         2)
    nonlinear inequalities:             16 (        16)
    range:                               0 (         0)
Number of nonzeros in Jacobian:        293 (       276)
Number of nonzeros in Hessian:          77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0   3.123510e+004  1.080e+003
      10   2.468021e+004  8.400e+002  2.306e+003  6.356e-001        0
      20   2.285773e+004  7.464e+002  8.670e+000  4.722e+001        0
      30   2.191545e+004  4.552e+002  2.705e+004  2.322e+003        0
      40   3.060465e+004  3.057e+002  3.236e+000  2.277e+002        1
      50   1.131975e+004  3.210e+002  1.050e+000  6.200e+000        1
      60   7.900077e+003  2.438e+002  1.909e+001  3.935e+002        0
      70   3.279313e+003  4.012e+001  2.949e+001  1.099e+003        0
      80   7.332541e+003  1.199e+000  2.938e+001  9.543e+000        0
      90   7.412152e+003  1.257e+000  2.936e+001  3.266e-001       14
     100   7.365397e+003  1.187e+000  2.936e+001  4.032e+000       12
     110   7.363508e+003  1.140e+000  2.936e+001  1.051e+001       17
     120   7.202314e+006  1.131e+000  2.936e+001  2.550e+001        0
     122   7.202321e+006  1.131e+000  2.936e+001  5.101e-002        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =  7.20232138423451e+006
Final feasibility error (abs / rel) =   1.13e+000 / 1.05e-003
Final optimality error  (abs / rel) =   2.94e+001 / 9.85e-001
# of iterations                     =        122 
# of CG iterations                  =        327 
# of function evaluations           =        342
# of gradient evaluations           =        124
# of Hessian evaluations            =        124
Total program time (secs)           =       0.154 (     0.063 CPU time)
Time spent in evaluations (secs)    =       0.008

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .    5.2289E-4      
13 .18.1      .         .         .        0.024      
13 .54.1      .         .         .        0.024      
149.7 .1      .         .         .    -2.51E-11      
54 .57.1      .         .         .    2.6130E-4      
54 .56.1      .         .         .    2.6130E-4      

---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .        0.024      
13 .18.1      .         .         .    8.5237E-4      
13 .54.1      .         .         .    2.6130E-4      
149.7 .1      .         .         .    5.2289E-4      
54 .57.1      .         .         .        0.023      
54 .56.1      .         .         .    3.0871E-4      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line 
                     c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -0.001      
13 .18.1      .         .         .       -0.004      
13 .54.1      .         .         .       -0.004      
149.7 .1      .         .         .        0.002      
54 .57.1      .         .         .        0.001      
54 .56.1      .         .         .        0.001      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -0.004      
13 .18.1      .         .         .       -0.002      
13 .54.1      .         .         .        0.001      
149.7 .1      .         .         .       -0.001      
54 .57.1      .         .         .       -0.051      
54 .56.1      .         .         .       -0.002      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.067     0.067     0.067     0.077      
18    200.076   200.023   200.076     0.185 INFES
149      .         .         .    -6.85E-11      
54       .         .         .        0.047      
56       .         .         .    1.1440E-9      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .       -1.131      .        0.093 INFES
57     0.157     0.128     0.157     0.436 INFES

---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.020     0.020     0.020    -0.091      
18      0.020     0.020     0.020    -0.146      
149      .         .         .       -0.006      
54       .        0.100      .       -0.130 INFES
56       .         .         .       -0.285      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .         .         .    -9.59E-14      
57     0.044     0.044     0.044 -4.33E-15      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .    -1.10E-21      
13 .18.1      .         .         .    -1.67E-19      
13 .54.1      .         .         .    -1.00E-20      
149.7 .1      .         .         .    5.028E-20      
54 .57.1      .         .         .    -3.84E-22      
54 .56.1      .         .         .    -1.97E-22      

---- EQU c_Lossi  Loss on lines connected with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .         .        1.000      
13       .         .         .        1.000      
18       .         .         .        1.000      
149      .         .         .        1.000      
54       .         .         .        1.000      
57       .         .         .        1.000      
56       .         .         .        1.000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.011     1.150 -5.10E-11      
13      -INF      0.260     1.150 -6.53E-11      
18      -INF      0.009     1.150 -5.09E-11      
149     -INF      0.366     1.150 -7.41E-11      
54      -INF      0.008     1.150 -5.09E-11      
57      -INF      0.127     1.150 -5.68E-11      
56      -INF      0.006     1.150 -5.08E-11      

---- EQU v_generator_harddownl  bus voltage constraints lower bound

       LOWER     LEVEL     UPPER    MARGINAL

7       0.880     0.011     +INF      1.000 INFES
13      0.880     0.260     +INF      1.000 INFES
18      0.880     0.009     +INF      1.000 INFES
149     0.880     0.366     +INF      1.000 INFES
54      0.880     0.008     +INF      1.000 INFES
57      0.880     0.127     +INF      1.000 INFES
56      0.880     0.006     +INF      1.000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment 
                          from schedule

     LOWER     LEVEL     UPPER    MARGINAL

1     0.300     0.300     0.300      EPS       

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE


---- EQU c_switchedshuntB_Def  defines total susceptance from switched shunts at
                               bus i

                NONE


---- EQU c_shuntSwitchingDef1  defines number of steps switched - side 1

                NONE


---- EQU c_shuntSwitchingDef2  defines number of steps switched - side 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_totalSh~      .        3.972     +INF       EPS       

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - se
                                      gment 1

                NONE


---- EQU c_shuntSwitchingPenaltyDef2  defines local shunt switching penalty - se
                                      gment 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_shuntTo~ -5.000E+6 -1.028E+6     +INF  1.462E-17      
---- EQU c_shuntSw~      .    1.7584E+6     +INF  3.303E-17      
---- EQU c_previou~      .    2.4977E+6     +INF       EPS       

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switchin
                                g
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt swi
                                   tching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup  generator voltage constraints added selectively

       LOWER     LEVEL     UPPER    MARGINAL

149     -INF      0.366     1.000 -9.16E-11      

---- EQU v_generator_addlow  generator voltage constraints added

       LOWER     LEVEL     UPPER    MARGINAL

149     1.000     0.366     +INF      1.000 INFES

                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_obj        630.000   630.000   630.000     1.000      

  c_obj  Objective function

---- VAR V_P  Real power generation of generator

     LOWER     LEVEL     UPPER    MARGINAL

1      .        0.679     4.086       NA       

---- VAR V_Q  Reactive power generation of generator

     LOWER     LEVEL     UPPER    MARGINAL

1   -60.000   -60.000    60.000       NA       

---- VAR P_S  real power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13     0.030     0.300     0.300       NA       
57     0.020     0.250     0.250       NA       

---- VAR Q_S  reactive power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13  -300.000   -70.213   300.000       NA       
57  -300.000    -3.352   300.000       NA       

---- VAR V_real  Real part of bus voltage

       LOWER     LEVEL     UPPER    MARGINAL

7      -1.050    -0.005     1.050       NA       
13     -1.050     0.256     1.050       NA       
18     -1.050    -0.002     1.050       NA       
149    -1.050     0.366     1.050       NA       
54     -1.050     0.008     1.050       NA       
57     -1.050     0.053     1.050       NA       
56     -1.050    -0.006     1.050       NA       

---- VAR V_imag  Imaginary part of bus voltage

      LOWER     LEVEL     UPPER    MARGINAL

7     -1.050    -0.010     1.050       NA       
13    -1.050    -0.045     1.050       NA       
18    -1.050    -0.008     1.050       NA       
54    -1.050 9.2620E-4     1.050       NA       
57    -1.050    -0.116     1.050       NA       
56    -1.050    -0.001     1.050       NA       

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      2.004     +INF        NA       
7  .149.1     -INF      2.713     +INF        NA       
13 .7  .1     -INF     15.949     +INF        NA       
13 .18 .1     -INF     24.976     +INF        NA       
13 .54 .1     -INF     11.124     +INF        NA       
18 .13 .1     -INF      3.804     +INF        NA       
149.7  .1     -INF      1.855     +INF        NA       
54 .13 .1     -INF     -1.773     +INF        NA       
54 .57 .1     -INF      1.628     +INF        NA       
54 .56 .1     -INF     -0.184     +INF        NA       
57 .54 .1     -INF     24.677     +INF        NA       
56 .54 .1     -INF      0.235     +INF        NA       

---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      2.127     +INF        NA       
7  .149.1     -INF      1.234     +INF        NA       
13 .7  .1     -INF     80.061     +INF        NA       
13 .18 .1     -INF    136.070     +INF        NA       
13 .54 .1     -INF     48.840     +INF        NA       
18 .13 .1     -INF      1.191     +INF        NA       
149.7  .1     -INF    164.058     +INF        NA       
54 .13 .1     -INF      7.373     +INF        NA       
54 .57 .1     -INF      3.826     +INF        NA       
54 .56 .1     -INF      2.462     +INF        NA       
57 .54 .1     -INF     10.170     +INF        NA       
56 .54 .1     -INF     -1.701     +INF        NA       

---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1     -INF      0.247     +INF        NA       
13 .18.1     -INF    915.317     +INF        NA       
13 .54.1     -INF     47.271     +INF        NA       
149.7 .1     -INF   1092.320     +INF        NA       
54 .57.1     -INF      0.351     +INF        NA       
54 .56.1     -INF      0.177     +INF        NA       

---- VAR V_Lossi  Loss on lines connecting with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.247     +INF        NA       
13      -INF    962.588     +INF        NA       
18      -INF       .        +INF        NA       
149     -INF   1092.320     +INF        NA       
54      -INF      0.528     +INF        NA       
57      -INF       .        +INF        NA       
56      -INF       .        +INF        NA       

---- VAR V_p_over  real power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.010     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.005     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.010     0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_p_under  real power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .         .        0.010       NA       
18       .         .        0.010       NA       
149      .        0.005     0.010       NA       
54       .         .        0.010       NA       
57       .         .        0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_q_over  reactive power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .        0.005     0.010       NA       
18       .         .        0.010       NA       
149      .         .        0.010       NA       
54       .         .        0.010       NA       
57       .        0.005     0.010       NA       
56       .         .        0.010       NA       

---- VAR V_q_under  reactive power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.005     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.010     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.005     0.010       NA       
56       .        0.010     0.010       NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_totalSh~      .        3.972     +INF        NA       
---- VAR V_shuntTo~      .    2.9435E+6     +INF        NA       
---- VAR V_shuntSw~      .    4.7019E+6     +INF        NA       

  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

     LOWER     LEVEL     UPPER    MARGINAL

2      .      198.000   198.000       NA       
3      .        1.990     1.990       NA       
4      .        0.004     0.004       NA       
5      .        0.001     0.001       NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_previou~      .    2.4977E+6     +INF        NA       
---- VAR V_objcost      -INF  7.2023E+6     +INF       .         
---- VAR V_P_syste~     -INF      0.379     +INF        NA       

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcost  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule


**** REPORT SUMMARY :        0     NONOPT
                            12 INFEASIBLE (INFES)
                    SUM      7.320
                    MAX      1.131
                    MEAN     0.610
                             0  UNBOUNDED
                             0     ERRORS
                            67  PROJECTED
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 11
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2102


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=C
=0KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=1
=2
=1
=CReading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                                          control\Distribution_ACOPF\knitro.opt"
=C>>  honorbnds = 1
=C>>  *outlev = 6
=C>>  *mip_heuristic 1
=C>>  *mip_heuristic_maxit 1
=C>>  *mip_method = 2
=C>>  mip_rounding = 4
=C>>  *infeastol=  1.0e-10
=C>>  *ms_enable=1
=C>>  *feastol=1.0e-7
=C>>  presolve=1
=C>>  *algorithm=3
=C>>  *bar_penaltycons = 2
=C>>  *bar_feasible = 1
=C>>  *bar_relaxcons = 3
=CFinished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_cont
                                              rol\Distribution_ACOPF\knitro.opt"
=2
=CArtelys Knitro Optimizer 10.2.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.2.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Chonorbnds:               1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (38 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                    93 (        85)
?C    bounded below:                       4 (         4)
?C    bounded above:                       0 (         0)
?C    bounded below and above:            51 (        51)
?C    fixed:                               0 (         0)
?C    free:                               38 (        30)
?CNumber of constraints:                  72 (        62)
?C    linear equalities:                  32 (        24)
?C    nonlinear equalities:               20 (        20)
?C    linear inequalities:                 4 (         2)
?C    nonlinear inequalities:             16 (        16)
?C    range:                               0 (         0)
?CNumber of nonzeros in Jacobian:        293 (       276)
?CNumber of nonzeros in Hessian:          77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0   3.123510e+004  1.080e+003
?C      10   2.468021e+004  8.400e+002  2.306e+003  6.356e-001        0
?C      20   2.285773e+004  7.464e+002  8.670e+000  4.722e+001        0
?C      30   2.191545e+004  4.552e+002  2.705e+004  2.322e+003        0
?C      40   3.060465e+004  3.057e+002  3.236e+000  2.277e+002        1
?C      50   1.131975e+004  3.210e+002  1.050e+000  6.200e+000        1
?C      60   7.900077e+003  2.438e+002  1.909e+001  3.935e+002        0
?C      70   3.279313e+003  4.012e+001  2.949e+001  1.099e+003        0
?C      80   7.332541e+003  1.199e+000  2.938e+001  9.543e+000        0
?C      90   7.412152e+003  1.257e+000  2.936e+001  3.266e-001       14
?C     100   7.365397e+003  1.187e+000  2.936e+001  4.032e+000       12
?C     110   7.363508e+003  1.140e+000  2.936e+001  1.051e+001       17
?C     120   7.202314e+006  1.131e+000  2.936e+001  2.550e+001        0
?C     122   7.202321e+006  1.131e+000  2.936e+001  5.101e-002        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =  7.20232138423451e+006
?CFinal feasibility error (abs / rel) =   1.13e+000 / 1.05e-003
?CFinal optimality error  (abs / rel) =   2.94e+001 / 9.85e-001
?C# of iterations                     =        122 
?C# of CG iterations                  =        327 
?C# of function evaluations           =        342
?C# of gradient evaluations           =        124
?C# of Hessian evaluations            =        124
?CTotal program time (secs)           =       0.154 (     0.063 CPU time)
?CTime spent in evaluations (secs)    =       0.008
?C
?C==============================================================================
                                                                               =
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 12
display_start
E x e c u t i o n


----   2119 VARIABLE V_shunt.L  number of shunt steps switched on

                      ( ALL       0.000 )

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 13
display_start
Equation Listing    SOLVE acopf_check Using RMINLP From line 2121


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13)
     
      + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13)
     
      + V_LineIr(7,13,1) =E= 0 ;
     
      (LHS = -5.96855898038484E-13, INFES = 5.96855898038484E-13 ****)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13)
     
      + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13)
     
      + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ;
     
      (LHS = -7.91686716183904E-11, INFES = 7.91686716183904E-11 ****)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13)
     
      + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13)
     
      + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ;
     
      (LHS = -1.01554320508512E-11, INFES = 1.01554320508512E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13)
     
      + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13)
     
      + V_LineIr(13,7,1) =E= 0 ;
     
      (LHS = -2.72599720574362E-11, INFES = 2.72599720574362E-11 ****)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18)
     
      + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18)
     
      + V_LineIr(18,13,1) =E= 0 ;
     
      (LHS = -2.80087064652434E-12, INFES = 2.80087064652434E-12 ****)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54)
     
      + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54)
     
      + V_LineIr(54,13,1) =E= 0 ;
     
      (LHS = -1.12132525487141E-13, INFES = 1.12132525487141E-13 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line
                      c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13)
     
      - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13)
     
      + V_LineIq(7,13,1) =E= 0 ;
     
      (LHS = 1.40376599233605E-12, INFES = 1.40376599233605E-12 ****)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13)
     
      - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13)
     
      + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ;
     
      (LHS = 1.36424205265939E-11, INFES = 1.36424205265939E-11 ****)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54)
     
      - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54)
     
      + V_LineIq(13,54,1) =E= 0 ;
     
      (LHS = 1.76925141204265E-12, INFES = 1.76925141204265E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line 
                      c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13)
     
      + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13)
     
      + V_LineIq(13,7,1) =E= 0 ;
     
      (LHS = 4.76063632959267E-12, INFES = 4.76063632959267E-12 ****)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13)
     
      - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13)
     
      - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ;
     
      (LHS = 6.07580652456363E-12, INFES = 6.07580652456363E-12 ****)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54)
     
      + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54)
     
      + V_LineIq(54,13,1) =E= 0 ;
     
      (LHS = -4.67181848762266E-13, INFES = 4.67181848762266E-13 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  - (4.71672259234638)*V_real(7)
     
      - (3.36108300024449)*V_imag(7) + (0.00506515657059363)*V_LineIr(7,13,1)
     
      + (0.00506515657059363)*V_LineIr(7,149,1)
     
      + (0.00996972172994157)*V_LineIq(7,13,1)
     
      + (0.00996972172994157)*V_LineIq(7,149,1) + V_p_over(7) - V_p_under(7)
      =E= 0.0674 ; (LHS = 0.0674000006539654, INFES = 6.53965367969356E-10 ****)
     
c_BalanceP_nosolar(18)..  - (3.80377520823449)*V_real(18)
     
      - (1.19065825704905)*V_imag(18) + (0.00200741484232684)*V_LineIr(18,13,1)
     
      + (0.00841010411986775)*V_LineIq(18,13,1) + V_p_over(18) - V_p_under(18)
     
      + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4) + V_dem_Load(5) =E= 
     200.076 ; (LHS = 200.022749314723, INFES = 0.053250685277138 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) - (1.85537996694595)*V_real(149)
     
      - (0.365785979387202)*V_LineIr(149,7,1) + V_p_over(149) - V_p_under(149)
      =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) - (52.049800892531)*V_real(13)
     
      - (264.970753233024)*V_imag(13) - (0.256168805998937)*V_LineIr(13,7,1)
     
      - (0.256168805998937)*V_LineIr(13,18,1)
     
      - (0.256168805998937)*V_LineIr(13,54,1)
     
      + (0.0448811067403184)*V_LineIq(13,7,1)
     
      + (0.0448811067403184)*V_LineIq(13,18,1)
     
      + (0.0448811067403184)*V_LineIq(13,54,1) + V_p_over(13) - V_p_under(13)
      =E= 0 ; (LHS = -1.13135468820816, INFES = 1.13135468820816 ****)
     
c_BalanceP_solar(57)..  P_S(57) - (24.6766421715183)*V_real(57)
     
      - (10.170467455262)*V_imag(57) - (0.0530337329306183)*V_LineIr(57,54,1)
     
      + (0.115735926582227)*V_LineIq(57,54,1) + V_p_over(57) - V_p_under(57)
      =E= 0.1566 ; (LHS = 0.128394024160398, INFES = 0.028205975839602 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  (3.36108300024449)*V_real(7)
     
      - (4.71672259234638)*V_imag(7) + (0.00996972172994157)*V_LineIr(7,13,1)
     
      + (0.00996972172994157)*V_LineIr(7,149,1)
     
      - (0.00506515657059363)*V_LineIq(7,13,1)
     
      - (0.00506515657059363)*V_LineIq(7,149,1) + V_q_over(7) - V_q_under(7)
      =E= 0.02 ; (LHS = 0.0200000000800231, INFES = 8.00230472164376E-11 ****)
     
c_BalanceQ_nosolar(18)..  (1.19065825704905)*V_real(18)
     
      - (3.80377520823449)*V_imag(18) + (0.00841010411986775)*V_LineIr(18,13,1)
     
      - (0.00200741484232684)*V_LineIq(18,13,1) + V_q_over(18) - V_q_under(18)
      =E= 0.0196 ; (LHS = 0.0196000004924844, INFES = 4.92484414360561E-10 ****)
     
c_BalanceQ_nosolar(149)..  V_Q(1) + (164.057682232644)*V_real(149)
     
      + (0.365785979387202)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149)
      =E= 0 ; (LHS = -2.85380039599659E-8, INFES = 2.85380039599659E-8 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) + (264.970753233024)*V_real(13)
     
      - (52.049800892531)*V_imag(13) + (0.0448811067403184)*V_LineIr(13,7,1)
     
      + (0.0448811067403184)*V_LineIr(13,18,1)
     
      + (0.0448811067403184)*V_LineIr(13,54,1)
     
      + (0.256168805998937)*V_LineIq(13,7,1)
     
      + (0.256168805998937)*V_LineIq(13,18,1)
     
      + (0.256168805998937)*V_LineIq(13,54,1) + V_q_over(13) - V_q_under(13)
      =E= 0 ; (LHS = 6.42330633127131E-11, INFES = 6.42330633127131E-11 ****)
     
c_BalanceQ_solar(57)..  Q_S(57) + (10.170467455262)*V_real(57)
     
      - (24.6766421715183)*V_imag(57) + (0.115735926582227)*V_LineIr(57,54,1)
     
      + (0.0530337329306183)*V_LineIq(57,54,1) + V_q_over(57) - V_q_under(57)
      =E= 0.0436 ; (LHS = 0.0436000001399156, INFES = 1.3991563463378E-10 ****)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  - (0.116154887842157)*V_LineIr(7,13,1)
     
      - (0.123287393511369)*V_LineIq(7,13,1) + V_Lossijc(7,13,1) =E= 0 ;
     
      (LHS = -1.30959132427222E-12, INFES = 1.30959132427222E-12 ****)
     
c_Lossijc(13,18,1)..  - (2.38898593924506)*V_LineIr(13,18,1)
     
      - (13.0151041660782)*V_LineIq(13,18,1) + V_Lossijc(13,18,1) =E= 0 ;
     
      (LHS = -8.36166691442486E-10, INFES = 8.36166691442486E-10 ****)
     
c_Lossijc(13,54,1)..  - (0.419160896882981)*V_LineIr(13,54,1)
     
      - (1.84028846484689)*V_LineIq(13,54,1) + V_Lossijc(13,54,1) =E= 0 ;
     
      (LHS = -4.42739178652118E-11, INFES = 4.42739178652118E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ;
     
      (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  - (0.452948689952572)*V_real(7)
     
      - (0.891536586052557)*V_imag(7) =L= 1.15 ; (LHS = 0.0111826277080611)
     
v_generator_hardupl(13)..  (0.984996781185611)*V_real(13)
     
      - (0.172572712367816)*V_imag(13) =L= 1.15 ; (LHS = 0.260070703673361)
     
v_generator_hardupl(18)..  - (0.232168740909284)*V_real(18)
     
      - (0.972675524388579)*V_imag(18) =L= 1.15 ; (LHS = 0.00864636141138053)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  - (0.452948689952572)*V_real(7)
     
      - (0.891536586052557)*V_imag(7) =G= 0.88 ;
     
      (LHS = 0.0111826277080611, INFES = 0.868817372291939 ****)
     
v_generator_harddownl(13)..  (0.984996781185611)*V_real(13)
     
      - (0.172572712367816)*V_imag(13) =G= 0.88 ;
     
      (LHS = 0.260070703673361, INFES = 0.619929296326639 ****)
     
v_generator_harddownl(18)..  - (0.232168740909284)*V_real(18)
     
      - (0.972675524388579)*V_imag(18) =G= 0.88 ;
     
      (LHS = 0.00864636141138053, INFES = 0.871353638588619 ****)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment
                           from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.3)
     

---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts a
                                t bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ;
     
      (LHS = 3.97177496681364)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - s
                                       egment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - s
                                       egment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt 
                                        switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching
     
      + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = -1028225.02072651)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by s
                                           hunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty
     
      + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 1758359.97362522)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation p
                                           enalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ;
     
      (LHS = 2497713.48896375)
     

---- v_generator_addup_arti  =L=  generator voltage up constraints added with ar
                                  tificial variables

v_generator_addup_arti(149)..  (1)*V_real(149) - V_artup(149) =L= 1 ;
     
      (LHS = 0.365785979387202)
     

---- v_generator_addlow_arti  =G=  generator voltage low constraints added with 
                                   artificial variables

v_generator_addlow_arti(149)..  (1)*V_real(149) + V_artlow(149) =G= 1 ;
     
      (LHS = 0.365785979387202, INFES = 0.634214020612798 ****)
     

---- c_objtest  =E=  Objective function

c_objtest..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13)
     
      - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56)
     
      - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2)
     
      - 0.00301507537688443*V_dem_Load(3) - 3*V_dem_Load(4)
     
      - 19.0909090909091*V_dem_Load(5) - 100000*V_artup(149)
     
      - 100000*V_artlow(149) - V_previous_solution_penalty + V_objcosttest =E= 
     630 ; (LHS = -7171094.33931568, INFES = 7171724.33931568 ****)
     
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 14
display_start
Column Listing      SOLVE acopf_check Using RMINLP From line 2121


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.678701475942948, 4.086, NA)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- V_Q  Reactive power generation of generator

V_Q(1)
                (.LO, .L, .UP, .M = -60, -60, 60, NA)
        1       c_BalanceQ_nosolar(149)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.3, 0.3, NA)
        1       c_BalanceP_solar(13)
      -15.6625  c_objtest

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.25, 0.25, NA)
        1       c_BalanceP_solar(57)
      -29.7961  c_objtest


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, -70.2132941086807, 300, NA)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, -3.35175189945841, 300, NA)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, -0.00506515657059363, 1.05, NA)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
      (-4.7167) c_BalanceP_nosolar(7)
       (3.3611) c_BalanceQ_nosolar(7)
      (-0.4529) v_generator_hardupl(7)
      (-0.4529) v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, 0.256168805998937, 1.05, NA)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
     (-52.0498) c_BalanceP_solar(13)
     (264.9708) c_BalanceQ_solar(13)
       (0.985)  v_generator_hardupl(13)
       (0.985)  v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, -0.00200741484232684, 1.05, NA)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
      (-3.8038) c_BalanceP_nosolar(18)
       (1.1907) c_BalanceQ_nosolar(18)
      (-0.2322) v_generator_hardupl(18)
      (-0.2322) v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, -0.00996972172994157, 1.05, NA)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
      (-3.3611) c_BalanceP_nosolar(7)
      (-4.7167) c_BalanceQ_nosolar(7)
      (-0.8915) v_generator_hardupl(7)
      (-0.8915) v_generator_harddownl(7)

V_imag(13)
                (.LO, .L, .UP, .M = -1.05, -0.0448811067403184, 1.05, NA)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
    (-264.9708) c_BalanceP_solar(13)
     (-52.0498) c_BalanceQ_solar(13)
      (-0.1726) v_generator_hardupl(13)
      (-0.1726) v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, -0.00841010411986775, 1.05, NA)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
      (-1.1907) c_BalanceP_nosolar(18)
      (-3.8038) c_BalanceQ_nosolar(18)
      (-0.9727) v_generator_hardupl(18)
      (-0.9727) v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, 2.00370688014762, +INF, NA)
        1       c_LineIrij(7,13,1)
       (0.0051) c_BalanceP_nosolar(7)
       (0.01)   c_BalanceQ_nosolar(7)
      (-0.1162) c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, 2.71301571219876, +INF, NA)
        1       c_LineIrji(149,7,1)
       (0.0051) c_BalanceP_nosolar(7)
       (0.01)   c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
                (.LO, .L, .UP, .M = -INF, 15.949243532283, +INF, NA)
        1       c_LineIrji(7,13,1)
      (-0.2562) c_BalanceP_solar(13)
       (0.0449) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, 2.12674475610435, +INF, NA)
        1       c_LineIqij(7,13,1)
       (0.01)   c_BalanceP_nosolar(7)
      (-0.0051) c_BalanceQ_nosolar(7)
      (-0.1233) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, 1.23433824414015, +INF, NA)
        1       c_LineIqji(149,7,1)
       (0.01)   c_BalanceP_nosolar(7)
      (-0.0051) c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, 80.0607352200459, +INF, NA)
        1       c_LineIqji(7,13,1)
       (0.0449) c_BalanceP_solar(13)
       (0.2562) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 0.247470582786782, +INF, NA)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 915.317251811897, +INF, NA)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 47.2711981332397, +INF, NA)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED

---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 0.247470582786782, +INF, NA)
        1       c_Lossi(7)
       -1       c_objtest

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 962.588449945137, +INF, NA)
        1       c_Lossi(13)
       -1       c_objtest

V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, NA)
        1       c_Lossi(18)
       -1       c_objtest

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0.00499997936604652, 0.01, NA)
        1       c_BalanceQ_solar(13)

V_q_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0.00500002063395348, 0.01, NA)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 3.97177496681364, +INF, NA)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 2943549.94608713, +INF, NA)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 4701909.91971235, +INF, NA)
        1       c_shuntSwitchingTotalPenaltyDef
       -1       c_objtest


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 198, 198, NA)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_objtest

V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 1.99, 1.99, NA)
        1       c_BalanceP_nosolar(18)
       -0.003   c_objtest

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0.004, 0.004, NA)
        1       c_BalanceP_nosolar(18)
       -3       c_objtest

REMAINING ENTRY SKIPPED

---- V_artup  artificial variablers

V_artup(149)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       v_generator_addup_arti(149)
  -100000       c_objtest


---- V_artlow  artificial variablers

V_artlow(149)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       v_generator_addlow_arti(149)
  -100000       c_objtest


---- V_previous_solution_penalty  total penalty on deviation to previous solutio
                                  n

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 2497713.48896375, +INF, NA)
        1       c_previous_solution_penalty_def
       -1       c_objtest


---- V_objcosttest  Total cost of objective function

V_objcosttest
                (.LO, .L, .UP, .M = -INF, 30597.0449188432, +INF, 0)
        1       c_objtest


---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0.378701475942948, +INF, NA)
       -1       p_generator_add(1)

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 15
display_start
Model Statistics    SOLVE acopf_check Using RMINLP From line 2121


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           73
BLOCKS OF VARIABLES          23     SINGLE VARIABLES           96
NON ZERO ELEMENTS           313     NON LINEAR N-Z            112
DERIVATIVE POOL              20     CONSTANT POOL              23
CODE LENGTH                 313


GENERATION TIME      =        0.031 SECONDS      3 MB  24.8.5 r61358 WEX-WEI


EXECUTION TIME       =        0.031 SECONDS      3 MB  24.8.5 r61358 WEX-WEI
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 16
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2121


               S O L V E      S U M M A R Y

     MODEL   acopf_check         OBJECTIVE  V_objcosttest
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2121

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE      69303062481.4305

 RESOURCE USAGE, LIMIT          0.078        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 

Reading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_co
                                            ntrol\Distribution_ACOPF\knitro.opt"
>>  honorbnds = 1
>>  *outlev = 6
>>  *mip_heuristic 1
>>  *mip_heuristic_maxit 1
>>  *mip_method = 2
>>  mip_rounding = 4
>>  *infeastol=  1.0e-10
>>  *ms_enable=1
>>  *feastol=1.0e-7
>>  presolve=1
>>  *algorithm=3
>>  *bar_penaltycons = 2
>>  *bar_feasible = 1
>>  *bar_relaxcons = 3
Finished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_contro
                                                l\Distribution_ACOPF\knitro.opt"
Artelys Knitro Optimizer 10.2.0

=======================================
          Commercial License
         Artelys Knitro 10.2.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
honorbnds:               1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (29 variables).
Knitro fixing 3 variables eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                    95 (        87)
    bounded below:                       6 (         6)
    bounded above:                       0 (         0)
    bounded below and above:            51 (        51)
    fixed:                               0 (         0)
    free:                               38 (        30)
Number of constraints:                  72 (        62)
    linear equalities:                  32 (        24)
    nonlinear equalities:               20 (        20)
    linear inequalities:                 4 (         2)
    nonlinear inequalities:             16 (        16)
    range:                               0 (         0)
Number of nonzeros in Jacobian:        295 (       278)
Number of nonzeros in Hessian:          77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0   7.400316e+006  1.950e+000
      10   4.886948e+006  3.016e+001  8.544e-001  1.284e+006        0
      20   4.875461e+006  2.829e+000  6.442e+000  3.798e+001        0
      30   7.432754e+007  8.750e-001  1.000e+002  6.459e+000        0
      40   7.433755e+007  8.781e-001  1.000e+002  3.497e+001        0
      50   8.244215e+007  1.390e+000  1.000e+002  2.107e+005        0
      60   1.007750e+008  8.778e-001  1.000e+002  1.630e+005        0
      70   1.091934e+008  8.777e-001  1.000e+002  2.475e+000        0
      80   1.092210e+008  8.776e-001  1.000e+002  2.069e+001        0
      90   1.092508e+008  8.773e-001  1.000e+002  3.935e+001        0
     100   1.135455e+008  8.769e-001  1.000e+002  4.877e+000        0
     110   1.345190e+008  8.755e-001  1.000e+002  1.686e+006        0
     120   6.930306e+010  8.753e-001  1.000e+002  9.316e+000        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =  6.93030624814305e+010
Final feasibility error (abs / rel) =   8.75e-001 / 4.49e-001
Final optimality error  (abs / rel) =   1.00e+002 / 1.00e+000
# of iterations                     =        120 
# of CG iterations                  =        236 
# of function evaluations           =        302
# of gradient evaluations           =        122
# of Hessian evaluations            =        121
Total program time (secs)           =       0.075 (     0.063 CPU time)
Time spent in evaluations (secs)    =       0.009

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .        4.103      
13 .18.1      .         .         .       28.101      
13 .54.1      .         .         .       28.101      
149.7 .1      .         .         .    -5.030E-7      
54 .57.1      .         .         .       -0.351      
54 .56.1      .         .         .       -0.351      

---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       28.101      
13 .18.1      .         .         .        3.890      
13 .54.1      .         .         .       -0.351      
149.7 .1      .         .         .        4.103      
54 .57.1      .         .         .      -27.622      
54 .56.1      .         .         .       -0.001      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line 
                     c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -8.464      
13 .18.1      .         .         .       -2.974      
13 .54.1      .         .         .       -2.974      
149.7 .1      .         .         .        1.228      
54 .57.1      .         .         .       -1.291      
54 .56.1      .         .         .       -1.291      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -2.974      
13 .18.1      .         .         .       -6.653      
13 .54.1      .         .         .       -1.291      
149.7 .1      .         .         .       -8.464      
54 .57.1      .         .         .       46.216      
54 .56.1      .         .         .        1.642      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.067     0.051     0.067  1000.000 INFES
18    200.076   200.013   200.076  1000.000 INFES
149      .         .         .    -1.375E-6      
54       .         .         .      144.707      
56       .         .         .    2.2052E-5      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .         .         .      242.792      
57     0.157     0.157     0.157   490.396      

---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.020     0.020     0.020  -555.088      
18      0.020     0.020     0.020  -231.501      
149      .         .         .       -3.358      
54       .         .         .     -246.831      
56       .         .         .     -286.565      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .         .         .    -3.55E-10      
57     0.044     0.044     0.044 -6.25E-11      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .    8.917E-23      
13 .18.1      .         .         .    1.161E-19      
13 .54.1      .         .         .    5.284E-21      
149.7 .1      .         .         .    4.065E-18      
54 .57.1      .         .         .    -7.97E-23      
54 .56.1      .         .         .    1.642E-23      

---- EQU c_Lossi  Loss on lines connected with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .         .        1.000      
13       .         .         .        1.000      
18       .         .         .        1.000      
149      .         .         .        1.000      
54       .         .         .        1.000      
57       .         .         .        1.000      
56       .         .         .        1.000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.008     1.150 -9.929E-7      
13      -INF      0.116     1.150 -1.097E-6      
18      -INF      0.008     1.150 -9.923E-7      
149     -INF      0.366     1.150 -1.446E-6      
54      -INF      0.005     1.150 -9.898E-7      
57      -INF      0.110     1.150 -1.090E-6      
56      -INF      0.006     1.150 -9.907E-7      

---- EQU v_generator_harddownl  bus voltage constraints lower bound

       LOWER     LEVEL     UPPER    MARGINAL

7       0.880     0.008     +INF   1000.000 INFES
13      0.880     0.116     +INF   1000.000 INFES
18      0.880     0.008     +INF   1000.000 INFES
149     0.880     0.366     +INF   1000.000 INFES
54      0.880     0.005     +INF   1000.000 INFES
57      0.880     0.110     +INF   1000.000 INFES
56      0.880     0.006     +INF   1000.000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment 
                          from schedule

     LOWER     LEVEL     UPPER    MARGINAL

1     0.300     0.300     0.300      EPS       

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE


---- EQU c_switchedshuntB_Def  defines total susceptance from switched shunts at
                               bus i

                NONE


---- EQU c_shuntSwitchingDef1  defines number of steps switched - side 1

                NONE


---- EQU c_shuntSwitchingDef2  defines number of steps switched - side 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_totalSh~      .      151.290     +INF       EPS       

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - se
                                      gment 1

                NONE


---- EQU c_shuntSwitchingPenaltyDef2  defines local shunt switching penalty - se
                                      gment 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_shuntTo~ -5.000E+6 1.4629E+8     +INF  7.493E-15      
---- EQU c_shuntSw~      .    9.8322E+7     +INF  1.153E-14      
---- EQU c_previou~      .    2.8422E+6     +INF       EPS       

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switchin
                                g
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt swi
                                   tching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup_arti  generator voltage up constraints added with art
                                 ificial variables

       LOWER     LEVEL     UPPER    MARGINAL

149     -INF  -3.456E+5     1.000 -3.28E-12      

---- EQU v_generator_addlow_arti  generator voltage low constraints added with a
                                  rtificial variables

       LOWER     LEVEL     UPPER    MARGINAL

149     1.000 3.4347E+5     +INF  3.301E-12      

                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_objtest    630.000   630.000   630.000     1.000      

  c_objtest  Objective function

---- VAR V_P  Real power generation of generator

     LOWER     LEVEL     UPPER    MARGINAL

1      .        0.664     4.086       NA       

---- VAR V_Q  Reactive power generation of generator

     LOWER     LEVEL     UPPER    MARGINAL

1   -60.000   -60.000    60.000       NA       

---- VAR P_S  real power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13     0.030     0.300     0.300       NA       
57     0.020     0.250     0.250       NA       

---- VAR Q_S  reactive power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13  -300.000   -14.056   300.000       NA       
57  -300.000    -2.482   300.000       NA       

---- VAR V_real  Real part of bus voltage

       LOWER     LEVEL     UPPER    MARGINAL

7      -1.050 -4.549E-4     1.050       NA       
13     -1.050     0.116     1.050       NA       
18     -1.050     0.002     1.050       NA       
149    -1.050     0.366     1.050       NA       
54     -1.050    -0.005     1.050       NA       
57     -1.050    -0.056     1.050       NA       
56     -1.050     0.006     1.050       NA       

---- VAR V_imag  Imaginary part of bus voltage

      LOWER     LEVEL     UPPER    MARGINAL

7     -1.050    -0.008     1.050       NA       
13    -1.050    -0.012     1.050       NA       
18    -1.050    -0.007     1.050       NA       
54    -1.050    -0.001     1.050       NA       
57    -1.050     0.094     1.050       NA       
56    -1.050 4.0819E-6     1.050       NA       

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      1.971     +INF        NA       
7  .149.1     -INF      1.946     +INF        NA       
13 .7  .1     -INF      4.726     +INF        NA       
13 .18 .1     -INF      7.030     +INF        NA       
13 .54 .1     -INF      3.604     +INF        NA       
18 .13 .1     -INF      3.457     +INF        NA       
149.7  .1     -INF      1.816     +INF        NA       
54 .13 .1     -INF     -0.737     +INF        NA       
54 .57 .1     -INF     -1.083     +INF        NA       
54 .56 .1     -INF      0.316     +INF        NA       
57 .54 .1     -INF    -20.229     +INF        NA       
56 .54 .1     -INF      0.083     +INF        NA       

---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      1.458     +INF        NA       
7  .149.1     -INF      3.310     +INF        NA       
13 .7  .1     -INF     36.275     +INF        NA       
13 .18 .1     -INF     61.550     +INF        NA       
13 .54 .1     -INF     21.995     +INF        NA       
18 .13 .1     -INF      2.160     +INF        NA       
149.7  .1     -INF    164.076     +INF        NA       
54 .13 .1     -INF      1.669     +INF        NA       
54 .57 .1     -INF     -2.946     +INF        NA       
54 .56 .1     -INF     -1.346     +INF        NA       
57 .54 .1     -INF    -10.993     +INF        NA       
56 .54 .1     -INF      1.745     +INF        NA       

---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1     -INF      0.174     +INF        NA       
13 .18.1     -INF    183.541     +INF        NA       
13 .54.1     -INF      9.359     +INF        NA       
149.7 .1     -INF   1092.557     +INF        NA       
54 .57.1     -INF      0.200     +INF        NA       
54 .56.1     -INF      0.055     +INF        NA       

---- VAR V_Lossi  Loss on lines connecting with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.174     +INF        NA       
13      -INF    192.900     +INF        NA       
18      -INF       .        +INF        NA       
149     -INF   1092.557     +INF        NA       
54      -INF      0.255     +INF        NA       
57      -INF       .        +INF        NA       
56      -INF       .        +INF        NA       

---- VAR V_p_over  real power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.010     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.005     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.010     0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_p_under  real power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .         .        0.010       NA       
18       .         .        0.010       NA       
149      .        0.005     0.010       NA       
54       .         .        0.010       NA       
57       .         .        0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_q_over  reactive power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .        0.005     0.010       NA       
18       .         .        0.010       NA       
149      .    3.3763E-7     0.010       NA       
54       .         .        0.010       NA       
57       .        0.005     0.010       NA       
56       .         .        0.010       NA       

---- VAR V_q_under  reactive power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.005     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.010     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.005     0.010       NA       
56       .        0.010     0.010       NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_totalSh~      .      151.290     +INF        NA       
---- VAR V_shuntTo~      .    2.9758E+8     +INF        NA       
---- VAR V_shuntSw~      .    3.9590E+8     +INF        NA       

  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

     LOWER     LEVEL     UPPER    MARGINAL

2      .      198.000   198.000       NA       
3      .        1.990     1.990       NA       
4      .        0.004     0.004       NA       
5      .        0.001     0.001       NA       

---- VAR V_artup  artificial variablers

       LOWER     LEVEL     UPPER    MARGINAL

149      .    3.4557E+5     +INF        NA       

---- VAR V_artlow  artificial variablers

       LOWER     LEVEL     UPPER    MARGINAL

149      .    3.4347E+5     +INF        NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_previou~      .    2.8422E+6     +INF        NA       
---- VAR V_objcost~     -INF  6.930E+10     +INF       .         
---- VAR V_P_syste~     -INF      0.364     +INF        NA       

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcosttest  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule


**** REPORT SUMMARY :        0     NONOPT
                             9 INFEASIBLE (INFES)
                    SUM      5.622
                    MAX      0.875
                    MEAN     0.625
                             0  UNBOUNDED
                             0     ERRORS
                            63  PROJECTED
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 17
display_start
Solution Report     SOLVE acopf_check Using RMINLP From line 2121


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=C
=0KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=1
=2
=1
=CReading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                                          control\Distribution_ACOPF\knitro.opt"
=C>>  honorbnds = 1
=C>>  *outlev = 6
=C>>  *mip_heuristic 1
=C>>  *mip_heuristic_maxit 1
=C>>  *mip_method = 2
=C>>  mip_rounding = 4
=C>>  *infeastol=  1.0e-10
=C>>  *ms_enable=1
=C>>  *feastol=1.0e-7
=C>>  presolve=1
=C>>  *algorithm=3
=C>>  *bar_penaltycons = 2
=C>>  *bar_feasible = 1
=C>>  *bar_relaxcons = 3
=CFinished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_cont
                                              rol\Distribution_ACOPF\knitro.opt"
=2
=CArtelys Knitro Optimizer 10.2.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.2.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Chonorbnds:               1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (29 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                    95 (        87)
?C    bounded below:                       6 (         6)
?C    bounded above:                       0 (         0)
?C    bounded below and above:            51 (        51)
?C    fixed:                               0 (         0)
?C    free:                               38 (        30)
?CNumber of constraints:                  72 (        62)
?C    linear equalities:                  32 (        24)
?C    nonlinear equalities:               20 (        20)
?C    linear inequalities:                 4 (         2)
?C    nonlinear inequalities:             16 (        16)
?C    range:                               0 (         0)
?CNumber of nonzeros in Jacobian:        295 (       278)
?CNumber of nonzeros in Hessian:          77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0   7.400316e+006  1.950e+000
?C      10   4.886948e+006  3.016e+001  8.544e-001  1.284e+006        0
?C      20   4.875461e+006  2.829e+000  6.442e+000  3.798e+001        0
?C      30   7.432754e+007  8.750e-001  1.000e+002  6.459e+000        0
?C      40   7.433755e+007  8.781e-001  1.000e+002  3.497e+001        0
?C      50   8.244215e+007  1.390e+000  1.000e+002  2.107e+005        0
?C      60   1.007750e+008  8.778e-001  1.000e+002  1.630e+005        0
?C      70   1.091934e+008  8.777e-001  1.000e+002  2.475e+000        0
?C      80   1.092210e+008  8.776e-001  1.000e+002  2.069e+001        0
?C      90   1.092508e+008  8.773e-001  1.000e+002  3.935e+001        0
?C     100   1.135455e+008  8.769e-001  1.000e+002  4.877e+000        0
?C     110   1.345190e+008  8.755e-001  1.000e+002  1.686e+006        0
?C     120   6.930306e+010  8.753e-001  1.000e+002  9.316e+000        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =  6.93030624814305e+010
?CFinal feasibility error (abs / rel) =   8.75e-001 / 4.49e-001
?CFinal optimality error  (abs / rel) =   1.00e+002 / 1.00e+000
?C# of iterations                     =        120 
?C# of CG iterations                  =        236 
?C# of function evaluations           =        302
?C# of gradient evaluations           =        122
?C# of Hessian evaluations            =        121
?CTotal program time (secs)           =       0.075 (     0.063 CPU time)
?CTime spent in evaluations (secs)    =       0.009
?C
?C==============================================================================
                                                                               =
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 18
display_start
E x e c u t i o n


----   2125 VARIABLE V_shunt.L  number of shunt steps switched on

                      ( ALL       0.000 )

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 19
display_start
Equation Listing    SOLVE acopf Using RMINLP From line 2137


---- c_LineIrij  =E=  Real current flowing from bus i into bus j along line c

c_LineIrij(7,13,1)..  - 6.63862552623661*V_real(7) + 6.63862552623661*V_real(13)
     
      + 313.704807357325*V_imag(7) + 13.6001926426748*V_imag(13)
     
      + V_LineIr(7,13,1) =E= 0 ;
     
      (LHS = -9.1568086446614E-11, INFES = 9.1568086446614E-11 ****)
     
c_LineIrij(13,18,1)..  - 4.02339647187849*V_real(13)
     
      + 4.02339647187849*V_real(18) + 531.810942422891*V_imag(13)
     
      + 8.24255757710903*V_imag(18) + V_LineIr(13,18,1) =E= 0 ;
     
      (LHS = -1.84312209938753E-9, INFES = 1.84312209938753E-9 ****)
     
c_LineIrij(13,54,1)..  - 10.2144689540205*V_real(13)
     
      + 10.2144689540205*V_real(54) + 191.82376938368*V_imag(13)
     
      + 20.92448061632*V_imag(54) + V_LineIr(13,54,1) =E= 0 ;
     
      (LHS = -2.35125252601165E-10, INFES = 2.35125252601165E-10 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIrji  =E=  Real  current flowing from bus j into bus i along line c

c_LineIrji(7,13,1)..  6.63862552623661*V_real(7) - 6.63862552623661*V_real(13)
     
      + 13.6001926426748*V_imag(7) + 313.704807357325*V_imag(13)
     
      + V_LineIr(13,7,1) =E= 0 ;
     
      (LHS = -6.31917629334566E-10, INFES = 6.31917629334566E-10 ****)
     
c_LineIrji(13,18,1)..  4.02339647187849*V_real(13) - 4.02339647187849*V_real(18)
     
      + 8.24255757710903*V_imag(13) + 531.810942422891*V_imag(18)
     
      + V_LineIr(18,13,1) =E= 0 ;
     
      (LHS = -2.49532394747121E-10, INFES = 2.49532394747121E-10 ****)
     
c_LineIrji(13,54,1)..  10.2144689540205*V_real(13) - 10.2144689540205*V_real(54)
     
      + 20.92448061632*V_imag(13) + 191.82376938368*V_imag(54)
     
      + V_LineIr(54,13,1) =E= 0 ;
     
      (LHS = 2.9251046029799E-12, INFES = 2.9251046029799E-12 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqij  =E=  Reactive current  flowing from bus i into bus j along line
                      c

c_LineIqij(7,13,1)..  - 313.704807357325*V_real(7) - 13.6001926426748*V_real(13)
     
      - 6.63862552623661*V_imag(7) + 6.63862552623661*V_imag(13)
     
      + V_LineIq(7,13,1) =E= 0 ;
     
      (LHS = 1.88987270277607E-10, INFES = 1.88987270277607E-10 ****)
     
c_LineIqij(13,18,1)..  - 531.810942422891*V_real(13)
     
      - 8.24255757710903*V_real(18) - 4.02339647187849*V_imag(13)
     
      + 4.02339647187849*V_imag(18) + V_LineIq(13,18,1) =E= 0 ;
     
      (LHS = 1.90752302842156E-10, INFES = 1.90752302842156E-10 ****)
     
c_LineIqij(13,54,1)..  - 191.82376938368*V_real(13) - 20.92448061632*V_real(54)
     
      - 10.2144689540205*V_imag(13) + 10.2144689540205*V_imag(54)
     
      + V_LineIq(13,54,1) =E= 0 ;
     
      (LHS = 2.48157050464215E-11, INFES = 2.48157050464215E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_LineIqji  =E=  Reactive current flowing from bus j into bus i along line 
                      c

c_LineIqji(7,13,1)..  - 13.6001926426748*V_real(7) - 313.704807357325*V_real(13)
     
      + 6.63862552623661*V_imag(7) - 6.63862552623661*V_imag(13)
     
      + V_LineIq(13,7,1) =E= 0 ;
     
      (LHS = 6.63646915199934E-11, INFES = 6.63646915199934E-11 ****)
     
c_LineIqji(13,18,1)..  - 8.24255757710903*V_real(13)
     
      - 531.810942422891*V_real(18) + 4.02339647187849*V_imag(13)
     
      - 4.02339647187849*V_imag(18) + V_LineIq(18,13,1) =E= 0 ;
     
      (LHS = 4.27145430137443E-10, INFES = 4.27145430137443E-10 ****)
     
c_LineIqji(13,54,1)..  - 20.92448061632*V_real(13) - 191.82376938368*V_real(54)
     
      + 10.2144689540205*V_imag(13) - 10.2144689540205*V_imag(54)
     
      + V_LineIq(54,13,1) =E= 0 ;
     
      (LHS = 1.07742703647773E-11, INFES = 1.07742703647773E-11 ****)
     
REMAINING 3 ENTRIES SKIPPED


---- c_BalanceP_nosolar  =E=  Balance of real power for bus without solar

c_BalanceP_nosolar(7)..  - (3.91761190385951)*V_real(7)
     
      - (4.76822050297412)*V_imag(7) + (0.000454901377638476)*V_LineIr(7,13,1)
     
      + (0.000454901377638476)*V_LineIr(7,149,1)
     
      + (0.00821139730008334)*V_LineIq(7,13,1)
     
      + (0.00821139730008334)*V_LineIq(7,149,1) + V_p_over(7) - V_p_under(7)
      =E= 0.0674 ; (LHS = 0.0509358800164424, INFES = 0.0164641199835577 ****)
     
c_BalanceP_nosolar(18)..  - (3.45684615987361)*V_real(18)
     
      - (2.16038178799422)*V_imag(18) - (0.0022300252937363)*V_LineIr(18,13,1)
     
      + (0.00716904472547946)*V_LineIq(18,13,1) + V_p_over(18) - V_p_under(18)
     
      + V_dem_Load(2) + V_dem_Load(3) + V_dem_Load(4) + V_dem_Load(5) =E= 
     200.076 ; (LHS = 200.012879019289, INFES = 0.063120980710817 ****)
     
c_BalanceP_nosolar(149)..  V_P(1) - (1.81624492546493)*V_real(149)
     
      - (0.365745346082678)*V_LineIr(149,7,1) + V_p_over(149) - V_p_under(149)
      =E= 0 ; (LHS = 0)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceP_solar  =E=  Balance of real power for bus with solar

c_BalanceP_solar(13)..  P_S(13) - (15.3592895496448)*V_real(13)
     
      - (119.81923252172)*V_imag(13) - (0.115739660721904)*V_LineIr(13,7,1)
     
      - (0.115739660721904)*V_LineIr(13,18,1)
     
      - (0.115739660721904)*V_LineIr(13,54,1)
     
      + (0.0122491100796618)*V_LineIq(13,7,1)
     
      + (0.0122491100796618)*V_LineIq(13,18,1)
     
      + (0.0122491100796618)*V_LineIq(13,54,1) + V_p_over(13) - V_p_under(13)
      =E= 0 ; (LHS = 7.41377287338807E-9, INFES = 7.41377287338807E-9 ****)
     
c_BalanceP_solar(57)..  P_S(57) + (20.2286817979292)*V_real(57)
     
      + (10.9931589796618)*V_imag(57) + (0.0563267802481857)*V_LineIr(57,54,1)
     
      - (0.0942419300703621)*V_LineIq(57,54,1) + V_p_over(57) - V_p_under(57)
      =E= 0.1566 ; (LHS = 0.156600005471234, INFES = 5.47123372995895E-9 ****)
     

---- c_BalanceQ_nosolar  =E=  Balance of reactive power for bus without solar

c_BalanceQ_nosolar(7)..  (4.76822050297412)*V_real(7)
     
      - (3.91761190385951)*V_imag(7) + (0.00821139730008334)*V_LineIr(7,13,1)
     
      + (0.00821139730008334)*V_LineIr(7,149,1)
     
      - (0.000454901377638476)*V_LineIq(7,13,1)
     
      - (0.000454901377638476)*V_LineIq(7,149,1) + V_q_over(7) - V_q_under(7)
      =E= 0.02 ; (LHS = 0.0199999977344394, INFES = 2.26556059676475E-9 ****)
     
c_BalanceQ_nosolar(18)..  (2.16038178799422)*V_real(18)
     
      - (3.45684615987361)*V_imag(18) + (0.00716904472547946)*V_LineIr(18,13,1)
     
      + (0.0022300252937363)*V_LineIq(18,13,1) + V_q_over(18) - V_q_under(18)
      =E= 0.0196 ; (LHS = 0.0195999907605902, INFES = 9.23940983790783E-9 ****)
     
c_BalanceQ_nosolar(149)..  (164.075905899705)*V_real(149)
     
      + (0.365745346082678)*V_LineIq(149,7,1) + V_q_over(149) - V_q_under(149)
      =E= 60 ; (LHS = 59.9999996623774, INFES = 3.37622601875864E-7 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- c_BalanceQ_solar  =E=  Balance of reactive power for bus with solar

c_BalanceQ_solar(13)..  Q_S(13) + (119.81923252172)*V_real(13)
     
      - (15.3592895496448)*V_imag(13) + (0.0122491100796618)*V_LineIr(13,7,1)
     
      + (0.0122491100796618)*V_LineIr(13,18,1)
     
      + (0.0122491100796618)*V_LineIr(13,54,1)
     
      + (0.115739660721904)*V_LineIq(13,7,1)
     
      + (0.115739660721904)*V_LineIq(13,18,1)
     
      + (0.115739660721904)*V_LineIq(13,54,1) + V_q_over(13) - V_q_under(13)
      =E= 0 ; (LHS = 0)
     
c_BalanceQ_solar(57)..  Q_S(57) - (10.9931589796618)*V_real(57)
     
      + (20.2286817979292)*V_imag(57) - (0.0942419300703621)*V_LineIr(57,54,1)
     
      - (0.0563267802481857)*V_LineIq(57,54,1) + V_q_over(57) - V_q_under(57)
      =E= 0.0436 ; (LHS = 0.0436000000000004)
     

---- c_Lossijc  =E=  Loss on line c connecting bus i and bus j

c_Lossijc(7,13,1)..  - (0.114268891789042)*V_LineIr(7,13,1)
     
      - (0.0845307987426512)*V_LineIq(7,13,1) + V_Lossijc(7,13,1) =E= 0 ;
     
      (LHS = 0)
     
c_Lossijc(13,18,1)..  - (0.67241914648641)*V_LineIr(13,18,1)
     
      - (5.88721541775631)*V_LineIq(13,18,1) + V_Lossijc(13,18,1) =E= 0 ;
     
      (LHS = 0)
     
c_Lossijc(13,54,1)..  - (0.135785146052615)*V_LineIr(13,54,1)
     
      - (0.828755628258518)*V_LineIq(13,54,1) + V_Lossijc(13,54,1) =E= 0 ;
     
      (LHS = 0)
     
REMAINING 3 ENTRIES SKIPPED


---- c_Lossi  =E=  Loss on lines connected with bus i

c_Lossi(7)..  - V_Lossijc(7,13,1) + V_Lossi(7) =E= 0 ; (LHS = 0)
     
c_Lossi(13)..  - V_Lossijc(13,18,1) - V_Lossijc(13,54,1) + V_Lossi(13) =E= 0 ;
     
      (LHS = 0)
     
c_Lossi(18)..  V_Lossi(18) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_hardupl  =L=  bus voltage constraints upper bound

v_generator_hardupl(7)..  - (0.0553139632549771)*V_real(7)
     
      - (0.998469010770503)*V_imag(7) =L= 1.15 ; (LHS = 0.00822398813734515)
     
v_generator_hardupl(13)..  (0.994446267359423)*V_real(13)
     
      - (0.105245528811967)*V_imag(13) =L= 1.15 ; (LHS = 0.116386037658154)
     
v_generator_hardupl(18)..  (0.297024755802035)*V_real(18)
     
      - (0.954869778787004)*V_imag(18) =L= 1.15 ; (LHS = 0.00750787686943699)
     
REMAINING 4 ENTRIES SKIPPED


---- v_generator_harddownl  =G=  bus voltage constraints lower bound

v_generator_harddownl(7)..  - (0.0553139632549771)*V_real(7)
     
      - (0.998469010770503)*V_imag(7) =G= 0.88 ;
     
      (LHS = 0.00822398813734515, INFES = 0.871776011862655 ****)
     
v_generator_harddownl(13)..  (0.994446267359423)*V_real(13)
     
      - (0.105245528811967)*V_imag(13) =G= 0.88 ;
     
      (LHS = 0.116386037658154, INFES = 0.763613962341846 ****)
     
v_generator_harddownl(18)..  (0.297024755802035)*V_real(18)
     
      - (0.954869778787004)*V_imag(18) =G= 0.88 ;
     
      (LHS = 0.0075078768694371, INFES = 0.872492123130563 ****)
     
REMAINING 4 ENTRIES SKIPPED


---- p_generator_add  =E=  enforces generator participation factor in adjustment
                           from schedule

p_generator_add(1)..  V_P(1) - V_P_system_deviation =E= 0.3 ; (LHS = 0.3)
     

---- c_BalanceP_control_solar  =E=  balance of real power for controllable solar

                NONE


---- c_switchedshuntB_Def  =E=  defines total susceptance from switched shunts a
                                t bus i

                NONE


---- c_shuntSwitchingDef1  =G=  defines number of steps switched - side 1

                NONE


---- c_shuntSwitchingDef2  =G=  defines number of steps switched - side 2

                NONE


---- c_totalShuntSwitchingDef  =G=  defines total number of steps switched

c_totalShuntSwitchingDef..  V_totalShuntSwitching =G= 0 ;
     
      (LHS = 151.290156712065)
     

---- c_shuntSwitchingPenaltyDef1  =G=  defines local shunt switching penalty - s
                                       egment 1

                NONE


---- c_shuntSwitchingPenaltyDef2  =G=  defines local shunt switching penalty - s
                                       egment 2

                NONE


---- c_shuntTotalSwitchingPenalty  =G=  defines penalty incurred by total shunt 
                                        switching

c_shuntTotalSwitchingPenalty..  - 1000000*V_totalShuntSwitching
     
      + V_shuntTotalSwitchingPenalty =G= -5000000 ; (LHS = 146290156.712052)
     

---- c_shuntSwitchingTotalPenaltyDef  =G=   defines total penalty incurrent by s
                                           hunt switching

c_shuntSwitchingTotalPenaltyDef..  - V_shuntTotalSwitchingPenalty
     
      + V_shuntSwitchingTotalPenalty =G= 0 ; (LHS = 98322320.1590621)
     

---- c_previous_solution_penalty_def  =G=  defines previous solution deviation p
                                           enalty

c_previous_solution_penalty_def..  V_previous_solution_penalty =G= 0 ;
     
      (LHS = 2842226.98686797)
     

---- v_generator_addup  =L=  generator voltage constraints added selectively

                NONE


---- v_generator_addlow  =G=  generator voltage constraints added

                NONE


---- c_obj  =E=  Objective function

c_obj..  - 15.6625*P_S(13) - 29.7961*P_S(57) - V_Lossi(7) - V_Lossi(13)
     
      - V_Lossi(18) - V_Lossi(149) - V_Lossi(54) - V_Lossi(57) - V_Lossi(56)
     
      - V_shuntSwitchingTotalPenalty - 0.00053030303030303*V_dem_Load(2)
     
      - 0.00301507537688443*V_dem_Load(3) - 3*V_dem_Load(4)
     
      - 19.0909090909091*V_dem_Load(5) - V_previous_solution_penalty + V_objcost
      =E= 630 ; (LHS = -391543837.364376, INFES = 391544467.364376 ****)
     
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 20
display_start
Column Listing      SOLVE acopf Using RMINLP From line 2137


---- V_P  Real power generation of generator

V_P(1)
                (.LO, .L, .UP, .M = 0, 0.664313455054755, 4.086, NA)
        1       c_BalanceP_nosolar(149)
        1       p_generator_add(1)


---- P_S  real power generation of solar bus

P_S(13)
                (.LO, .L, .UP, .M = 0.03, 0.3, 0.3, NA)
        1       c_BalanceP_solar(13)
      -15.6625  c_obj

P_S(57)
                (.LO, .L, .UP, .M = 0.02, 0.25, 0.25, NA)
        1       c_BalanceP_solar(57)
      -29.7961  c_obj


---- Q_S  reactive power generation of solar bus

Q_S(13)
                (.LO, .L, .UP, .M = -300, -14.0559749406358, 300, NA)
        1       c_BalanceQ_solar(13)

Q_S(57)
                (.LO, .L, .UP, .M = -300, -2.48199926411784, 300, NA)
        1       c_BalanceQ_solar(57)


---- V_real  Real part of bus voltage

V_real(7)
                (.LO, .L, .UP, .M = -1.05, -0.000454901377638476, 1.05, NA)
       -6.6386  c_LineIrij(7,13,1)
        4.7419  c_LineIrij(149,7,1)
        6.6386  c_LineIrji(7,13,1)
       -4.7419  c_LineIrji(149,7,1)
     -313.7048  c_LineIqij(7,13,1)
       -9.7144  c_LineIqij(149,7,1)
      -13.6002  c_LineIqji(7,13,1)
     -448.5126  c_LineIqji(149,7,1)
      (-3.9176) c_BalanceP_nosolar(7)
       (4.7682) c_BalanceQ_nosolar(7)
      (-0.0553) v_generator_hardupl(7)
      (-0.0553) v_generator_harddownl(7)

V_real(13)
                (.LO, .L, .UP, .M = -1.05, 0.115739660721904, 1.05, NA)
        6.6386  c_LineIrij(7,13,1)
       -4.0234  c_LineIrij(13,18,1)
      -10.2145  c_LineIrij(13,54,1)
       -6.6386  c_LineIrji(7,13,1)
        4.0234  c_LineIrji(13,18,1)
       10.2145  c_LineIrji(13,54,1)
      -13.6002  c_LineIqij(7,13,1)
     -531.8109  c_LineIqij(13,18,1)
     -191.8238  c_LineIqij(13,54,1)
     -313.7048  c_LineIqji(7,13,1)
       -8.2426  c_LineIqji(13,18,1)
      -20.9245  c_LineIqji(13,54,1)
     (-15.3593) c_BalanceP_solar(13)
     (119.8192) c_BalanceQ_solar(13)
       (0.9944) v_generator_hardupl(13)
       (0.9944) v_generator_harddownl(13)

V_real(18)
                (.LO, .L, .UP, .M = -1.05, 0.0022300252937363, 1.05, NA)
        4.0234  c_LineIrij(13,18,1)
       -4.0234  c_LineIrji(13,18,1)
       -8.2426  c_LineIqij(13,18,1)
     -531.8109  c_LineIqji(13,18,1)
      (-3.4568) c_BalanceP_nosolar(18)
       (2.1604) c_BalanceQ_nosolar(18)
       (0.297)  v_generator_hardupl(18)
       (0.297)  v_generator_harddownl(18)

REMAINING 4 ENTRIES SKIPPED

---- V_imag  Imaginary part of bus voltage

V_imag(7)
                (.LO, .L, .UP, .M = -1.05, -0.00821139730008334, 1.05, NA)
      313.7048  c_LineIrij(7,13,1)
        9.7144  c_LineIrij(149,7,1)
       13.6002  c_LineIrji(7,13,1)
      448.5126  c_LineIrji(149,7,1)
       -6.6386  c_LineIqij(7,13,1)
        4.7419  c_LineIqij(149,7,1)
        6.6386  c_LineIqji(7,13,1)
       -4.7419  c_LineIqji(149,7,1)
      (-4.7682) c_BalanceP_nosolar(7)
      (-3.9176) c_BalanceQ_nosolar(7)
      (-0.9985) v_generator_hardupl(7)
      (-0.9985) v_generator_harddownl(7)

V_imag(13)
                (.LO, .L, .UP, .M = -1.05, -0.0122491100796618, 1.05, NA)
       13.6002  c_LineIrij(7,13,1)
      531.8109  c_LineIrij(13,18,1)
      191.8238  c_LineIrij(13,54,1)
      313.7048  c_LineIrji(7,13,1)
        8.2426  c_LineIrji(13,18,1)
       20.9245  c_LineIrji(13,54,1)
        6.6386  c_LineIqij(7,13,1)
       -4.0234  c_LineIqij(13,18,1)
      -10.2145  c_LineIqij(13,54,1)
       -6.6386  c_LineIqji(7,13,1)
        4.0234  c_LineIqji(13,18,1)
       10.2145  c_LineIqji(13,54,1)
    (-119.8192) c_BalanceP_solar(13)
     (-15.3593) c_BalanceQ_solar(13)
      (-0.1052) v_generator_hardupl(13)
      (-0.1052) v_generator_harddownl(13)

V_imag(18)
                (.LO, .L, .UP, .M = -1.05, -0.00716904472547946, 1.05, NA)
        8.2426  c_LineIrij(13,18,1)
      531.8109  c_LineIrji(13,18,1)
        4.0234  c_LineIqij(13,18,1)
       -4.0234  c_LineIqji(13,18,1)
      (-2.1604) c_BalanceP_nosolar(18)
      (-3.4568) c_BalanceQ_nosolar(18)
      (-0.9549) v_generator_hardupl(18)
      (-0.9549) v_generator_harddownl(18)

REMAINING 3 ENTRIES SKIPPED

---- V_LineIr  Real current flowing from bus i towards bus j on line c

V_LineIr(7,13,1)
                (.LO, .L, .UP, .M = -INF, 1.97117287888636, +INF, NA)
        1       c_LineIrij(7,13,1)
       (0.0005) c_BalanceP_nosolar(7)
       (0.0082) c_BalanceQ_nosolar(7)
      (-0.1143) c_Lossijc(7,13,1)

V_LineIr(7,149,1)
                (.LO, .L, .UP, .M = -INF, 1.94643902497315, +INF, NA)
        1       c_LineIrji(149,7,1)
       (0.0005) c_BalanceP_nosolar(7)
       (0.0082) c_BalanceQ_nosolar(7)

V_LineIr(13,7,1)
                (.LO, .L, .UP, .M = -INF, 4.72565348831765, +INF, NA)
        1       c_LineIrji(7,13,1)
      (-0.1157) c_BalanceP_solar(13)
       (0.0122) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_LineIq  Reactive current flowing from bus i towards bus j on line c

V_LineIq(7,13,1)
                (.LO, .L, .UP, .M = -INF, 1.45818179649217, +INF, NA)
        1       c_LineIqij(7,13,1)
       (0.0082) c_BalanceP_nosolar(7)
      (-0.0005) c_BalanceQ_nosolar(7)
      (-0.0845) c_Lossijc(7,13,1)

V_LineIq(7,149,1)
                (.LO, .L, .UP, .M = -INF, 3.31003870648195, +INF, NA)
        1       c_LineIqji(149,7,1)
       (0.0082) c_BalanceP_nosolar(7)
      (-0.0005) c_BalanceQ_nosolar(7)

V_LineIq(13,7,1)
                (.LO, .L, .UP, .M = -INF, 36.2750963609381, +INF, NA)
        1       c_LineIqji(7,13,1)
       (0.0122) c_BalanceP_solar(13)
       (0.1157) c_BalanceQ_solar(13)

REMAINING 9 ENTRIES SKIPPED

---- V_Lossijc  Loss on line c connecting bus i and bus j

V_Lossijc(7,13,1)
                (.LO, .L, .UP, .M = -INF, 0.174252506182219, +INF, NA)
        1       c_Lossijc(7,13,1)
       -1       c_Lossi(7)

V_Lossijc(13,18,1)
                (.LO, .L, .UP, .M = -INF, 183.541311466958, +INF, NA)
        1       c_Lossijc(13,18,1)
       -1       c_Lossi(13)

V_Lossijc(13,54,1)
                (.LO, .L, .UP, .M = -INF, 9.35872475130971, +INF, NA)
        1       c_Lossijc(13,54,1)
       -1       c_Lossi(13)

REMAINING 3 ENTRIES SKIPPED

---- V_Lossi  Loss on lines connecting with bus i

V_Lossi(7)
                (.LO, .L, .UP, .M = -INF, 0.174252506182219, +INF, NA)
        1       c_Lossi(7)
       -1       c_obj

V_Lossi(13)
                (.LO, .L, .UP, .M = -INF, 192.900036218268, +INF, NA)
        1       c_Lossi(13)
       -1       c_obj

V_Lossi(18)
                (.LO, .L, .UP, .M = -INF, 0, +INF, NA)
        1       c_Lossi(18)
       -1       c_obj

REMAINING 4 ENTRIES SKIPPED

---- V_p_over  real power over

V_p_over(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(7)

V_p_over(13)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_solar(13)

V_p_over(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
        1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_p_under  real power under

V_p_under(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(7)

V_p_under(13)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_solar(13)

V_p_under(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
       -1       c_BalanceP_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_over  reactive power over

V_q_over(7)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(7)

V_q_over(13)
                (.LO, .L, .UP, .M = 0, 0.00499999608697253, 0.01, NA)
        1       c_BalanceQ_solar(13)

V_q_over(18)
                (.LO, .L, .UP, .M = 0, 0, 0.01, NA)
        1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_q_under  reactive power under

V_q_under(7)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(7)

V_q_under(13)
                (.LO, .L, .UP, .M = 0, 0.00500000391302747, 0.01, NA)
       -1       c_BalanceQ_solar(13)

V_q_under(18)
                (.LO, .L, .UP, .M = 0, 0.01, 0.01, NA)
       -1       c_BalanceQ_nosolar(18)

REMAINING 4 ENTRIES SKIPPED

---- V_totalShuntSwitching  total number of steps switched

V_totalShuntSwitching
                (.LO, .L, .UP, .M = 0, 151.290156712065, +INF, NA)
        1       c_totalShuntSwitchingDef
  -1.000000E+6  c_shuntTotalSwitchingPenalty


---- V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching

V_shuntTotalSwitchingPenalty
                (.LO, .L, .UP, .M = 0, 297580313.424117, +INF, NA)
        1       c_shuntTotalSwitchingPenalty
       -1       c_shuntSwitchingTotalPenaltyDef


---- V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

V_shuntSwitchingTotalPenalty
                (.LO, .L, .UP, .M = 0, 395902633.583179, +INF, NA)
        1       c_shuntSwitchingTotalPenaltyDef
       -1       c_obj


---- V_dem_Load  demand load level

V_dem_Load(2)
                (.LO, .L, .UP, .M = 0, 198, 198, NA)
        1       c_BalanceP_nosolar(18)
       -0.0005  c_obj

V_dem_Load(3)
                (.LO, .L, .UP, .M = 0, 1.99, 1.99, NA)
        1       c_BalanceP_nosolar(18)
       -0.003   c_obj

V_dem_Load(4)
                (.LO, .L, .UP, .M = 0, 0.004, 0.004, NA)
        1       c_BalanceP_nosolar(18)
       -3       c_obj

REMAINING ENTRY SKIPPED

---- V_previous_solution_penalty  total penalty on deviation to previous solutio
                                  n

V_previous_solution_penalty
                (.LO, .L, .UP, .M = 0, 2842226.98686797, +INF, NA)
        1       c_previous_solution_penalty_def
       -1       c_obj


---- V_objcost  Total cost of objective function

V_objcost
                (.LO, .L, .UP, .M = -INF, 7202321.38423451, +INF, 0)
        1       c_obj


---- V_P_system_deviation  system total adjustment from real generation schedule

V_P_system_deviation
                (.LO, .L, .UP, .M = -INF, 0.364313455054755, +INF, NA)
       -1       p_generator_add(1)

GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 21
display_start
Model Statistics    SOLVE acopf Using RMINLP From line 2137


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS           71
BLOCKS OF VARIABLES          20     SINGLE VARIABLES           93
NON ZERO ELEMENTS           306     NON LINEAR N-Z            110
DERIVATIVE POOL              20     CONSTANT POOL              22
CODE LENGTH                 303


GENERATION TIME      =        0.015 SECONDS      3 MB  24.8.5 r61358 WEX-WEI


EXECUTION TIME       =        0.015 SECONDS      3 MB  24.8.5 r61358 WEX-WEI
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 22
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2137


               S O L V E      S U M M A R Y

     MODEL   acopf               OBJECTIVE  V_objcost
     TYPE    RMINLP              DIRECTION  MINIMIZE
     SOLVER  KNITRO              FROM LINE  2137

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      5 Locally Infeasible        
**** OBJECTIVE VALUE       1709898060.0260

 RESOURCE USAGE, LIMIT          0.094        60.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 

Reading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_co
                                            ntrol\Distribution_ACOPF\knitro.opt"
>>  honorbnds = 1
>>  *outlev = 6
>>  *mip_heuristic 1
>>  *mip_heuristic_maxit 1
>>  *mip_method = 2
>>  mip_rounding = 4
>>  *infeastol=  1.0e-10
>>  *ms_enable=1
>>  *feastol=1.0e-7
>>  presolve=1
>>  *algorithm=3
>>  *bar_penaltycons = 2
>>  *bar_feasible = 1
>>  *bar_relaxcons = 3
Finished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_contro
                                                l\Distribution_ACOPF\knitro.opt"
Artelys Knitro Optimizer 10.2.0

=======================================
          Commercial License
         Artelys Knitro 10.2.0
=======================================

Knitro presolve eliminated 8 variables 
and 10 constraints.

datacheck:               0
hessian_no_f:            1
honorbnds:               1
maxtime_real:            60
newpoint:                3
par_concurrent_evals:    0
Knitro changing algorithm from AUTO to 1.
Knitro changing bar_initpt from AUTO to 3.
Knitro changing bar_murule from AUTO to 4.
Knitro changing bar_penaltycons from AUTO to 1.
Knitro changing bar_penaltyrule from AUTO to 2.
Knitro changing bar_switchrule from AUTO to 2.
Knitro changing linesearch from AUTO to 1.
Knitro changing linsolver from AUTO to 2.
Knitro shifted start point to satisfy presolved bounds (26 variables).
Knitro fixing 3 variables eliminated from the presolve.

Problem Characteristics                    ( Presolved)
-----------------------
Objective goal:  Minimize
Number of variables:                    92 (        84)
    bounded below:                       4 (         4)
    bounded above:                       0 (         0)
    bounded below and above:            50 (        50)
    fixed:                               0 (         0)
    free:                               38 (        30)
Number of constraints:                  70 (        60)
    linear equalities:                  32 (        24)
    nonlinear equalities:               20 (        20)
    linear inequalities:                 4 (         2)
    nonlinear inequalities:             14 (        14)
    range:                               0 (         0)
Number of nonzeros in Jacobian:        290 (       273)
Number of nonzeros in Hessian:          77 (        77)

  Iter      Objective      FeasError   OptError    ||Step||    CGits 
--------  --------------  ----------  ----------  ----------  -------
       0   3.987468e+008  1.960e+000
      10   7.698102e+006  1.175e+001  2.964e+001  1.470e-001        0
      20   7.698102e+006  1.175e+001  2.980e+001  1.066e+002        0
      30   7.698103e+006  3.450e+002  2.980e+001  1.589e+004        0
      40   7.698103e+006  4.929e+002  2.980e+001  3.700e+004        0
      50   7.699049e+006  8.533e+002  4.638e+001  9.375e+000        1
      60   7.699086e+006  3.797e+002  2.972e+001  1.062e+001        1
      70   7.699105e+006  3.459e+002  2.891e+001  8.024e+000        0
      80   7.699096e+006  2.693e+002  2.891e+001  4.249e-001        0
      90   7.699087e+006  2.428e+002  2.892e+001  3.848e+000        0
     100   7.699063e+006  2.137e+002  2.896e+001  7.785e+000        1
     110   7.699133e+006  1.665e+001  2.892e+001  1.188e+002        0
     120   1.694376e+008  6.050e+000  7.055e+001  1.189e+008        0
     130   1.709879e+009  8.767e-001  2.930e+001  3.219e+000        0
     140   1.709898e+009  8.754e-001  2.931e+001  3.086e+002        0
     149   1.709898e+009  8.753e-001  2.931e+001  1.234e-003        0

EXIT: Convergence to an infeasible point. Problem appears to be locally
      infeasible. If problem is believed to be feasible, try multistart 
      to search for feasible points, or decrease infeastol.

Final Statistics
----------------
Final objective value               =  1.70989806002598e+009
Final feasibility error (abs / rel) =   8.75e-001 / 4.47e-001
Final optimality error  (abs / rel) =   2.93e+001 / 9.84e-001
# of iterations                     =        149 
# of CG iterations                  =         78 
# of function evaluations           =        174
# of gradient evaluations           =        151
# of Hessian evaluations            =        150
Total program time (secs)           =       0.088 (     0.078 CPU time)
Time spent in evaluations (secs)    =       0.012

===============================================================================


---- EQU c_LineIrij  Real current flowing from bus i into bus j along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .        0.004      
13 .18.1      .         .         .        0.028      
13 .54.1      .         .         .        0.028      
149.7 .1      .         .         .    -1.14E-10      
54 .57.1      .         .         .    -3.506E-4      
54 .56.1      .         .         .    -3.506E-4      

---- EQU c_LineIrji  Real  current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .        0.028      
13 .18.1      .         .         .        0.004      
13 .54.1      .         .         .    -3.506E-4      
149.7 .1      .         .         .        0.004      
54 .57.1      .         .         .       -0.028      
54 .56.1      .         .         .    -1.168E-6      

---- EQU c_LineIqij  Reactive current  flowing from bus i into bus j along line 
                     c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -0.008      
13 .18.1      .         .         .       -0.003      
13 .54.1      .         .         .       -0.003      
149.7 .1      .         .         .        0.001      
54 .57.1      .         .         .       -0.001      
54 .56.1      .         .         .       -0.001      

---- EQU c_LineIqji  Reactive current flowing from bus j into bus i along line c

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .       -0.003      
13 .18.1      .         .         .       -0.007      
13 .54.1      .         .         .       -0.001      
149.7 .1      .         .         .       -0.008      
54 .57.1      .         .         .        0.046      
54 .56.1      .         .         .        0.002      

---- EQU c_BalanceP_nosolar  Balance of real power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.067     0.051     0.067     1.000 INFES
18    200.076   200.013   200.076     1.000 INFES
149      .         .         .    -3.12E-10      
54       .         .         .        0.145      
56       .         .         .    4.9970E-9      

---- EQU c_BalanceP_solar  Balance of real power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .         .         .        0.243      
57     0.157     0.157     0.157     0.490      

---- EQU c_BalanceQ_nosolar  Balance of reactive power for bus without solar

       LOWER     LEVEL     UPPER    MARGINAL

7       0.020     0.020     0.020    -0.555      
18      0.020     0.020     0.020    -0.232      
149    60.000    60.000    60.000    -0.003      
54       .         .         .       -0.247      
56       .         .         .       -0.287      

---- EQU c_BalanceQ_solar  Balance of reactive power for bus with solar

      LOWER     LEVEL     UPPER    MARGINAL

13      .         .         .    -8.04E-14      
57     0.044     0.044     0.044 -1.42E-14      

---- EQU c_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1      .         .         .    4.064E-27      
13 .18.1      .         .         .    5.950E-24      
13 .54.1      .         .         .    2.697E-25      
149.7 .1      .         .         .    2.089E-22      
54 .57.1      .         .         .    -3.95E-27      
54 .56.1      .         .         .    1.267E-27      

---- EQU c_Lossi  Loss on lines connected with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .         .        1.000      
13       .         .         .        1.000      
18       .         .         .        1.000      
149      .         .         .        1.000      
54       .         .         .        1.000      
57       .         .         .        1.000      
56       .         .         .        1.000      

---- EQU v_generator_hardupl  bus voltage constraints upper bound

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.008     1.150 -2.25E-10      
13      -INF      0.116     1.150 -2.49E-10      
18      -INF      0.008     1.150 -2.25E-10      
149     -INF      0.366     1.150 -3.28E-10      
54      -INF      0.005     1.150 -2.24E-10      
57      -INF      0.110     1.150 -2.47E-10      
56      -INF      0.006     1.150 -2.25E-10      

---- EQU v_generator_harddownl  bus voltage constraints lower bound

       LOWER     LEVEL     UPPER    MARGINAL

7       0.880     0.008     +INF      1.000 INFES
13      0.880     0.116     +INF      1.000 INFES
18      0.880     0.008     +INF      1.000 INFES
149     0.880     0.366     +INF      1.000 INFES
54      0.880     0.005     +INF      1.000 INFES
57      0.880     0.110     +INF      1.000 INFES
56      0.880     0.006     +INF      1.000 INFES

---- EQU p_generator_add  enforces generator participation factor in adjustment 
                          from schedule

     LOWER     LEVEL     UPPER    MARGINAL

1     0.300     0.300     0.300      EPS       

---- EQU c_BalanceP_control_solar  balance of real power for controllable solar

                NONE


---- EQU c_switchedshuntB_Def  defines total susceptance from switched shunts at
                               bus i

                NONE


---- EQU c_shuntSwitchingDef1  defines number of steps switched - side 1

                NONE


---- EQU c_shuntSwitchingDef2  defines number of steps switched - side 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_totalSh~      .      283.456     +INF       EPS       

  c_totalShuntSwitchingDef  defines total number of steps switched

---- EQU c_shuntSwitchingPenaltyDef1  defines local shunt switching penalty - se
                                      gment 1

                NONE


---- EQU c_shuntSwitchingPenaltyDef2  defines local shunt switching penalty - se
                                      gment 2

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_shuntTo~ -5.000E+6 2.7846E+8     +INF  9.063E-19      
---- EQU c_shuntSw~      .    6.0771E+8     +INF  4.227E-19      
---- EQU c_previou~      .    5.4028E+8     +INF       EPS       

  c_shuntTotalSwitchingPenalty  defines penalty incurred by total shunt switchin
                                g
  c_shuntSwitchingTotalPenaltyDef   defines total penalty incurrent by shunt swi
                                   tching
  c_previous_solution_penalty_def  defines previous solution deviation penalty

---- EQU v_generator_addup  generator voltage constraints added selectively

                NONE


---- EQU v_generator_addlow  generator voltage constraints added

                NONE


                       LOWER     LEVEL     UPPER    MARGINAL

---- EQU c_obj        630.000   630.000   630.000     1.000      

  c_obj  Objective function

---- VAR V_P  Real power generation of generator

     LOWER     LEVEL     UPPER    MARGINAL

1      .        0.664     4.086       NA       

---- VAR P_S  real power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13     0.030     0.300     0.300       NA       
57     0.020     0.250     0.250       NA       

---- VAR Q_S  reactive power generation of solar bus

      LOWER     LEVEL     UPPER    MARGINAL

13  -300.000   -14.056   300.000       NA       
57  -300.000    -2.482   300.000       NA       

---- VAR V_real  Real part of bus voltage

       LOWER     LEVEL     UPPER    MARGINAL

7      -1.050 -4.549E-4     1.050       NA       
13     -1.050     0.116     1.050       NA       
18     -1.050     0.002     1.050       NA       
149    -1.050     0.366     1.050       NA       
54     -1.050    -0.005     1.050       NA       
57     -1.050    -0.056     1.050       NA       
56     -1.050     0.006     1.050       NA       

---- VAR V_imag  Imaginary part of bus voltage

      LOWER     LEVEL     UPPER    MARGINAL

7     -1.050    -0.008     1.050       NA       
13    -1.050    -0.012     1.050       NA       
18    -1.050    -0.007     1.050       NA       
54    -1.050    -0.001     1.050       NA       
57    -1.050     0.094     1.050       NA       
56    -1.050 4.0773E-6     1.050       NA       

---- VAR V_LineIr  Real current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      1.971     +INF        NA       
7  .149.1     -INF      1.946     +INF        NA       
13 .7  .1     -INF      4.726     +INF        NA       
13 .18 .1     -INF      7.030     +INF        NA       
13 .54 .1     -INF      3.604     +INF        NA       
18 .13 .1     -INF      3.457     +INF        NA       
149.7  .1     -INF      1.816     +INF        NA       
54 .13 .1     -INF     -0.737     +INF        NA       
54 .57 .1     -INF     -1.083     +INF        NA       
54 .56 .1     -INF      0.316     +INF        NA       
57 .54 .1     -INF    -20.229     +INF        NA       
56 .54 .1     -INF      0.083     +INF        NA       

---- VAR V_LineIq  Reactive current flowing from bus i towards bus j on line c

             LOWER     LEVEL     UPPER    MARGINAL

7  .13 .1     -INF      1.458     +INF        NA       
7  .149.1     -INF      3.310     +INF        NA       
13 .7  .1     -INF     36.275     +INF        NA       
13 .18 .1     -INF     61.550     +INF        NA       
13 .54 .1     -INF     21.995     +INF        NA       
18 .13 .1     -INF      2.160     +INF        NA       
149.7  .1     -INF    164.076     +INF        NA       
54 .13 .1     -INF      1.669     +INF        NA       
54 .57 .1     -INF     -2.946     +INF        NA       
54 .56 .1     -INF     -1.346     +INF        NA       
57 .54 .1     -INF    -10.993     +INF        NA       
56 .54 .1     -INF      1.745     +INF        NA       

---- VAR V_Lossijc  Loss on line c connecting bus i and bus j

            LOWER     LEVEL     UPPER    MARGINAL

7  .13.1     -INF      0.174     +INF        NA       
13 .18.1     -INF    183.541     +INF        NA       
13 .54.1     -INF      9.359     +INF        NA       
149.7 .1     -INF   1092.557     +INF        NA       
54 .57.1     -INF      0.200     +INF        NA       
54 .56.1     -INF      0.055     +INF        NA       

---- VAR V_Lossi  Loss on lines connecting with bus i

       LOWER     LEVEL     UPPER    MARGINAL

7       -INF      0.174     +INF        NA       
13      -INF    192.900     +INF        NA       
18      -INF       .        +INF        NA       
149     -INF   1092.557     +INF        NA       
54      -INF      0.255     +INF        NA       
57      -INF       .        +INF        NA       
56      -INF       .        +INF        NA       

---- VAR V_p_over  real power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.010     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.005     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.010     0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_p_under  real power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .         .        0.010       NA       
18       .         .        0.010       NA       
149      .        0.005     0.010       NA       
54       .         .        0.010       NA       
57       .         .        0.010       NA       
56       .        0.005     0.010       NA       

---- VAR V_q_over  reactive power over

       LOWER     LEVEL     UPPER    MARGINAL

7        .         .        0.010       NA       
13       .        0.005     0.010       NA       
18       .         .        0.010       NA       
149      .    7.6511E-8     0.010       NA       
54       .         .        0.010       NA       
57       .        0.005     0.010       NA       
56       .         .        0.010       NA       

---- VAR V_q_under  reactive power under

       LOWER     LEVEL     UPPER    MARGINAL

7        .        0.010     0.010       NA       
13       .        0.005     0.010       NA       
18       .        0.010     0.010       NA       
149      .        0.010     0.010       NA       
54       .        0.010     0.010       NA       
57       .        0.005     0.010       NA       
56       .        0.010     0.010       NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_totalSh~      .      283.456     +INF        NA       
---- VAR V_shuntTo~      .    5.6191E+8     +INF        NA       
---- VAR V_shuntSw~      .    1.1696E+9     +INF        NA       

  V_totalShuntSwitching  total number of steps switched
  V_shuntTotalSwitchingPenalty  penalty incurred by total shunt switching
  V_shuntSwitchingTotalPenalty  total penalty incurrent by shunt switching

---- VAR V_dem_Load  demand load level

     LOWER     LEVEL     UPPER    MARGINAL

2      .      198.000   198.000       NA       
3      .        1.990     1.990       NA       
4      .        0.004     0.004       NA       
5      .        0.001     0.001       NA       

                       LOWER     LEVEL     UPPER    MARGINAL

---- VAR V_previou~      .    5.4028E+8     +INF        NA       
---- VAR V_objcost      -INF  1.7099E+9     +INF       .         
---- VAR V_P_syste~     -INF      0.364     +INF        NA       

  V_previous_solution_penalty  total penalty on deviation to previous solution
  V_objcost  Total cost of objective function
  V_P_system_deviation  system total adjustment from real generation schedule


**** REPORT SUMMARY :        0     NONOPT
                             9 INFEASIBLE (INFES)
                    SUM      5.622
                    MAX      0.875
                    MEAN     0.625
                             0  UNBOUNDED
                             0     ERRORS
                            62  PROJECTED
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 23
display_start
Solution Report     SOLVE acopf Using RMINLP From line 2137


**** SOLVER STATUS FILE LISTED BELOW
=C
=CKNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=C
=0KNITRO           24.8.5 r61358 Released May 10, 2017 WEI x86 64bit/MS Windows 
=1
=2
=1
=CReading parameter(s) from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_
                                          control\Distribution_ACOPF\knitro.opt"
=C>>  honorbnds = 1
=C>>  *outlev = 6
=C>>  *mip_heuristic 1
=C>>  *mip_heuristic_maxit 1
=C>>  *mip_method = 2
=C>>  mip_rounding = 4
=C>>  *infeastol=  1.0e-10
=C>>  *ms_enable=1
=C>>  *feastol=1.0e-7
=C>>  presolve=1
=C>>  *algorithm=3
=C>>  *bar_penaltycons = 2
=C>>  *bar_feasible = 1
=C>>  *bar_relaxcons = 3
=CFinished reading from "C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_cont
                                              rol\Distribution_ACOPF\knitro.opt"
=2
=CArtelys Knitro Optimizer 10.2.0
=9?
?C
?C=======================================
?C          Commercial License
?C         Artelys Knitro 10.2.0
?C=======================================
?C
?CKnitro presolve eliminated 8 variables 
?Cand 10 constraints.
?C
?Cdatacheck:               0
?Chessian_no_f:            1
?Chonorbnds:               1
?Cmaxtime_real:            60
?Cnewpoint:                3
?Cpar_concurrent_evals:    0
?CKnitro changing algorithm from AUTO to 1.
?CKnitro changing bar_initpt from AUTO to 3.
?CKnitro changing bar_murule from AUTO to 4.
?CKnitro changing bar_penaltycons from AUTO to 1.
?CKnitro changing bar_penaltyrule from AUTO to 2.
?CKnitro changing bar_switchrule from AUTO to 2.
?CKnitro changing linesearch from AUTO to 1.
?CKnitro changing linsolver from AUTO to 2.
?CKnitro shifted start point to satisfy presolved bounds (26 variables).
?CKnitro fixing 3 variables eliminated from the presolve.
?C
?CProblem Characteristics                    ( Presolved)
?C-----------------------
?CObjective goal:  Minimize
?CNumber of variables:                    92 (        84)
?C    bounded below:                       4 (         4)
?C    bounded above:                       0 (         0)
?C    bounded below and above:            50 (        50)
?C    fixed:                               0 (         0)
?C    free:                               38 (        30)
?CNumber of constraints:                  70 (        60)
?C    linear equalities:                  32 (        24)
?C    nonlinear equalities:               20 (        20)
?C    linear inequalities:                 4 (         2)
?C    nonlinear inequalities:             14 (        14)
?C    range:                               0 (         0)
?CNumber of nonzeros in Jacobian:        290 (       273)
?CNumber of nonzeros in Hessian:          77 (        77)
?C
?C  Iter      Objective      FeasError   OptError    ||Step||    CGits 
?C--------  --------------  ----------  ----------  ----------  -------
?C       0   3.987468e+008  1.960e+000
?C      10   7.698102e+006  1.175e+001  2.964e+001  1.470e-001        0
?C      20   7.698102e+006  1.175e+001  2.980e+001  1.066e+002        0
?C      30   7.698103e+006  3.450e+002  2.980e+001  1.589e+004        0
?C      40   7.698103e+006  4.929e+002  2.980e+001  3.700e+004        0
?C      50   7.699049e+006  8.533e+002  4.638e+001  9.375e+000        1
?C      60   7.699086e+006  3.797e+002  2.972e+001  1.062e+001        1
?C      70   7.699105e+006  3.459e+002  2.891e+001  8.024e+000        0
?C      80   7.699096e+006  2.693e+002  2.891e+001  4.249e-001        0
?C      90   7.699087e+006  2.428e+002  2.892e+001  3.848e+000        0
?C     100   7.699063e+006  2.137e+002  2.896e+001  7.785e+000        1
?C     110   7.699133e+006  1.665e+001  2.892e+001  1.188e+002        0
?C     120   1.694376e+008  6.050e+000  7.055e+001  1.189e+008        0
?C     130   1.709879e+009  8.767e-001  2.930e+001  3.219e+000        0
?C     140   1.709898e+009  8.754e-001  2.931e+001  3.086e+002        0
?C     149   1.709898e+009  8.753e-001  2.931e+001  1.234e-003        0
?C
?CEXIT: Convergence to an infeasible point. Problem appears to be locally
?C      infeasible. If problem is believed to be feasible, try multistart 
?C      to search for feasible points, or decrease infeastol.
?C
?CFinal Statistics
?C----------------
?CFinal objective value               =  1.70989806002598e+009
?CFinal feasibility error (abs / rel) =   8.75e-001 / 4.47e-001
?CFinal optimality error  (abs / rel) =   2.93e+001 / 9.84e-001
?C# of iterations                     =        149 
?C# of CG iterations                  =         78 
?C# of function evaluations           =        174
?C# of gradient evaluations           =        151
?C# of Hessian evaluations            =        150
?CTotal program time (secs)           =       0.088 (     0.078 CPU time)
?CTime spent in evaluations (secs)    =       0.012
?C
?C==============================================================================
                                                                               =
?C
?9=
**** SOLVER STATUS FILE LISTED ABOVE
GAMS 24.8.5  r61358 Released May 10, 2017 WEX-WEI x86 64bit/MS Windows 10/06/17 13:38:31 Page 24
display_start
E x e c u t i o n


----   2204 PARAMETER TotalLoss            =     1285.887   Total Loss of all th
                                                           e lines
            PARAMETER infeas               =        9.000  Number of infeasibili
                                                           ties from model solve

----   2268 PARAMETER Pmax  gen maximum real power output

1 4.086


----   2268 PARAMETER Pmin  gen minimum real power output

                      ( ALL       0.000 )


----   2268 PARAMETER ratio  transformer tap ratio

                  1

7  .13        1.000
7  .149       1.000
13 .7         1.000
13 .18        1.000
13 .54        1.000
18 .13        1.000
149.7         1.000
54 .13        1.000
54 .57        1.000
54 .56        1.000
57 .54        1.000
56 .54        1.000


----   2268 PARAMETER switchedShuntB_init  initial value of switched shunt susce
                                           ptance

                      ( ALL       0.000 )


----   2268 VARIABLE V_dem_Load.L  demand load level

2 198.000,    3   1.990,    4   0.004,    5   0.001


----   2268 VARIABLE V_switchedshuntB.L  total susceptance from switched shunts 
                                         connected to bus i

                      ( ALL       0.000 )


----   2268 VARIABLE V_P.L  Real power generation of generator

1 0.664


----   2268 VARIABLE V_P.Up (+INF) Real power generation of generator

1 4.086


----   2268 VARIABLE V_P.Lo (-INF) Real power generation of generator

1 0.000


----   2268 VARIABLE V_Q.L  Reactive power generation of generator

1 -60.000


----   2268 VARIABLE V_Q.Up (+INF) Reactive power generation of generator

1 -60.000


----   2268 VARIABLE V_Q.Lo (-INF) Reactive power generation of generator

1 -60.000


----   2268 PARAMETER Qmax  gen maximum reactive power output

1 60.000


----   2268 PARAMETER Qmin  gen minimum reactive power output

1 -60.000


**** REPORT FILE SUMMARY

report_file C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distribut
            ion_ACOPF\report.txt


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.8.5 r61358 WEX-WEI


USER: Small MUD - 5 User License                     G170430:2356CN-WIN
      Pacific Northwest National Laboratory                     DC12422


**** FILE SUMMARY

Input      C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\iv_acopf_reformulation_lop_adj.gms
Output     C:\Users\kexi955\SyncDrive\PNNL_Project\Trasactive_control\Distributi
           on_ACOPF\iv_acopf_reformulation_lop_adj.lst
